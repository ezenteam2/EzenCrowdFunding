(window.webpackJsonp=window.webpackJsonp||[]).push([[2],Array(42).concat([function(e,t,n){"use strict";var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=n(45),u=n(65),h=n(221),d=n(39),p=n.n(d),m=n(38),f=n.n(m),g=n(44),v=n.n(g),E=n(40),T=n.n(E),I=function(e){function t(e){var n;return a()(this,t),n=p()(this,f()(t).call(this)),c()(v()(n),"actionType",l.a.ACTION_GROUP),c()(v()(n),"changeDesign",function(){return!0}),c()(v()(n),"commitAction",function(){}),c()(v()(n),"recycle",function(){}),c()(v()(n),"rollbackAction",function(){}),n.actionTime=e,n}return T()(t,e),t}(l.b),_=n(3),y=n(243),L=n(386),O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a()(this,e),c()(this,"startTime",0),c()(this,"result",[]),this.name=t}return o()(e,[{key:"start",value:function(){return this.startTime=e.getCurrentTime(),this.result=[],this}},{key:"split",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.startTime<=0)throw new Error("start 안됨");return this.result.push({memo:t,time:e.getCurrentTime()-this.startTime}),this}},{key:"report",value:function(){var e="=== ".concat(this.name," stop watch result ===");return this.result.forEach(function(t){e+="\n".concat(t.time/1e3," sec :\t").concat(t.memo)}),console.log(e),e}}],[{key:"getCurrentTime",value:function(){return(new Date).getTime()}}]),e}(),S=n(86),P=n(102);n.d(t,"a",function(){return k});var k=function(){function e(){a()(this,e),c()(this,"_zoomScale",1),c()(this,"pageEditScale",1),c()(this,"_renderPageIdx",0),c()(this,"maxPageIdx",0),c()(this,"actionQ",[]),c()(this,"redoQ",[]),c()(this,"activeItems",[]),c()(this,"changeDesign",!1),c()(this,"isBlankSave",!1),c()(this,"editMode",h.a.DEFAULT_MODE),c()(this,"grouping",!1),c()(this,"showGuideline",!1),c()(this,"lockGuideline",!1),c()(this,"continueActionQ",!0),c()(this,"size",{canvasWidth:0,canvasHeight:0,pageWidth:0,pageHeight:0,pageOffsetX:0,pageOffsetY:0,pageDeltaOffsetX:0,pageDeltaOffsetY:0}),c()(this,"mouseAction",{mode:u.a.MODE_NONE,offsetX:0,offsetY:0,baseX:0,baseY:0}),c()(this,"editorViewMode",h.b.HARD_FIXED),c()(this,"pageMode",h.c.SCROLL),c()(this,"env",{debug:!1,adminMode:!1,devMode:!1,browser:null,memo:"",theme:y.a.DEFAULT}),c()(this,"handlerOffsetX",0),c()(this,"handlerOffsetY",0),this.env.browser=_.BrowserChecker.getBrowserEnvironment(),this.env.memo&&console.info("StoreEnvironment",this.env),this.version="1.2.5"}return o()(e,[{key:"renderPageIdx",get:function(){return this._renderPageIdx},set:function(e){e!==this._renderPageIdx&&(this._renderPageIdx=e,this.renderer.canvasRenderer&&this.renderer.canvasRenderer.updateRenderPage&&this.renderer.canvasRenderer.updateRenderPage(this._renderPageIdx))}}]),o()(e,[{key:"renderDebug",value:function(){try{if(this.env.debug){var t=$("#appDebug");0===t.length&&(t=$('<div id="appDebug"></div>'),$("#canvas").prepend(t));var n=$("#appEventQLog");0===n.length&&(n=$('<div id="appEventQLog"></div>'),t.prepend(n)),n.html(this.actionQ.reduce(function(e,t,n){return"<p>".concat(n+1," : ").concat(t[0].actionType,"</p>").concat(e)},"")),this.config&&this.user&&n.prepend("<p>".concat(this.config.partnerId," | ").concat(this.user.userId,"</p>"));var i=$("#appStatus");0===i.length&&(i=$('<div id="appStatus"></div>'),t.prepend(i));var a=this.meta.pages[this.renderPageIdx].sheetSize;i.html("\n            <p>페이지정보 : ".concat(this.renderPageIdx+1," / ").concat(this.maxPageIdx+1,"</p>\n            <p>에디터 사이즈(px) : ").concat(this.size.canvasWidth," x ").concat(this.size.canvasHeight,"</p>\n            <p>페이지 사이즈(px) : ").concat(this.size.pageWidth," x ").concat(this.size.pageHeight,"  -  r: ").concat(this.size.pageHeight/this.size.pageWidth,"</p>\n            <p>로드된 디자인 스킨사이즈 : ").concat(a.width," x ").concat(a.height," - r : ").concat(a.height/a.width,"</p>\n            <p>상품사이즈(페이지 사이즈와 동일비율) : </p>\n        "));var r=$("#redoCount");if(0===r.length){var o=document.createElement("span");o.id="redoCount",r=$(o),$("#btnRedo").append(r)}r.text(e.instance.redoQ.length);var s=$("#eventActionCount");if(0===s.length){var c=document.createElement("span");c.id="eventActionCount",s=$(c),$("#btnShowActionList").append(s)}s.text(e.instance.actionQ.length);document.body.setAttribute("data-debug","true")}else document.body.removeAttribute("data-debug")}catch(e){}}},{key:"rollback",value:function(){var t=this.actionQ.pop();if(t){this.redoQ.push(t);for(var n=t.length-1;n>=0;n--)t[n].rollback(e.instance.meta,e.instance,e.instance.renderer);if(this.renderDebug(),e.actionCompleteNoti(t[0]),this.renderer.canvasRenderer&&this.renderer.canvasRenderer.printout){var i=this.activeItems.length>0?this.activeItems:null;e.dispatch(new S.d(i))}}}},{key:"redo",value:function(){var t=this.redoQ.pop();if(t){var n=!0,i=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;e.dispatchAction(s,!1)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}e.actionCompleteNoti(t[0])}this.renderDebug()}},{key:"clear",value:function(){this.renderPageIdx=0,this.activeItems=[],this.zoomScale=1,this.pageEditScale=1,this.maxPageIdx=0,this.meta=null}},{key:"clearQ",value:function(){this.actionQ=[],this.redoQ=[]}},{key:"updatePageScrollOffset",value:function(){if(0===this.renderPageIdx)e.pageScrollOffset=0;else{var t=this.pageController.getPageRenderer(this.meta.pages[0]).element.offsetTop,n=this.pageController.getPageRenderer(this.meta.pages[this.renderPageIdx]).element.offsetTop;e.pageScrollOffset=n-t}}},{key:"getPageScrollOffset",value:function(){return this.updatePageScrollOffset(),e.pageScrollOffset}},{key:"getCurrentPageElement",value:function(){return this.pageController.getPageRenderer(this.meta.pages[this.renderPageIdx]).element}},{key:"zoomScale",get:function(){return this._zoomScale},set:function(e){this._zoomScale=e}}],[{key:"dispatch",value:function(t){e.dispatchAction(t,!0)}},{key:"dispatchAction",value:function(t,n){if(!e.isCropMode()||t.isPossibleInCropMode){if(t.changeDesign()&&(this.instance.changeDesign=!0),!t.doSaveQueue)return t.commit(e.instance.meta,e.instance,e.instance.renderer),t.recycle(),void this.instance.renderDebug();var i=e.instance,a=i.actionQ[i.actionQ.length-1],r=!1;if(a&&(i.grouping||i.continueActionQ&&a[a.length-1].isActionGroupEquals(t)&&t.actionType!==l.a.ACTION_GROUP)){var o=a.find(function(e){return e instanceof I});o&&t instanceof I&&o.actionTime===t.actionTime&&(i.grouping=!1),(r=a[0].concat&&a[0].concat(t))||a.push(t)}else{if(t.actionType===l.a.ACTION_GROUP&&(i.grouping=!0),i.actionQ.push([t]),n){for(var s=0,c=i.redoQ.length;s<c;s++){var u=i.redoQ.pop();if(u)for(var h=0,d=u.length;h<d;h++)u.pop().recycle()}i.redoQ=[]}this.instance.renderDebug()}t.commit(i.meta,i,i.renderer),r&&t.recycle(),e.actionCompleteNoti(t),i.continueActionQ=!0}else console.log("크롭모드에서 수행 불가능한 기능입니다.")}},{key:"checkIncludePhotoItem",value:function(){var t=e.instance,n=!1;return t.meta.pages.forEach(function(e){return e.getAllSingleItems().forEach(function(e){e.isPhotoItem()&&(n=!0)})}),n}},{key:"setMetaData",value:function(t,n,i){e.changeMeta(t);var a=e.instance;n&&(a.renderer=n,a.pageController=new L.a(n.canvasRenderer)),i&&this.setUnicornParam(i)}},{key:"changeMeta",value:function(t){var n=e.instance;n.clear(),n.meta=t,n.maxPageIdx=t.pages.length-1}},{key:"setUnicornParam",value:function(t){var n=e.instance;n.config=t.config,n.option=t.option,n.user=t.user,n.designProject=t.designProject,n.launcherOption=t.launcherOption}},{key:"getEnv",value:function(){return this.instance.env}},{key:"isIOS",value:function(){var e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"];if(navigator.platform)for(;e.length;)if(navigator.platform===e.pop())return!0;return!1}},{key:"isMobileMode",value:function(){return P.a.isMobilePortraitSize()}},{key:"addActionListener",value:function(t){e.listeners.push(t)}},{key:"actionCompleteNoti",value:function(e){this.listeners.forEach(function(t){t(e)})}},{key:"groupingAction",value:function(t){var n=(new Date).getTime();e.dispatch(new I(n)),t(),e.dispatch(new I(n)),e.concatLastGroupActions()}},{key:"concatLastGroupActions",value:function(){var t=e.instance.actionQ,n=t[t.length-1],i=n.filter(function(e){return!(e instanceof I)}),a=t[t.length-2];a&&(n[0]instanceof I&&i.forEach(function(e){a.forEach(function(t){t.isActionGroupEquals(e)&&t.concat&&t.concat(e)&&n.splice(n.indexOf(e),1)})}),2===n.length&&n[0]instanceof I&&n[1]instanceof I&&t.splice(t.length-1,1))}},{key:"isCropMode",value:function(){return e.instance.editMode===h.a.CROP_MODE}},{key:"isDefaultMode",value:function(){return e.instance.editMode===h.a.DEFAULT_MODE}},{key:"isSpoidMode",value:function(){return e.instance.editMode===h.a.SPOID_MODE}},{key:"setSpoidMode",value:function(){e.instance.editMode=h.a.SPOID_MODE,e.instance.renderer.setVisibleSpecialBtn(!0)}},{key:"setDefaultMode",value:function(){e.instance.editMode=h.a.DEFAULT_MODE,e.instance.renderer.setVisibleSpecialBtn(!0)}},{key:"setCropMode",value:function(){e.instance.editMode=h.a.CROP_MODE,e.instance.renderer.setVisibleSpecialBtn(!1)}},{key:"cutActionQ",value:function(){this.instance.continueActionQ=!1}},{key:"getContinueActionQ",value:function(){return this.instance.continueActionQ}},{key:"getRenderPageOffset",value:function(e,t){var n=this.instance.meta.pages[this.instance.renderPageIdx];return this.instance.pageController.getPageRenderer(n).getPagePosition(e,t)}}]),e}();c()(k,"pageScrollOffset",0),c()(k,"instance",new k),c()(k,"STOP_WATCH",new O),c()(k,"listeners",[])},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.BASE_PATH="config.common.serverPath.basePath",e.DEFAULT_HOST="config.common.serverPath.defaultHost",e.EDITOR="config.common.serverPath.editor",e.DESIGN_PATH="config.common.serverPath.designPath",e.DESIGN_PATH_UNICORN="config.common.serverPath.designPathUnicorn",e.NOTICE_PATH="config.common.serverPath.noticePath",e.SHARE_HOST="config.common.serverPath.shareHost",e.DESIGN_API_URL="config.common.serverPath.designApi",e.DESIGN_CATEGORY_URL="config.common.serverPath.designCategory",e.DESIGN_CATEGORY_LINK_URL="config.common.serverPath.designCategoryLink",e.DESIGN_COPY_URL="config.common.serverPath.designCopy",e.DESIGN_REPO_HOST="config.common.serverPath.designRepoHost",e.MY_COLLECTION_FILTER_HOST="config.common.serverPath.myCollectionFilterHost",e.MY_COLLECTION_INSERT="config.common.serverPath.myCollectionInsert",e.MY_COLLECTION_DELETE="config.common.serverPath.myCollectionDelete",e.MY_COLLECTION_LIST_BY_REFERENCE_KEY_LIST="config.common.serverPath.myCollectionListByReferenceKeyList",e.TEMPLATE_DESIGN_REPO_HOST="config.common.serverPath.templateDesignRepoHost",e.TEMPLATE_STYLE_REPO_HOST="config.common.serverPath.templateStyleRepoHost",e.LOAD_PHOTO_HOST="config.common.serverPath.loadPhotoHost",e.SVG_HOST="config.common.serverPath.svgHost",e.SVG_TO_IMAGE_API="config.common.serverPath.svgToImage",e.USER_IMAGE_UPLOAD_API="config.common.serverPath.userImageUploadApi",e.IMAGE_PREVIEW_API="config.common.serverPath.imagePreviewApi",e.COMMON_FILE_DOWNLOAD_API="config.common.serverPath.commonFileDownloadApi",e.DOWNLOAD_LOG="config.common.serverPath.downloadLog",e.NOTIFICATION_HOST="config.common.serverPath.notificationHost",e.TEMPLATE_LINK_BIZHOWS="config.common.serverPath.templateLink.bizhows",e.IMAGE_PROCESS_API_BASE="config.common.serverPath.imageProcessApiBase",e.DESIGN_IMP_PREFLIGHT_API="config.common.serverPath.designPreFlightApi",e.DESIGN_IMP_REQUEST_API="config.common.serverPath.designIMPRequestApi",e.DESIGN_IMP_STATUS_API="config.common.serverPath.designStatusApi",e.CATEGORY_API="config.common.serverPath.categoryApi",e.CATEGORY_EDIT_API="config.common.serverPath.categoryEditApi",e.USER_CONFIG_API="config.common.serverPath.userConfigApi",e.CHECK_MY_IDENTITY="config.common.serverPath.account.checkIdentity",e.SIGN_OUT="config.common.serverPath.account.signOut",e.CHANGE_USER_INFO="config.common.serverPath.account.changeInfo",e.CHECK_PASSWORD="config.common.serverPath.account.checkPassword",e.MAKE_PASSWORD="config.common.serverPath.account.makePassword",e.CHECK_EMAIL_EXISTENCE="config.common.serverPath.account.checkEmailExistence",e.AUTH_WITH_MRS_OH="config.common.serverPath.account.authWithMrsOh",e.AUTH_MIRICANVAS="config.common.serverPath.account.authMiricanvas",e.SET_AUTO_LOGIN="config.common.serverPath.account.setAutoLogin",e.SIGN_IN_AS_GOOGLE="config.common.serverPath.account.thirdParty.signInAsGoogle",e.SIGN_IN_AS_BIZHOWS="config.common.serverPath.account.thirdParty.signInAsBizhows",e.SIGN_IN_AS_NAVER="config.common.serverPath.account.thirdParty.signInAsNaver",e.SIGN_IN_AS_KAKAO="config.common.serverPath.account.thirdParty.signInAsKakao",e.SIGN_IN_AS_FACEBOOK="config.common.serverPath.account.thirdParty.signInAsFacebook",e.ADMIN_TEMPLATE_DESIGNER="config.common.serverPath.account.adminTemplateDesigner",e.BIZHOWS_ADMIN_USER="config.common.serverPath.account.bizhowsAdminUser",e.USER_RESOURCES="config.common.serverPath.userResource.userResources",e.USER_NEW_FOLDER="config.common.serverPath.userResource.newFolder",e.USER_FOLDERS="config.common.serverPath.userResource.folders",e.USER_PHOTO_IN_FOLDER="config.common.serverPath.userResource.photoInFolder",e.USER_FOLDER_CHANGE_NAME="config.common.serverPath.userResource.changeFolderName",e.USER_MOVE_PHOTO_TO_FOLDER="config.common.serverPath.userResource.movePhotoToFolder",e.USER_FOLDERS_PHOTOS="config.common.serverPath.userResource.foldersPhotos",e.USER_FOLDERS_PHOTOS_UPDATE_STATUS="config.common.serverPath.userResource.updateStatusFoldersPhotos",e.USER_FOLDERS_PHOTOS_UPDATE_STATUS_ALL="config.common.serverPath.userResource.updateStatusFoldersPhotosAll",e.RESERVE_FILE_KEY="config.common.serverPath.userResource.reserveFileKey",e.UPLOAD_WITH_KEY="config.common.serverPath.userResource.uploadWithKey",e.REMOVE_WITH_KEY="config.common.serverPath.userResource.removeWithKey",e.CHECK_MY_CAPACITY="config.common.serverPath.userResource.checkMyCapacity",e.USER_RESOURCES_FILE_INFO="config.common.serverPath.userResource.fileInfo",e.FILE_INFO="config.common.serverPath.file.info",e.USER_RESOURCES_V0="config.common.serverPath.userResource.userResourcesV0",e.RESERVE_FILE_KEY_V0="config.common.serverPath.userResource.reserveFileKeyV0",e.UPLOAD_WITH_KEY_V0="config.common.serverPath.userResource.uploadWithKeyV0",e.REMOVE_WITH_KEY_V0="config.common.serverPath.userResource.removeWithKeyV0",e.CHECK_MY_CAPACITY_V0="config.common.serverPath.userResource.checkMyCapacityV0",e.USER_RESOURCES_FILE_INFO_V0="config.common.serverPath.userResource.fileInfoV0",e.USER_RESOURCES_COPY="config.common.serverPath.userResource.copy",e.INACTIVE_SHARE_DESIGN_URL="config.common.serverPath.share.inActiveShareDesignUrl",e.INACTIVE_SHARE_DESIGN="config.common.serverPath.share.inActiveShareDesign",e.STICKER_THUMB_HOST="config.common.serverPath.stickerThumbHost",e.STICKER_CATEGORY_URL="config.common.serverPath.stickerCategory",e.STICKER_LIST_URL="config.common.serverPath.stickerList",e.STICKER_API_URL="config.common.serverPath.stickerApi",e.STICKER_UPLOAD_API_URL="config.common.serverPath.stickerUploadApi",e.STICKER_UPDATE_API_URL="config.common.serverPath.stickerUpdateApi",e.STICKER_INCREASE_WORD_WEIGHT_API_URL="config.common.serverPath.stickerKeywordApi",e.STICKER_KEYWORD_UPDATE_API_URL="config.common.serverPath.stickerKeywordUpdateApi",e.STICKER_BACKGROUND_INFO_API_URL="config.common.serverPath.stickerBackgroundInfoApi",e.STICKER_BACKGROUND_INFO_UPDATE_API_URL="config.common.serverPath.stickerBackgroundInfoUpdateApi",e.STICKER_BACKGROUND_INFO_DELETE_API_URL="config.common.serverPath.stickerBackgroundInfoDeleteApi",e.STICKER_CATEGORY_POPUP_BIZHOWS="config.common.serverPath.stickerCategoryPopupBizhows",e.STICKER_CATEGORY_POPUP_SMILECAT="config.common.serverPath.stickerCategoryPopupSmilecat",e.STICKER_EXTERNAL_LIST_URL="config.common.serverPath.externalStickerListApi",e.STICKER_EXTERNAL_DOWNLOAD_REQ_URL="config.common.serverPath.externalStickerApi",e.TYPE_FILTER_MOCK_URL="config.common.serverPath.typeFilter.mockList",e.TYPE_FILTER_IMAGE_URL="config.common.serverPath.typeFilter.imageList",e.TYPE_FILTER_BIZ_TEMPLATE_URL="config.common.serverPath.typeFilter.bizTemplateList",e.TYPE_FILTER_TEMPLATE_URL="config.common.serverPath.typeFilter.templateList",e.TYPE_FILTER_DESIGN_URL="config.common.serverPath.typeFilter.designList",e.TYPE_FILTER_SKIN_URL="config.common.serverPath.typeFilter.skinList",e.TYPE_FILTER_PHOTO_URL="config.common.serverPath.typeFilter.photoList",e.SC_INSTANCE_PATH="config.common.serverPath.smilecat.instance",e.SC_SKIN_PATH="config.common.serverPath.smilecat.skin",e.SC_SKIN_LIST_PATH="config.common.serverPath.smilecat.skinList",e.SC_TEMPLATE_META_PATH="config.common.serverPath.smilecat.templateMeta",e.SC_THEME_META_PATH="config.common.serverPath.smilecat.themeMeta",e.SC_LAYOUT_PATH="config.common.serverPath.smilecat.layout",e.SC_LAYOUT_LIST_PATH="config.common.serverPath.smilecat.layoutList",e.SC_LAYOUT_THUMB_PATH="config.common.serverPath.smilecat.layoutThumb",e.BIZ_INSTANCE_PATH="config.common.serverPath.bizhows.instance",e.BIZ_SKIN_PATH="config.common.serverPath.bizhows.skin",e.BIZ_SKIN_LIST_PATH="config.common.serverPath.bizhows.skinList",e.BIZ_TEMPLATE_META_PATH="config.common.serverPath.bizhows.templateMeta",e.BIZ_THEME_META_PATH="config.common.serverPath.bizhows.themeMeta",e.BIZ_LAYOUT_PATH="config.common.serverPath.bizhows.layout",e.BIZ_LAYOUT_LIST_PATH="config.common.serverPath.bizhows.layoutList",e.BIZ_LAYOUT_THUMB_PATH="config.common.serverPath.bizhows.layoutThumb",e.BIZ_INSERT_TEMPLATE_LINK="config.common.serverPath.bizhows.insertTemplateLink",e.BIZ_DELETE_TEMPLATE_LINK="config.common.serverPath.bizhows.deleteTemplateLink",e.BIZ_LINKED_DESIGN_LIST="config.common.serverPath.bizhows.linkedDesignList",e.BIZ_DESIGN_DETAIL_PAGE="config.common.serverPath.bizhows.designDetailPage",e.TBPE_STICKER_INFO_URL="config.common.serverPath.tbpeStickerInfo",e.TEMPLATE_LIST="config.common.serverPath.template.list",e.TEMPLATE_LIST_ALL_TYPE="config.common.serverPath.template.listAllType",e.TEMPLATE_CREATE="config.common.serverPath.template.create",e.TEMPLATE_FIND_ONE="config.common.serverPath.template.findOne",e.TEMPLATE_UPDATE="config.common.serverPath.template.update",e.TEMPLATE_DELETE="config.common.serverPath.template.delete",e.TEMPLATE_UNLINK_TEMPLATE="config.common.serverPath.template.unlinkTemplate",e.TEMPLATE_BLACKLIST="config.common.serverPath.template.blacklist",e.TEMPLATE_TYPE_URL="config.common.serverPath.template.type",e.TEMPLATE_SIZE="config.common.serverPath.template.size",e.TEMPLATE_PROJECT_CREATE="config.common.serverPath.templateProject.create",e.TEMPLATE_PROJECT_FIND_ONE="config.common.serverPath.templateProject.findOne",e.TEMPLATE_PROJECT_UPDATE="config.common.serverPath.templateProject.update",e.TEMPLATE_PROJECT_DELETE="config.common.serverPath.templateProject.delete",e.TEMPLATE_PROJECT_LIST="config.common.serverPath.templateProject.list",e.TEMPLATE_PROJECT_CREATE_TEMPLATE_PAGE="config.common.serverPath.templateProject.createTemplatePage",e.TEMPLATE_PROJECT_TEMPLATE_PAGE_LIST="config.common.serverPath.templateProject.templatePageList",e.TEMPLATE_PROJECT_CREATE_TEMPLATE="config.common.serverPath.templateProject.createTemplate",e.TEMPLATE_PROJECT_TEMPLATE_LIST="config.common.serverPath.templateProject.templateList",e.TEMPLATE_PAGE_UPDATE="config.common.serverPath.templatePage.update",e.TEMPLATE_PAGE_DELETE="config.common.serverPath.templatePage.delete",e.TEMPLATE_PAGE_DELETE_MULTI="config.common.serverPath.templatePage.deleteMulti",e.TEMPLATE_PAGE_RECOVERY="config.common.serverPath.templatePage.recovery",e.TEMPLATE_PAGE_HISTORY="config.common.serverPath.templatePage.history",e.TEMPLATE_PAGE_FIND_ONE="config.common.serverPath.templatePage.findOne",e.HELP_CENTER_BIZHOWS_CUSTOMER_SERVICE_URL="config.common.serverPath.helpCenter.bizhowsCustomerService",e.HELP_CENTER_COPYRIGHT_INFO_URL="config.common.serverPath.helpCenter.copyrightInfo",e.HELP_CENTER_PRINT_URL="config.common.serverPath.helpCenter.print",e.HELP_CENTER_FAQ_URL="config.common.serverPath.helpCenter.faq",e.HQ_IMAGE="config.common.serverPath.hqImage.process",e.HQ_IMAGE2="config.common.serverPath.hqImage.process2",e.HQ_IMAGE_PROGRESS="config.common.serverPath.hqImage.progress",e.DESIGN_CHECK_ACCESSIBILITY="config.common.serverPath.designCheckEditable",e.DESIGN_CHECK_UPDATABLE="config.common.serverPath.designCheckUpdatable",e.DESIGN_HISTORY_LOG="config.common.serverPath.designHistory.log",e.DESIGN_HISTORY_COPY_REVISION="config.common.serverPath.designHistory.copyRevision",e.DESIGN_HISTORY_OVERWRITE_REVISION="config.common.serverPath.designHistory.overwriteRevision",e.DESIGN_EDIT_LOG="config.common.serverPath.designEditLog.editLog",e.EDITOR_RESOURCE_PATH_DISABLED_ORIGIN_ITEM="config.common.serverPath.editorResourcePath.disabledOriginItem",e.EDITOR_RESOURCE_PATH_NOT_FOUND_ORIGIN_ITEM="config.common.serverPath.editorResourcePath.notFoundOriginItem",e.EDITOR_RESOURCE_PATH_DISABLED_ORIGIN_ITEM_BACKGROUND="config.common.serverPath.editorResourcePath.disabledOriginItemBackground",e.EDITOR_RESOURCE_PATH_DISABLED_USER_IMAGE="config.common.serverPath.editorResourcePath.disabledUserImage",e.EDITOR_RESOURCE_PATH_FETCH_ERROR="config.common.serverPath.editorResourcePath.fetchError",e.DESIGN_PROJECT_CREATE="config.common.serverPath.designProject.create",e.DESIGN_PROJECT_LIST="config.common.serverPath.designProject.list",e.DESIGN_PROJECT_FIND_ONE="config.common.serverPath.designProject.findOne",e.DESIGN_PROJECT_ADD_DESIGN="config.common.serverPath.designProject.addDesign",e.DESIGN_PROJECT_UPDATE="config.common.serverPath.designProject.update",e.DESIGN_PROJECT_CREATE_DESIGN="config.common.serverPath.designProject.createDesign",e.DESIGN_PROJECT_FIND_DESIGN="config.common.serverPath.designProject.findDesign",e.DESIGN_PROJECT_DELETE_DESIGN="config.common.serverPath.designProject.deleteDesign",e.DESIGN_PROJECT_COPY_DESIGN="config.common.serverPath.designProject.copyDesign",e.PUBLIC_DESIGN_VISIBILITY="config.common.serverPath.newShare.getPublicVisibility",e.PUBLIC_DESIGN_VISIBILITY_SETTING="config.common.serverPath.newShare.setPublicShare",e.PRIVATE_DESIGN_VISIBILITY_USER_LIST="config.common.serverPath.newShare.getSharedUserList",e.PRIVATE_DESIGN_VISIBILITY_INVITE_ALL="config.common.serverPath.newShare.inviteList",e.PRIVATE_DESIGN_VISIBILITY_UPDATE_ALL="config.common.serverPath.newShare.updateList",e.PRIVATE_DESIGN_VISIBILITY_REMOVE_ALL="config.common.serverPath.newShare.removeList",e.PRIVATE_DESIGN_VISIBILITY_COPY_DESIGN="config.common.serverPath.newShare.copyDesign",e.PRINTOUT_META_LIST="config.common.serverPath.printout.metaList",e.PRINTOUT_META_SAVE="config.common.serverPath.printout.saveMeta",e.USER_STYLE="tools.text.content.userStyle",e.NONE_SELECT="tools.text.content.noneSelect",e.SUFFIX_SOLID_LINE="tools.text.content.suffixSolidLine",e.SUFFIX_BITMAP_MASK="tools.text.content.suffixBitmapMask",e.SUFFIX_STICKER_FRAME="tools.text.content.suffixStickerFrame",e.SUFFIX_GRADIENT_SUFFIX="tools.text.content.suffixGradient",e.PRESET_ITEM="tools.text.content.preset",e.TEXT_PRESET="tools.text.row.textPreset",e.PAGE_LIST_TITLE="tools.pageListNavigator.listTitle",e.NULL="",e.HEADER_UNDO="header.content.undo",e.HEADER_REDO="header.content.redo",e.HEADER_ACTION_LIST="header.content.actionList",e.HEADER_ITEM_LIST="header.content.itemList",e.HEADER_SETTINGS="header.content.settings",e.HEADER_MESSAGE_BOX="header.content.messageBox",e.HEADER_HELP="header.content.help",e.HEADER_SAVE="header.content.save",e.HEADER_SAVE_MY_LIBRARY="header.content.saveMyLibrary",e.HEADER_SAVE_CART="header.content.saveCart",e.HEADER_DONE_UPDATE="header.content.doneUpdate",e.HEADER_SHARE="header.content.share",e.HEADER_PRESENTATION="header.content.presentation",e.HEADER_DOWNLOAD="header.content.download",e.HEADER_CART="header.content.cart",e.HEADER_WORK_COMPLETE="header.content.workComplete",e.HEADER_DESIGN_HISTORY="header.content.designHistory",e.HEADER_DESIGN_REVERT="header.content.revertDesign",e.HEADER_DESIGN_COPY="header.content.copyThisDesign",e.HEADER_EDIT_SIZE="header.content.editSize",e.HEADER_DESIGN_GUIDE="header.content.designGuide",e.HEADER_PHOTO_GUIDE="header.content.photoGuide",e.HEADER_PAGE_MASK_GUIDE="header.content.pageMaskGuide",e.HEADER_THEME_SET="header.content.themeSet",e.HEADER_ADMIN_MODE="header.content.adminMode",e.HEADER_DEBUG_MODE="header.content.debugMode",e.HEADER_SNAP_MODE="header.content.snapMode",e.HEADER_SAVE_REQUEST="header.content.saveRequest",e.HEADER_SAVE_REQUIRE="header.content.saveRequire",e.HEADER_SAVE_FAILED="header.content.saveFailed",e.HEADER_SAVE_COMPLETE="header.content.saveComplete",e.HEADER_SAVE_TEMP_COMPLETE="header.content.saveTempComplete",e.HEADER_DESIGN_SETTINGS="header.content.designSettings",e.HEADER_MAKE_NEW_DESIGN="header.content.makeNewDesign",e.HEADER_LOAD_DESIGN="header.content.loadDesign",e.HEADER_COPY_DESIGN="header.content.copyDesign",e.HEADER_NEW_PROJECT="header.content.newProject",e.HEADER_MY_SPACE="header.content.mySpace",e.HEADER_COPY_DESIGN_NAME_SUFFIX="header.content.copyDesignNameSuffix",e.HEADER_LOAD_DESIGN_SHORTCUT="header.content.loadDesignShortcut",e.HEADER_SAVE_DESIGN_SHORTCUT="header.content.saveDesignShortcut",e.HEADER_NEW_DESIGN_SHORTCUT="header.content.newDesignShortcut",e.HEADER_RESIZE_SHEET="header.content.resizeSheet",e.HEADER_GUIDE_LINE="header.content.guideLine",e.HEADER_SETTING="header.content.setting",e.EDITOR_SETTING="header.content.editorSetting",e.HEADER_TOOLTIP_UNDO_SHORTCUT="header.tooltip.undo.shortcut",e.HEADER_TOOLTIP_REDO_SHORTCUT="header.tooltip.redo.shortcut",e.HEADER_TOOLTIP_LOCK_TITLE="header.tooltip.lock.title",e.HEADER_TOOLTIP_UNLOCK_TITLE="header.tooltip.unlock.title",e.HEADER_TOOLTIP_DELETE_TITLE="header.tooltip.delete.title",e.HEADER_TOOLTIP_PROJECTNAME_TITLE="header.tooltip.projectName.title",e.HEADER_TOOLTIP_PRESENT_TITLE="header.tooltip.present.title",e.HEADER_TOOLTIP_PRESENT_SETTING_TITLE="header.tooltip.present_setting.title",e.HEADER_TOOLTIP_PRESENT_EXIT_TITLE="header.tooltip.present_exit.title",e.HEADER_GUIDELINE_SHOW="header.guideline.show",e.HEADER_GUIDELINE_LOCK="header.guideline.lock",e.USER_ALERT="header.user.alert",e.USER_COLLECTION="header.user.collection",e.USER_MY_SPACE="header.user.mySpace",e.USER_EDIT_PROFILE="header.user.editProfile",e.USER_SIGN_IN="header.user.signIn",e.USER_SIGN_OUT="header.user.signOut",e.USER_TOOLTIP_USERACCOUNT_TITLE="header.tooltip.userAccount.title",e.USER_TOOLTIP_EDITPROFILE_TITLE="header.tooltip.editProfile.title",e.USER_MESSAGE_TITLE="header.user.message.title",e.USER_MESSAGE_EXP="header.user.message.exp",e.USER_MESSAGE_ITEM="header.user.message.item",e.USER_MESSAGE_COLLECTION="header.user.message.collection",e.USER_MESSAGE_DESIGN="header.user.message.design",e.USER_MESSAGE_UNKNOWN="header.user.message.unknown",e.USER_MESSAGE_LT_HOUR="header.user.ltHour",e.USER_MESSAGE_LT_DAY="header.user.ltDay",e.USER_MESSAGE_LT_MONTH="header.user.ltMonth",e.USER_MESSAGE_LT_YEAR="header.user.ltYear",e.USER_MESSAGE_GT_YEAR="header.user.gtYear",e.TOOLS_COMMON_SAVE_STYLE="tools.common.content.saveStyle",e.TOOLS_COMMON_SAVE_MOCKUP="tools.common.content.saveMockUp",e.TOOLS_COMMON_SAVE_DEFAULT_TEXT="tools.common.content.saveDefaultText",e.TOOLS_COMMON_CUT="tools.common.content.cut",e.TOOLS_COMMON_COPY="tools.common.content.copy",e.TOOLS_COMMON_PASTE="tools.common.content.paste",e.TOOLS_COMMON_DELETE="tools.common.content.delete",e.TOOLS_COMMON_SELECT_NONE="tools.common.content.selectNone",e.TOOLS_COMMON_SELECT_LOCK="tools.common.content.selectLock",e.TOOLS_COMMON_SELECT_MULTI="tools.common.content.selectMulti",e.TOOLS_COMMON_HYPERLINK="tools.common.content.hyperlink",e.TOOLS_COMMON_HYPERLINK_DESC="tools.common.content.hyperlinkDesc",e.TOOLS_COMMON_HYPERLINK_ACCEPT="tools.common.content.hyperlinkAccept",e.TOOLS_COMMON_HYPERLINK_PLACEHOLDER="tools.common.content.hyperlinkPlaceholder",e.TOOLS_COMMON_FLIP="tools.common.content.flip",e.TOOLS_COMMON_FLIP_H="tools.common.content.flipH",e.TOOLS_COMMON_FLIP_V="tools.common.content.flipV",e.TOOLS_COMMON_ALIGN="tools.common.content.align",e.TOOLS_COMMON_ALIGN_LEFT="tools.common.content.alignLeft",e.TOOLS_COMMON_ALIGN_CENTER="tools.common.content.alignCenter",e.TOOLS_COMMON_ALIGN_RIGHT="tools.common.content.alignRight",e.TOOLS_COMMON_ALIGN_TOP="tools.common.content.alignTop",e.TOOLS_COMMON_ALIGN_MIDDLE="tools.common.content.alignMiddle",e.TOOLS_COMMON_ALIGN_BOTTOM="tools.common.content.alignBottom",e.TOOLS_COMMON_ALIGN_DISTRIBUTE_V="tools.common.content.distributeVertical",e.TOOLS_COMMON_ALIGN_DISTRIBUTE_H="tools.common.content.distributeHorizon",e.TOOLS_COMMON_ORDER="tools.common.content.order",e.TOOLS_COMMON_OPACITY="tools.common.content.opacity",e.TOOLS_COMMON_LOCK="tools.common.content.lock",e.TOOLS_COMMON_UNLOCK="tools.common.content.unlock",e.TOOLS_COMMON_GROUP="tools.common.content.group",e.TOOLS_COMMON_UNGROUP="tools.common.content.ungroup",e.TOOLS_TOOLTIP_HYPERLINK_SHORTCUT="tools.common.tooltip.hyperlink.shortcut",e.TOOLS_TOOLTIP_LOCK_TITLE="tools.common.tooltip.lock.title",e.TOOLS_TOOLTIP_LOCK_SHORTCUT="tools.common.tooltip.lock.shortcut",e.TOOLS_TOOLTIP_UNLOCK_TITLE="tools.common.tooltip.unlock.title",e.TOOLS_TOOLTIP_UNLOCK_SHORTCUT="tools.common.tooltip.unlock.shortcut",e.TOOLS_TOOLTIP_GROUP_TITLE="tools.common.tooltip.group.title",e.TOOLS_TOOLTIP_GROUP_SHORTCUT="tools.common.tooltip.group.shortcut",e.TOOLS_TOOLTIP_UNGROUP_TITLE="tools.common.tooltip.ungroup.title",e.TOOLS_TOOLTIP_UNGROUP_SHORTCUT="tools.common.tooltip.ungroup.shortcut",e.TOOLS_TOOLTIP_CUT_SHORTCUT="tools.common.tooltip.cut.shortcut",e.TOOLS_TOOLTIP_CLONE_TITLE="tools.common.tooltip.clone.title",e.TOOLS_TOOLTIP_CLONE_SHORTCUT="tools.common.tooltip.clone.shortcut",e.TOOLS_TOOLTIP_PASTE_SHORTCUT="tools.common.tooltip.paste.shortcut",e.TOOLS_TOOLTIP_DELETE_TITLE="tools.common.tooltip.delete.title",e.TOOLS_TOOLTIP_DELETE_SHORTCUT="tools.common.tooltip.delete.shortcut",e.TOOLTIP_ALIGN_LEFT="tools.common.tooltip.align.left",e.TOOLTIP_ALIGN_CENTER="tools.common.tooltip.align.center",e.TOOLTIP_ALIGN_RIGHT="tools.common.tooltip.align.right",e.TOOLTIP_ALIGN_DHC="tools.common.tooltip.align.dhc",e.TOOLTIP_ALIGN_TOP="tools.common.tooltip.align.top",e.TOOLTIP_ALIGN_MIDDLE="tools.common.tooltip.align.middle",e.TOOLTIP_ALIGN_BOTTOM="tools.common.tooltip.align.bottom",e.TOOLTIP_ALIGN_DVC="tools.common.tooltip.align.dvc",e.TOOLTIP_ALIGN_FIRST_T="tools.common.tooltip.align.first.title",e.TOOLTIP_ALIGN_FIRST_SC="tools.common.tooltip.align.first.shortcut",e.TOOLTIP_ALIGN_FORWARD_T="tools.common.tooltip.align.forward.title",e.TOOLTIP_ALIGN_FORWARD_SC="tools.common.tooltip.align.forward.shortcut",e.TOOLTIP_ALIGN_BACKWARD_T="tools.common.tooltip.align.backward.title",e.TOOLTIP_ALIGN_BACKWARD_SC="tools.common.tooltip.align.backward.shortcut",e.TOOLTIP_ALIGN_LAST_T="tools.common.tooltip.align.last.title",e.TOOLTIP_ALIGN_LAST_SC="tools.common.tooltip.align.last.shortcut",e.TOOLTIP_ALIGN_FLIP_HORIZON="tools.common.tooltip.align.flipH",e.TOOLTIP_ALIGN_FLIP_VERTICAL="tools.common.tooltip.align.flipV",e.TOOLTIP_IMAGE_RESET="tools.image.tooltip.reset",e.TOOLTIP_IMAGE_CROP_T="tools.image.tooltip.crop.title",e.TOOLTIP_IMAGE_CROP_SC="tools.image.tooltip.crop.shortcut",e.TOOLTIP_IMAGE_BG_CROP_T="tools.image.tooltip.bgCrop.title",e.TOOLTIP_IMAGE_BG_CROP_SC="tools.image.tooltip.bgCrop.shortcut",e.TOOLTIP_IMAGE_EXPORT="tools.image.tooltip.export",e.TOOLTIP_IMAGE_TO_SKIN="tools.image.tooltip.toSkin",e.TOOLTIP_BITMAP_SEARCH="tools.common.tooltip.bitmap.search",e.TOOLTIP_PROGRESS_INPROGRESS="tools.common.tooltip.progress.inProgress",e.TOOLTIP_PROGRESS_CANCEL="tools.common.tooltip.progress.cancel",e.TOOLTIP_IMAGEFRAME_RESET="tools.imageframe.tooltip.reset",e.TOOLTIP_IMAGEFRAME_CROP_T="tools.imageframe.tooltip.crop.title",e.TOOLTIP_IMAGEFRAME_CROP_SC="tools.imageframe.tooltip.crop.shortcut",e.TOOLTIP_IMAGEFRAME_EXPORT="tools.imageframe.tooltip.export",e.TOOLTIP_IMAGEFRAME_DELETE="tools.imageframe.tooltip.delete",e.TOOLS_IMAGE_PRESET_NORMAL="tools.image.content.presetNormal",e.TOOLS_IMAGE_PRESET_CALI="tools.image.content.presetCali",e.TOOLS_IMAGE_CROP="tools.image.content.crop",e.TOOLS_IMAGE_TO_BACKGROUND="tools.image.content.toBackground",e.TOOLS_IMAGE_BACKGROUND_COLOR="tools.image.content.backgroundColor",e.TOOLS_TO_IMAGEFRAME="tools.svg.content.toImageframe",e.TOOLS_REGIST_USER_SVG="tools.svg.content.registUserSvg",e.TOOLS_REGIST_USER_IMAGE_FRAME="tools.svg.content.registUserImageframe",e.TOOLS_TO_SVG="tools.imageframe.content.toSvg",e.TOOLS_CLEAR_FRAME="tools.imageframe.content.clearFrame",e.TOOLS_IMAGE_FILTER_INTENSITY="tools.image.content.intensity",e.TOOLS_IMAGE_FILTER_BRIGHTNESS="tools.image.content.brightness",e.TOOLS_IMAGE_FILTER_CONTRAST="tools.image.content.contrast",e.TOOLS_IMAGE_FILTER_LIGHTNESS="tools.image.content.lightness",e.TOOLS_IMAGE_FILTER_SATURATION="tools.image.content.saturation",e.TOOLS_IMAGE_FILTER_COLOR_TONE="tools.image.content.colorTone",e.TOOLS_IMAGE_FILTER_TINT="tools.image.content.tint",e.TOOLS_IMAGE_FILTER_TEMPERATURE="tools.image.content.temperature",e.TOOLS_IMAGE_FILTER_BLUR="tools.image.content.blur",e.TOOLS_IMAGE_FILTER_VIGNETTE="tools.image.content.vignette",e.TOOLS_IMAGE_GRADATION_DIRECTION="tools.image.content.gradationDirection",e.TOOLS_IMAGE_GRADATION_DIRECTION_T="tools.image.content.gradationT",e.TOOLS_IMAGE_GRADATION_DIRECTION_B="tools.image.content.gradationB",e.TOOLS_IMAGE_GRADATION_DIRECTION_L="tools.image.content.gradationL",e.TOOLS_IMAGE_GRADATION_DIRECTION_R="tools.image.content.gradationR",e.TOOLS_IMAGE_GRADATION_DEPTH="tools.image.content.gradationDepth",e.TOOLS_IMAGE_SOLID_LINE_THICKNESS="tools.image.content.solidLineThickness",e.TOOLS_IMAGE_SOLID_LINE_COLOR="tools.image.content.solidLineColor",e.TOOLS_IMAGE_SOLID_LINE_ALPHA="tools.image.content.solidLineAlpha",e.TOOLS_TOOLTIP_FIXRIGHT_TITLE="tools.toolboxHeader.tooltip.fixRight.title",e.TOOLS_TOOLTIP_UNFIXRIGHT_TITLE="tools.toolboxHeader.tooltip.unfixRight.title",e.TOOLS_TOOLTIP_CLOSE_TITLE="tools.toolboxHeader.tooltip.close.title",e.TOOLS_SHADOW_COLOR="tools.text.content.shadowColor",e.TOOLS_SHADOW_DISTANCE="tools.text.content.shadowDistance",e.TOOLS_SHADOW_ALPHA="tools.text.content.shadowAlpha",e.TOOLS_SHADOW_ANGLE="tools.text.content.shadowAngle",e.TOOLS_SHADOW_SIZE="tools.text.content.shadowSize",e.TOOLS_SHADOW_SPREAD="tools.text.content.shadowSpread",e.TOOLS_OUTLINE_COLOR="tools.text.content.outlineColor",e.TOOLS_OUTLINE_SIZE="tools.text.content.outlineSize",e.TOOLS_GRADIENT_TYPE="tools.text.content.gradientType",e.TOOLS_GRADIENT_ANGLE="tools.text.content.gradientAngle",e.TOOLS_GRADIENT_COLOR="tools.text.content.gradientColor",e.TOOLS_TEXT_FONT_SIZE="tools.text.content.fontSize",e.TOOLS_TEXT_LETTER_SPACING="tools.text.content.letterSpacing",e.TOOLS_TEXT_LINE_HEIGHT="tools.text.content.lineHeight",e.TOOLS_TEXT_FONT_STRETCH="tools.text.content.fontStretch",e.TOOLS_TEXT_CURVE="tools.text.content.curve",e.TOOLS_TOOLTIP_FONTFAMILY_TITLE="tools.text.tooltip.fontFamily.title",e.TOOLS_TOOLTIP_FONTFAMILY_RECOMMEND_LIST_TITLE="tools.text.tooltip.fontFamily.recommendListTitle",e.TOOLS_TOOLTIP_FONTSIZE_TITLE="tools.text.tooltip.fontSize.title",e.TOOLS_TOOLTIP_FONTSIZE_SUBTITLE1="tools.text.tooltip.fontSize.subtitle1",e.TOOLS_TOOLTIP_FONTSIZE_SHORTCUT1="tools.text.tooltip.fontSize.shortcut1",e.TOOLS_TOOLTIP_FONTSIZE_SUBTITLE2="tools.text.tooltip.fontSize.subtitle2",e.TOOLS_TOOLTIP_FONTSIZE_SHORTCUT2="tools.text.tooltip.fontSize.shortcut2",e.TOOLS_TOOLTIP_FONTCOLOR_TITLE="tools.text.tooltip.fontColor.title",e.TOOLS_TOOLTIP_FONTBOXCOLOR_TITLE="tools.text.tooltip.fontBoxColor.title",e.TOOLS_TOOLTIP_ALIGNLEFT_TITLE="tools.text.tooltip.alignLeft.title",e.TOOLS_TOOLTIP_ALIGNCENTER_TITLE="tools.text.tooltip.alignCenter.title",e.TOOLS_TOOLTIP_ALIGNRIGHT_TITLE="tools.text.tooltip.alignRight.title",e.TOOLS_TOOLTIP_ALIGNTOP_TITLE="tools.text.tooltip.alignTop.title",e.TOOLS_TOOLTIP_ALIGNMIDDLE_TITLE="tools.text.tooltip.alignMiddle.title",e.TOOLS_TOOLTIP_ALIGNBOTTOM_TITLE="tools.text.tooltip.alignBottom.title",e.TOOLS_TOOLTIP_BOLD_TITLE="tools.text.tooltip.bold.title",e.TOOLS_TOOLTIP_BOLD_SHORTCUT="tools.text.tooltip.bold.shortcut",e.TOOLS_TOOLTIP_ITALIC_TITLE="tools.text.tooltip.italic.title",e.TOOLS_TOOLTIP_ITALIC_SHORTCUT="tools.text.tooltip.italic.shortcut",e.TOOLS_TOOLTIP_UNDERLINE_TITLE="tools.text.tooltip.underline.title",e.TOOLS_TOOLTIP_UNDERLINE_SHORTCUT="tools.text.tooltip.underline.shortcut",e.TOOLS_TOOLTIP_STROKE_TITLE="tools.text.tooltip.stroke.title",e.TOOLS_TOOLTIP_STROKE_SHORTCUT="tools.text.tooltip.stroke.shortcut",e.TOOLS_TOOLTIP_UPPERCASE_TITLE="tools.text.tooltip.uppercase.title",e.TOOLS_TOOLTIP_UPPERCASE_SHORTCUT="tools.text.tooltip.uppercase.shortcut",e.TOOLS_TOOLTIP_LISTBULLET_TITLE="tools.text.tooltip.listBullet.title",e.TOOLS_TOOLTIP_LISTBULLET_SHORTCUT="tools.text.tooltip.listBullet.shortcut",e.TOOLS_TOOLTIP_LISTNUMBER_TITLE="tools.text.tooltip.listNumber.title",e.TOOLS_TOOLTIP_LISTNUMBER_SHORTCUT="tools.text.tooltip.listNumber.shortcut",e.TOOLS_TOOLTIP_CURVE_CLOCKWISE_TITLE="tools.text.tooltip.curve.cwtitle",e.TOOLS_TOOLTOP_CURVE_COUNTERCLOCKWISE_TITLE="tools.text.tooltip.curve.ccwtitle",e.TOOLS_TEXT_ROW_FONT_DEFAULT="tools.text.row.fontDefault",e.TOOLS_TEXT_ROW_OUTLINE="tools.text.row.outline",e.TOOLS_TEXT_ROW_CURVE="tools.text.row.curve",e.TOOLS_TEXT_ROW_SHADOW="tools.text.row.shadow",e.TOOLS_TEXT_ROW_GRADIENT="tools.text.row.gradient",e.TOOLS_TEXT_ROW_FONT_COLOR="tools.text.row.fontColor",e.TOOLS_TEXT_ROW_FONT_BGCOLOR="tools.text.row.bgColor",e.MULTI_SELECT_ROW_COLOR="tools.multiSelect.row.color",e.MULTI_SELECT_ROW_COLORS="tools.multiSelect.row.colors",e.TOOLS_IMAGE_ROW_FILTER="tools.image.row.filter",e.TOOLS_IMAGE_ROW_FILTER_ACCORDION="tools.image.row.filterAccordion",e.TOOLS_IMAGE_ROW_FILTER_DIRECT_ADJUSTMENT="tools.image.row.directAdjustment",e.TOOLS_IMAGE_ROW_SOLID_LINE="tools.image.row.solidLine",e.TOOLS_IMAGE_ROW_BITMAP_MASK="tools.image.row.bitmapMask",e.TOOLS_IMAGE_ROW_STICKER_FRAME="tools.image.row.stickerFrame",e.TOOLS_IMAGE_ROW_GRADIENT="tools.image.row.gradient",e.TOOLS_IMAGE_PRESET_DEFAULT="tools.image.preset.default",e.TOOLS_BACKGROUND_ROW_SOLID_COLOR="tools.background.row.solidColor",e.TOOLS_HEADER_TEXT_TITLE="tools.text.headerTitle",e.TOOLS_HEADER_IMAGE_TITLE="tools.image.headerTitleImage",e.TOOLS_HEADER_BITMAP_TITLE="tools.image.headerTitleBitmap",e.TOOLS_HEADER_PHOTO_BACKGROUND_TITLE="tools.image.headerTitlePhotoBackground",e.TOOLS_HEADER_GRID_TITLE="tools.grid.headerTitle",e.TOOLS_HEADER_IMAGEFRAME_TITLE="tools.imageframe.headerTitle",e.TOOLS_HEADER_SVG_TITLE="tools.svg.headerTitle.svg",e.TOOLS_HEADER_GRAPHIC_SVG_TITLE="tools.svg.headerTitle.graphic",e.TOOLS_HEADER_LINE_SVG_TITLE="tools.svg.headerTitle.line",e.TOOLS_HEADER_FIGURE_SVG_TITLE="tools.svg.headerTitle.figure",e.TOOLS_HEADER_ILLUST_SVG_TITLE="tools.svg.headerTitle.illust",e.TOOLS_HEADER_BACKGROUND_PATTERN_SVG_TITLE="tools.svg.headerTitle.background_pattern",e.TOOLS_HEADER_BACKGROUND_IMAGE_SVG_TITLE="tools.svg.headerTitle.background_image",e.TOOLS_SVG_TAB_SETTING="tools.svg.toolbox.settingTab",e.TOOLS_SVG_TAB_INFO="tools.svg.toolbox.infoTab",e.TOOLS_SVG_SAVE_CONFIRM_MSG_1="tools.svg.toolbox.saveConfirmMsg1",e.TOOLS_SVG_SAVE_CONFIRM_MSG_2="tools.svg.toolbox.saveConfirmMsg2",e.TOOLS_SVG_ROW_SVG="tools.svg.row.svg",e.TOOLS_SVG_ROW_LAYER="tools.svg.row.layer",e.TOOLS_SVG_COLOR="tools.svg.color",e.TOOLS_IMAGEFRAME_COLOR="tools.imageframe.color",e.TOOLS_IMAGEFRAME_FRAMECOLOR="tools.imageframe.frameColor",e.TOOLS_SVG_PATTERN_SIZE="tools.svg.patternSize",e.GRID_TAB_MENU_TEXT="tools.grid.tab.text",e.GRID_TAB_MENU_IMAGE="tools.grid.tab.image",e.GRID_TAB_MENU_CELL="tools.grid.tab.cell",e.TOOLS_GRID_CELL_BACKGROUND="tools.grid.row.cellBackground",e.TOOLS_GRID_CELL_BACKGROUND_COLOR="tools.grid.row.cellBackgroundColor",e.TOOLS_GRID_CELL_BACKGROUND_ALPHA="tools.grid.row.cellBackgroundAlpha",e.TOOLS_GRID_CELL_BORDER="tools.grid.row.cellBorder",e.TOOLS_GRID_CELL_BORDER_COLOR="tools.grid.row.cellBorderColor",e.TOOLS_GRID_CELL_BORDER_ALPHA="tools.grid.row.cellBorderAlpha",e.TOOLS_GRID_CELL_BORDER_THICKNESS="tools.grid.row.cellBorderThickness",e.TOOLS_GRID_TOOLTIP_ADDROWTOP_TITLE="tools.grid.tooltip.addRowTop.title",e.TOOLS_GRID_TOOLTIP_ADDROWBOTTOM_TITLE="tools.grid.tooltip.addRowBottom.title",e.TOOLS_GRID_TOOLTIP_REMOVEROW_TITLE="tools.grid.tooltip.removeRow.title",e.TOOLS_GRID_TOOLTIP_ADDCOLUMNLEFT_TITLE="tools.grid.tooltip.addColumnLeft.title",e.TOOLS_GRID_TOOLTIP_ADDCOLUMNRIGHT_TITLE="tools.grid.tooltip.addColumnRight.title",e.TOOLS_GRID_TOOLTIP_REMOVECOLUMN_TITLE="tools.grid.tooltip.removeColumn.title",e.TOOLS_GRID_TOOLTIP_CELLCONCAT_TITLE="tools.grid.tooltip.cellConcat.title",e.TOOLS_GRID_TOOLTIP_CELLSPLIT_TITLE="tools.grid.tooltip.cellSplit.title",e.TOOLS_GRID_TOOLTIP_CELLDISTRIBUTEVERTICAL_TITLE="tools.grid.tooltip.cellDistributeVertical.title",e.TOOLS_GRID_TOOLTIP_CELLDISTRIBUTEHORIZON_TITLE="tools.grid.tooltip.cellDistributeHorizon.title",e.TOOLS_GRID_TOOLTIP_NONEBORDERS_TITLE="tools.grid.tooltip.noneBorders.title",e.TOOLS_GRID_TOOLTIP_ALLBORDERS_TITLE="tools.grid.tooltip.allBorders.title",e.TOOLS_GRID_TOOLTIP_OUTERBORDERS_TITLE="tools.grid.tooltip.outerBorders.title",e.TOOLS_GRID_TOOLTIP_INNERBORDER_TITLE="tools.grid.tooltip.innerBorder.title",e.TOOLS_GRID_TOOLTIP_DOWNDIAGONALBORDERS_TITLE="tools.grid.tooltip.downDiagonalBorders.title",e.TOOLS_GRID_TOOLTIP_UPDIAGONALBORDER_TITLE="tools.grid.tooltip.upDiagonalBorder.title",e.TOOLS_GRID_TOOLTIP_TOPBORDER_TITLE="tools.grid.tooltip.topBorder.title",e.TOOLS_GRID_TOOLTIP_BOTTOMBORDER_TITLE="tools.grid.tooltip.bottomBorder.title",e.TOOLS_GRID_TOOLTIP_LEFTBORDER_TITLE="tools.grid.tooltip.leftBorder.title",e.TOOLS_GRID_TOOLTIP_RIGHTBORDER_TITLE="tools.grid.tooltip.rightBorder.title",e.TOOLS_GRID_TOOLTIP_INNERHORBORDERS_TITLE="tools.grid.tooltip.innerHorBorders.title",e.TOOLS_GRID_TOOLTIP_INNERVERBORDERS_TITLE="tools.grid.tooltip.innerVerBorders.title",e.TOOLS_LIB_TEMPLATE_TITLE="tools.lib.template.title",e.TOOLS_LIB_BIZ_TEMPLATE_TITLE="tools.lib.bizTemplate.title",e.TOOLS_LIB_BIZ_TEMPLATE_BTN_NOTICE="tools.lib.bizTemplate.btnNotice",e.TOOLS_LIB_TEMPLATE_MANAGER_TYPE="tools.lib.template.manager.type",e.TOOLS_LIB_TEMPLATE_MANAGER_ACTIVE="tools.lib.template.manager.active",e.TOOLS_LIB_TEMPLATE_MANAGER_TEMPLATE_ID="tools.lib.template.manager.templateId",e.TOOLS_LIB_TEMPLATE_MANAGER_TEMPLATE_TITLE="tools.lib.template.manager.templateTitle",e.TOOLS_LIB_TEMPLATE_MANAGER_DESIGNER_ID="tools.lib.template.manager.designerId",e.TOOLS_LIB_TEMPLATE_MANAGER_AUTO_KEYWORD="tools.lib.template.manager.autoKeyword",e.TOOLS_LIB_TEMPLATE_MANAGER_MANUAL_KEYWORD="tools.lib.template.manager.manualKeyword",e.TOOLS_LIB_TEMPLATE_MANAGER_COPY_TO_UNICORN_TEMPLATE="tools.lib.template.manager.copyToUnicornTemplate",e.TOOLS_LIB_TEMPLATE_MANAGER_KEYWORD="tools.lib.template.manager.keyword",e.TOOLS_LIB_TEMPLATE_MANAGER_MEMO="tools.lib.template.manager.memo",e.TOOLS_LIB_TEMPLATE_MANAGER_UNLINK="tools.lib.template.manager.unlink",e.TOOLS_LIB_TEMPLATE_MANAGER_LINK="tools.lib.template.manager.link",e.TOOLS_LIB_TEMPLATE_MANAGER_SAVE_INFO="tools.lib.template.manager.saveInfo",e.TOOLS_LIB_TEMPLATE_MANAGER_SAVE_DESIGN="tools.lib.template.manager.saveDesign",e.TOOLS_LIB_TEMPLATE_MANAGER_COPY_TEMPLATE="tools.lib.template.manager.copyTemplate",e.TOOLS_LIB_TEMPLATE_MANAGER_DELETE_TEMPLATE="tools.lib.template.manager.deleteTemplate",e.TOOLS_LIB_DESIGN_TITLE="tools.lib.design.title",e.TOOLS_LIB_DESIGN_EMPTY_LIST_MSG="tools.lib.design.emptyListMsg",e.TOOLS_LIB_DESIGN_EMPTY_LIST_MSG_2="tools.lib.design.emptyListMsg2",e.TOOLS_LIB_DESIGN_FOLDER_EMPTY_LIST_MSG="tools.lib.design.folder.emptyListMsg",e.TOOLS_LIB_DESIGN_FOLDER_EMPTY_LIST_MSG_2="tools.lib.design.folder.emptyListMsg2",e.TOOLS_LIB_DESIGN_FOLDER_DESIGN_EMPTY_LIST_MSG="tools.lib.design.folderDesign.emptyListMsg",e.TOOLS_LIB_DESIGN_FOLDER_DESIGN_EMPTY_LIST_MSG_2="tools.lib.design.folderDesign.emptyListMsg2",e.TOOLS_LIB_DESIGN_EMPTY_BIZ_LIST_MSG="tools.lib.design.biz.emptyListMsg",e.TOOLS_LIB_DESIGN_EMPTY_BIZ_LIST_MSG_2="tools.lib.design.biz.emptyListMsg2",e.TOOLS_LIB_DESIGN_BTN_MOVE_TEMPLATE="tools.lib.design.btnMoveTemplate",e.TOOLS_LIB_ITEM_TITLE="tools.lib.item.title",e.TOOLS_LIB_ITEM_TEMPLATE_TITLE="tools.lib.item.templateTitle",e.TOOLS_LIB_ITEM_DESIGN_TITLE="tools.lib.item.designTitle",e.TOOLS_LIB_ITEM_BITMAP_TITLE="tools.lib.item.bitmapTitle",e.TOOLS_LIB_ITEM_IMAGE_TITLE="tools.lib.item.imageTitle",e.TOOLS_LIB_ITEM_LINE_TITLE="tools.lib.item.lineTitle",e.TOOLS_LIB_ITEM_FIGURE_TITLE="tools.lib.item.figureTitle",e.TOOLS_LIB_ITEM_ILLUST_TITLE="tools.lib.item.illustTitle",e.TOOLS_LIB_ITEM_FRAME_TITLE="tools.lib.item.frameTitle",e.TOOLS_LIB_ITEM_TEXT_TITLE="tools.lib.item.textTitle",e.TOOLS_LIB_ITEM_PIXABAY_TITLE="tools.lib.item.pixabay",e.TOOLS_LIB_ITEM_PHOTO_TITLE="tools.lib.item.imageTitle",e.TOOLS_LIB_ITEM_GRID_TITLE="tools.lib.item.grid",e.TOOLS_LIB_MOCKUP_TITLE="tools.lib.mockup.title",e.TOOLS_LIB_BACKGROUND_PATTERN_TITLE="tools.lib.background.patternTitle",e.TOOLS_LIB_BACKGROUND_IMAGE_TITLE="tools.lib.background.imageTitle",e.TOOLS_LIB_GRID_TITLE="tools.lib.grid.title",e.TOOLS_LIB_ALL_TITLE="tools.lib.all.title",e.TOOLS_LIB_TEXT_TITLE="tools.lib.text.title",e.TOOLS_LIB_TEXT_BTN_ADD="tools.lib.text.btnAdd",e.TOOLS_LIB_DEFAULT_TEXT_TITLE="tools.lib.text.defaultTextTitle",e.TOOLS_LIB_SIMPLE_TEXT_TITLE="tools.lib.simpleText.title",e.TOOLS_LIB_STYLE_TEXT_TITLE="tools.lib.styleText.title",e.TOOLS_LIB_SPECIAL_TEXT_TITLE="tools.lib.specialText.title",e.TOOLS_LIB_UPLOAD_TITLE="tools.lib.upload.title",e.TOOLS_LIB_UPLOAD_EMPTY_LIST_MSG="tools.lib.upload.emptyListMsg",e.TOOLS_LIB_UPLOAD_EMPTY_LIST_MSG_2="tools.lib.upload.emptyListMsg2",e.TOOLS_LIB_UPLOAD_GUIDE_TITLE="tools.lib.uploadGuide.title",e.TOOLS_LIB_UPLOAD_GUIDE_EMPTY_LIST_MSG_1="tools.lib.uploadGuide.uploadGuideMsg1",e.TOOLS_LIB_UPLOAD_GUIDE_EMPTY_LIST_MSG_2="tools.lib.uploadGuide.uploadGuideMsg2",e.TOOLS_LIB_FAVORITES_TITLE="tools.lib.favorites.title",e.TOOLS_LIB_FAVORITES_EMPTY_LIST_MSG="tools.lib.favorites.emptyListMsg",e.TOOLS_LIB_FAVORITES_EMPTY_LIST_MSG_2="tools.lib.favorites.emptyListMsg2",e.TOOLS_LIB_ADMIN_TOOL_TITLE="tools.lib.adminTool.title",e.TOOLS_LIB_DEV_TOOL_TITLE="tools.lib.devTool.title",e.TOOLS_LIB_DEV_TOOL_TOGGLE_BTN_FINAL_CONFIRM="tools.lib.devTool.toggleBtn.finalConfirm",e.TOOLS_LIB_IMAGE_DOWNLOAD_TITLE="tools.lib.imageDownload.title",e.TOOLS_LIB_IMAGE_SEARCH_TITLE="tools.lib.imageSearch.title",e.TOOLS_LIB_BACKGROUND_TITLE="tools.lib.background.title",e.TOOLS_LIB_LAYOUT_TITLE="tools.lib.layout.title",e.TOOLS_LIB_COLLECTION_TITLE="tools.lib.collection.title",e.TOOLS_LIB_KEYWORD_PLACEHOLDER="tools.lib.keywordPlaceholder",e.TOOLS_LIB_DESIGN_SEARCH_PLACEHOLDER="tools.lib.designSearchPlaceholder",e.TOOLS_LIB_LIST_EMPTY_MESSAGE="tools.lib.listEmptyMessage",e.TOOLS_LIB_LIST_EMPTY_MESSAGE_2="tools.lib.listEmptyMessage2",e.TOOLS_LIB_LOGIN_BTN="tools.lib.loginBtn",e.TOOLS_LIB_LOGIN_NOTI_MSG_DEFAULT="tools.lib.loginNotiMsg.default",e.TOOLS_LIB_LOGIN_NOTI_MSG_UPLOAD_LIB="tools.lib.loginNotiMsg.uploadLib",e.TOOLS_LIB_TOOLTIP_DELETEKEYWORD_TITLE="tools.lib.tooltip.deleteKeyword.title",e.TOOLS_LIB_TOOLTIP_ROLLBACKSELECTION_TITLE="tools.lib.tooltip.rollbackSelection.title",e.TOOLS_LIB_TOOLTIP_USEDESIGN_TITLE="tools.lib.tooltip.useDesign.title",e.TOOLS_LIB_TOOLTIP_USEMOCKUP_TITLE="tools.lib.tooltip.useMockUp.title",e.TOOLS_LIB_TOOLTIP_USEGRAPHIC_TITLE="tools.lib.tooltip.useGraphic.title",e.TOOLS_LIB_TOOLTIP_USEIMAGE_TITLE="tools.lib.tooltip.useImage.title",e.TOOLS_LIB_TOOLTIP_USETEXT_TITLE="tools.lib.tooltip.useText.title",e.TOOLS_LIB_TOOLTIP_USEBACKGROUND_TITLE="tools.lib.tooltip.useBackground.title",e.TOOLS_LIB_TOOLTIP_SHARE_TITLE="tools.lib.tooltip.share.title",e.TOOLS_LIB_TOOLTIP_BOOKMARK_TITLE="tools.lib.tooltip.bookmark.title",e.TOOLS_LIB_TOOLTIP_PREVIOUSPAGE_TITLE="tools.lib.tooltip.previousPage.title",e.TOOLS_LIB_TOOLTIP_NEXTPAGE_TITLE="tools.lib.tooltip.nextPage.title",e.TOOLS_LIB_TOOLTIP_SELECTCOLOR_TITLE="tools.lib.tooltip.selectColor.title",e.TOOLS_LIB_TOOLTIP_SHARINGFOLDER_TITLE="tools.lib.tooltip.sharingFolder.title",e.TOOLS_LIB_TOOLTIP_CREATEFOLDER_TITLE="tools.lib.tooltip.createFolder.title",e.TOOLS_LIB_TOOLTIP_CHANGENAME_TITLE="tools.lib.tooltip.changeName.title",e.TOOLS_LIB_TOOLTIP_REMOVEFOLDER_TITLE="tools.lib.tooltip.removeFolder.title",e.TOOLS_LIB_TOOLTIP_USE_TITLE="tools.lib.tooltip.use.title",e.TOOLS_LIB_TOOLTIP_REMOVE_TITLE="tools.lib.tooltip.remove.title",e.TOOLS_LIB_TOOLTIP_ISUSABLEAFTERLOGIN_TITLE="tools.lib.tooltip.isUsableAfterLogin.title",e.TOOLS_LIB_TOOLTIP_MANAGEPALETTE_TITLE="tools.lib.tooltip.managePalette.title",e.TOOLS_LIB_TOOLTIP_EDIT_TITLE="tools.lib.tooltip.edit.title",e.TOOLS_LIB_TOOLTIP_DELETE_TITLE="tools.lib.tooltip.delete.title",e.TOOLS_LIB_TOOLTIP_ADDCOLOR_TITLE="tools.lib.tooltip.addColor.title",e.TOOLS_LIB_TOOLTIP_SAMECOLOR_TITLE="tools.lib.tooltip.sameColor.title",e.TEMPLATE_PROJECT_ARRANGE_TYPE_OVER_WIDTH="tools.templateProject.arrangeType.overWidth",e.TEMPLATE_PROJECT_ARRANGE_TYPE_OVER_HEIGHT="tools.templateProject.arrangeType.overHeight",e.TEMPLATE_PROJECT_ARRANGE_TYPE_FILL_DESC="tools.templateProject.arrangeType.fillDesc",e.TEMPLATE_PROJECT_ARRANGE_TYPE_FIT_DESC="tools.templateProject.arrangeType.fitDesc",e.PREVIEW_CONFIRM_TITLE="tools.preview.saveConfirmTitle",e.PREVIEW_CONFIRM_TEXT1="tools.preview.saveConfirmText1",e.PREVIEW_CONFIRM_TEXT2="tools.preview.saveConfirmText2",e.PREVIEW_CONFIRM_ACCEPT="tools.preview.saveConfirmAccept",e.PREVIEW_CONFIRM_CANCEL="tools.preview.saveConfirmCancel",e.TOOLS_POPUP_LOGIN_SOCIAL_INFO_BOX_DESCRIPTION="tools.popup.login.description",e.TOOLS_POPUP_LOGOUT_TITLE="tools.popup.logout.title",e.TOOLS_POPUP_LOGOUT_BTN_LOGIN="tools.popup.logout.btnLogin",e.TOOLS_POPUP_LOGOUT_DEFAULT_CONTENTS="tools.popup.logout.default.contents",e.TOOLS_POPUP_LOGOUT_TIMEOUT_CONTENTS="tools.popup.logout.timeout.contents",e.TOOLS_POPUP_LOGOUT_TIMEOUT_TIP="tools.popup.logout.timeout.tip",e.TOOLS_POPUP_SAVE_BTN_LABEL="tools.popup.saveBtnLabel",e.TOOLS_POPUP_UPDATE_BTN_LABEL="tools.popup.updateBtnLabel",e.TOOLS_POPUP_PRIVATE_RESOURCE_TYPE="tools.popup.privateResourceType",e.TOOLS_POPUP_DEFAULT_TEXT_SAVE_TITLE="tools.popup.defaultTextSave.title",e.TOOLS_POPUP_DEFAULT_TEXT_SAVE_CONFIRM_TITLE="tools.popup.defaultTextSave.confirm.title",e.TOOLS_POPUP_DEFAULT_TEXT_SAVE_CONFIRM_SUBTITLE="tools.popup.defaultTextSave.confirm.subTitle",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_TITLE_LABEL="tools.popup.templateDesignSave.titleLabel",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_DEFAULT_TITLE_PREFIX="tools.popup.templateDesignSave.defaultTitlePrefix",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_SELECT_ITEM_NEW_LABEL="tools.popup.templateDesignSave.selectItemNewLabel",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_SELECT_ITEM_NEW_TITLE="tools.popup.templateDesignSave.selectItemNewTitle",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_CREATE_FAIL_MSG="tools.popup.templateDesignSave.createFailMsg",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_UPDATE_SUCCESS_MSG="tools.popup.templateDesignSave.updateSuccessMsg",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_INVALID_RESOURCE_MSG="tools.popup.templateDesignSave.InvalidResourceMsg",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_SAVE_SUCCESS_MSG="tools.popup.templateDesignSave.saveSuccessMsg",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_SAVE_DEFAULT_TEXT_SUCCESS_MSG="tools.popup.templateDesignSave.saveDefaultTextSuccessMsg",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_UPDATE_FAIL_MSG="tools.popup.templateDesignSave.updateFailMsg",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_LOAD_FAIL_MSG="tools.popup.templateDesignSave.loadFailMsg",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_DELETE_SUCCESS_MSG="tools.popup.templateDesignSave.deleteSuccessMsg",e.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_DELETE_FAIL_MSG="tools.popup.templateDesignSave.deleteFailMsg",e.TOOLS_POPUP_DESIGN_SAVE_TITLE_LABEL="tools.popup.designSave.titleLabel",e.TOOLS_POPUP_DESIGN_SAVE_DEFAULT_TITLE_PREFIX="tools.popup.designSave.defaultTitlePrefix",e.TOOLS_POPUP_DESIGN_SAVE_SAVE_TYPE_UPDATE_LABEL="tools.popup.designSave.saveTypeUpdateLabel",e.TOOLS_POPUP_DESIGN_SAVE_SAVE_TYPE_CREATE_LABEL="tools.popup.designSave.saveTypeCreateLabel",e.TOOLS_POPUP_DESIGN_SAVE_CREATE_FAIL_MSG="tools.popup.designSave.createFailMsg",e.TOOLS_POPUP_DESIGN_SAVE_UPDATE_SUCCESS_MSG="tools.popup.designSave.updateSuccessMsg",e.TOOLS_POPUP_DESIGN_SAVE_UPDATE_FAIL_MSG="tools.popup.designSave.updateFailMsg",e.TOOLS_POPUP_DESIGN_SAVE_LOAD_FAIL_MSG="tools.popup.designSave.loadFailMsg",e.TOOLS_POPUP_DESIGN_SAVE_DELETE_SUCCESS_MSG="tools.popup.designSave.deleteSuccessMsg",e.TOOLS_POPUP_DESIGN_SAVE_DELETE_FAIL_MSG="tools.popup.designSave.deleteFailMsg",e.TOOLS_POPUP_DESIGN_LOAD_TITLE_LABEL="tools.popup.designLoad.titleLabel",e.TOOLS_POPUP_DESIGN_LOAD_INIT_BTN="tools.popup.designLoad.initBtn",e.TOOLS_POPUP_DESIGN_LOAD_OVERRIDE_BTN="tools.popup.designLoad.overrideBtn",e.TOOLS_POPUP_DESIGN_LOAD_ADD_BTN="tools.popup.designLoad.addBtn",e.TOOLS_POPUP_DESIGN_LOAD_MAINTAIN_SIZE="tools.popup.designLoad.maintainSize",e.TOOLS_POPUP_DESIGN_LOAD_LOADING_MSG="tools.popup.designLoad.loadingMsg",e.TOOLS_POPUP_DESIGN_LOAD_LOADING_CANCEL="tools.popup.designLoad.loadingCancel",e.TOOLS_POPUP_DESIGN_LOAD_TITLE="tools.popup.designLoad.title",e.TOOLS_POPUP_DESIGN_LOAD_DESC="tools.popup.designLoad.desc",e.TOOLS_POPUP_DESIGN_LOAD_BTN="tools.popup.designLoad.btn",e.TOOLS_POPUP_DESIGN_LOAD_DESIGN_LABEL="tools.popup.designLoad.designLabel",e.TOOLS_POPUP_DESIGN_LOAD_TEMPLATE_LABEL="tools.popup.designLoad.templateLabel",e.TOOLS_POPUP_TEMPLATE_STYLE_SAVE_TITLE_LABEL="tools.popup.templateStyleSave.titleLabel",e.TOOLS_POPUP_TEMPLATE_STYLE_SAVE_DEFAULT_TITLE_PREFIX="tools.popup.templateStyleSave.defaultTitlePrefix",e.TOOLS_POPUP_TEMPLATE_STYLE_SAVE_SELECT_ITEM_NEW_LABEL="tools.popup.templateStyleSave.selectItemNewLabel",e.TOOLS_POPUP_TEMPLATE_STYLE_SAVE_CREATE_FAIL_MSG="tools.popup.templateStyleSave.createFailMsg",e.TOOLS_POPUP_TEMPLATE_STYLE_SAVE_UPDATE_SUCCESS_MSG="tools.popup.templateStyleSave.updateSuccessMsg",e.TOOLS_POPUP_TEMPLATE_STYLE_SAVE_UPDATE_FAIL_MSG="tools.popup.templateStyleSave.updateFailMsg",e.TOOLS_POPUP_TEMPLATE_STYLE_SAVE_LOAD_FAIL_MSG="tools.popup.templateStyleSave.loadFailMsg",e.TOOLS_POPUP_TEMPLATE_STYLE_SAVE_DELETE_SUCCESS_MSG="tools.popup.templateStyleSave.deleteSuccessMsg",e.TOOLS_POPUP_TEMPLATE_STYLE_SAVE_DELETE_FAIL_MSG="tools.popup.templateStyleSave.deleteFailMsg",e.TOOLS_POPUP_CONFIRM_BTN="tools.popup.confirmBtn",e.TOOLS_POPUP_DELETE_BTN="tools.popup.deleteBtn",e.TOOLS_POPUP_UPDATE_CONFIRM_MSG="tools.popup.updateConfirmMsg",e.TOOLS_POPUP_CREATE_CONFIRM_MSG="tools.popup.createConfirmMsg",e.TOOLS_POPUP_DELETE_CONFIRM_MSG="tools.popup.deleteConfirmMsg",e.TOOLS_POPUP_IMAGE_PROCESSING_DOWNLOADING_GUIDE="tools.popup.imageProcessing.downloadingGuide",e.TOOLS_POPUP_IMAGE_PROCESSING_CANCEL_DOWNLOAD="tools.popup.imageProcessing.cancelDownload",e.TOOLS_POPUP_BROWSER_TITLE="tools.popup.browser.title",e.TOOLS_POPUP_BROWSER_CONTENTS="tools.popup.browser.contents",e.TOOLS_POPUP_BROWSER_CHROME="tools.popup.browser.chrome",e.TOOLS_POPUP_BROWSER_FIREFOX="tools.popup.browser.firefox",e.TOOLS_POPUP_BROWSER_SAFARI="tools.popup.browser.safari",e.TOOLS_POPUP_BROWSER_EDGE="tools.popup.browser.edge",e.TOOLS_POPUP_BROWSER_DESC_LINK="tools.popup.browser.descLink",e.TOOLS_POPUP_PROFILE_TITLE="tools.popup.profile.title",e.TOOLS_POPUP_PROFILE_NAME="tools.popup.profile.name",e.TOOLS_POPUP_PROFILE_SAVE_PROFILE="tools.popup.profile.saveProfile",e.TOOLS_POPUP_PROFILE_PASSWORD="tools.popup.profile.password",e.TOOLS_POPUP_PROFILE_NEW_PASSWORD="tools.popup.profile.newPassword",e.TOOLS_POPUP_PROFILE_NEW_PASSWORD_CONFIRM="tools.popup.profile.newPasswordConfirm",e.TOOLS_POPUP_PROFILE_SAVE_PASSWORD="tools.popup.profile.savePassword",e.TOOLS_POPUP_PROFILE_NOTICE_EMAIL="tools.popup.profile.noticeEmail",e.TOOLS_POPUP_PROFILE_NOTICE_EMAIL_BTN="tools.popup.profile.noticeEmailBtn",e.TOOLS_POPUP_PROFILE_MAKE_PASSWORD="tools.popup.profile.makePassword",e.TOOLS_POPUP_PROFILE_MAKE_PASSWORD_CONFIRM="tools.popup.profile.makePasswordConfirm",e.TOOLS_POPUP_PROFILE_MAKE_PASSWORD_REGISTER_BTN="tools.popup.profile.registerPassword",e.TOOLS_POPUP_PRINTOUT_OPTION_TITLE="tools.popup.printoutOption.title",e.TOOLS_POPUP_PRINTOUT_SHOW_GUIDE_TITLE="tools.popup.printoutOption.showGuide.title",e.TOOLS_POPUP_PRINTOUT_OPTION_COMMODITY_TITLE="tools.popup.printoutOption.commodity.title",e.TOOLS_POPUP_PRINTOUT_OPTION_COMMODITY_NONE="tools.popup.printoutOption.commodity.none",e.TOOLS_POPUP_PRINTOUT_OPTION_COMMODITY_PLACARD="tools.popup.printoutOption.commodity.placard",e.TOOLS_POPUP_PRINTOUT_OPTION_COMMODITY_BANNER="tools.popup.printoutOption.commodity.banner",e.TOOLS_POPUP_PRINTOUT_OPTION_COMMODITY_REAL_PRINT="tools.popup.printoutOption.commodity.realPrint",e.TOOLS_POPUP_PRINTOUT_OPTION_COMMODITY_NAMECARD="tools.popup.printoutOption.commodity.nameCard",e.TOOLS_POPUP_PRINTOUT_OPTION_COMMODITY_POSTER="tools.popup.printoutOption.commodity.poster",e.TOOLS_POPUP_PRINTOUT_OPTION_COMMODITY_FLYERS="tools.popup.printoutOption.commodity.flyers",e.TOOLS_POPUP_PRINTOUT_OPTION_TYPE_TITLE="tools.popup.printoutOption.optionType.title",e.TOOLS_POPUP_PRINTOUT_OPTION_TYPE_PLACARD_DEFAULT="tools.popup.printoutOption.optionType.placard.default",e.TOOLS_POPUP_PRINTOUT_OPTION_TYPE_PLACARD_BAR="tools.popup.printoutOption.optionType.placard.bar",e.TOOLS_POPUP_PRINTOUT_OPTION_TYPE_PLACARD_METAL_RING="tools.popup.printoutOption.optionType.placard.metalRing",e.TOOLS_POPUP_PRINTOUT_OPTION_TYPE_PLACARD_ROD_SEWING="tools.popup.printoutOption.optionType.placard.rodSewing",e.TOOLS_POPUP_PRINTOUT_OPTION_TYPE_BANNER_DEFAULT="tools.popup.printoutOption.optionType.banner.default",e.TOOLS_POPUP_PRINTOUT_OPTION_TYPE_BANNER_METAL_RING="tools.popup.printoutOption.optionType.banner.metalRing",e.TOOLS_POPUP_PRINTOUT_OPTION_TYPE_NAMECARD_DEFAULT="tools.popup.printoutOption.optionType.nameCard.default",e.TOOLS_POPUP_PRINTOUT_OPTION_TYPE_NAMECARD_EDGE_ROUNDING="tools.popup.printoutOption.optionType.nameCard.edgeRounding",e.TOOLS_POPUP_PRINTOUT_OPTION_TYPE_NONE="tools.popup.printoutOption.optionType.none",e.TOOLS_POPUP_PRINTOUT_MARGIN_TITLE="tools.popup.printoutOption.margin.title",e.TOOLS_POPUP_PRINTOUT_SAFETY_MARGIN="tools.popup.printoutOption.margin.safetyMargin",e.TOOLS_POPUP_PRINTOUT_APPLY_BUTTON="tools.popup.printoutOption.applyButton",e.TOOLS_POPUP_PRINTOUT_HOLD="tools.printout.popup.hold",e.TOOLS_POPUP_PRINTOUT_UNHOLD="tools.printout.popup.unHold",e.TOOLS_POPUP_PRINTOUT_FACTOR_REVIEW_TITLE="tools.printout.popup.factorReview.title",e.TOOLS_POPUP_PRINTOUT_FACTOR_REVIEW_NO_FACTOR="tools.printout.popup.factorReview.noFactor",e.TOOLS_POPUP_PRINTOUT_FACTOR_REVIEW_CONTENTS="tools.printout.popup.factorReview.contents",e.TOOLS_POPUP_PRINTOUT_DOWNLOAD_REVIEW_PDF_ICON="tools.printout.popup.downloadReview.pdfIcon",e.TOOLS_POPUP_PRINTOUT_DOWNLOAD_REVIEW_TITLE="tools.printout.popup.downloadReview.title",e.TOOLS_POPUP_PRINTOUT_DOWNLOAD_REVIEW_SUBTITLE="tools.printout.popup.downloadReview.subTitle",e.TOOLS_POPUP_PRINTOUT_DOWNLOAD_REVIEW_CONFIRM="tools.printout.popup.downloadReview.confirm",e.TOOLS_POPUP_PRINTOUT_DOWNLOAD_REVIEW_MODIFY_BUTTON="tools.printout.popup.downloadReview.modifyBtn",e.TOOLS_POPUP_PRINTOUT_DOWNLOAD_REVIEW_IGNORE_BUTTON="tools.printout.popup.downloadReview.ignoreBtn",e.TOOLS_POPUP_PRINTOUT_DOWNLOAD_REVIEW_NEED_TO_FIX="tools.printout.popup.downloadReview.needToFix",e.TOOLS_POPUP_PRINTOUT_DOWNLOAD_REVIEW_CONTENTS="tools.printout.popup.downloadReview.contents",e.TOOLS_POPUP_PRINTOUT_DOWNLOAD_REVIEW_SPAN="tools.printout.popup.downloadReview.span",e.PRINTOUT_TOP_TOOLS_SHOW_GUIDE="tools.printout.topTools.showGuide",e.PRINTOUT_TOP_TOOLS_SHOW_FACTOR_REVEIW="tools.printout.topTools.showFactorReview",e.PRINTOUT_TOP_TOOLS_SAFETY_LINE="tools.printout.topTools.safetyLine",e.PRINTOUT_TOP_TOOLS_MARGIN_INFO="tools.printout.topTools.marginInfo",e.TOOLS_POPUP_DOWNLOAD_TITLE="tools.popup.download.title",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_WEB_FILE_TYPE_TITLE="tools.popup.download.infoTooltip.webType.fileTypeTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_WEB_PNG_TITLE="tools.popup.download.infoTooltip.webType.pngTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_WEB_PNG_DESC="tools.popup.download.infoTooltip.webType.pngDescription",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_WEB_JPG_TITLE="tools.popup.download.infoTooltip.webType.jpgTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_WEB_JPG_DESC="tools.popup.download.infoTooltip.webType.jpgDescription",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_WEB_DOWNLOAD_TYPE_TITLE="tools.popup.download.infoTooltip.webType.downloadTypeTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_WEB_QUICK_TITLE="tools.popup.download.infoTooltip.webType.quickTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_WEB_QUICK_DESC="tools.popup.download.infoTooltip.webType.quickDescription",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_WEB_QUICK_DESC_HIGHLIGHT="tools.popup.download.infoTooltip.webType.quickDescriptionHighlight",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_WEB_HIGH_RES_TITLE="tools.popup.download.infoTooltip.webType.highResolutionTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_WEB_HIGH_RES_DESC="tools.popup.download.infoTooltip.webType.highResolutionDescription",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_PRINT_FILE_TYPE_TITLE="tools.popup.download.infoTooltip.printType.fileTypeTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_PRINT_JPG_TITLE="tools.popup.download.infoTooltip.printType.jpgTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_PRINT_JPG_DESC="tools.popup.download.infoTooltip.printType.jpgDescription",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_PRINT_PDF_TITLE="tools.popup.download.infoTooltip.printType.pdfTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_PRINT_PDF_DESC="tools.popup.download.infoTooltip.printType.pdfDescription",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_PRINT_MARGIN_TITLE="tools.popup.download.infoTooltip.printType.marginTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_PRINT_PRINT_TITLE="tools.popup.download.infoTooltip.printType.printTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_PRINT_PRINT_DESC="tools.popup.download.infoTooltip.printType.printDescription",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_PRINT_PRINT_DESC_HIGHLIGHT="tools.popup.download.infoTooltip.printType.printDescriptionHighlight",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_PRINT_CHECK_RES_TITLE="tools.popup.download.infoTooltip.printType.checkTitle",e.TOOLS_POPUP_DOWNLOAD_INFO_TOOLTIP_PRINT_CHECK_RES_DESC="tools.popup.download.infoTooltip.printType.checkDescription",e.TOOLS_POPUP_DOWNLOAD_OUTPUT_TYPE_WEB="tools.popup.download.outputType.web",e.TOOLS_POPUP_DOWNLOAD_OUTPUT_TYPE_PRINT="tools.popup.download.outputType.print",e.TOOLS_POPUP_DOWNLOAD_FILE_TYPE_TITLE="tools.popup.download.fileType.title",e.TOOLS_POPUP_DOWNLOAD_FILE_TYPE_TOOLTIP_PNG="tools.popup.download.fileType.tooltip.png",e.TOOLS_POPUP_DOWNLOAD_FILE_TYPE_TOOLTIP_PNG_TRANSPARENT="tools.popup.download.fileType.tooltip.pngTransparent",e.TOOLS_POPUP_DOWNLOAD_FILE_TYPE_TOOLTIP_JPG_WEB="tools.popup.download.fileType.tooltip.jpgWeb",e.TOOLS_POPUP_DOWNLOAD_FILE_TYPE_TOOLTIP_JPG_PRINT="tools.popup.download.fileType.tooltip.jpgPrint",e.TOOLS_POPUP_DOWNLOAD_FILE_TYPE_TOOLTIP_PDF_WEB="tools.popup.download.fileType.tooltip.pdfWeb",e.TOOLS_POPUP_DOWNLOAD_FILE_TYPE_TOOLTIP_PDF_PRINT="tools.popup.download.fileType.tooltip.pdfPrint",e.TOOLS_POPUP_DOWNLOAD_DOWNLOAD_TYPE_ITEM_QUICK="tools.popup.download.downloadType.quick",e.TOOLS_POPUP_DOWNLOAD_DOWNLOAD_TYPE_ITEM_HIGH_RESOLUTION="tools.popup.download.downloadType.highRes",e.TOOLS_POPUP_DOWNLOAD_SELECT_PAGE_TITLE="tools.popup.download.selectPage.title",e.TOOLS_POPUP_DOWNLOAD_SELECT_PAGE_ITEM_DEFAULT_PAGE="tools.popup.download.selectPage.defaultPage",e.TOOLS_POPUP_DOWNLOAD_SELECT_PAGE_ITEM_ALL_PAGE="tools.popup.download.selectPage.allPage",e.TOOLS_POPUP_DOWNLOAD_SELECT_PAGE_ITEM_PAGE="tools.popup.download.selectPage.page",e.TOOLS_POPUP_DOWNLOAD_SELECT_PAGE_DONE="tools.popup.download.selectPage.done",e.TOOLS_POPUP_DOWNLOAD_OUTPUT_INFO_TITLE="tools.popup.download.outputInfo.title",e.TOOLS_POPUP_DOWNLOAD_OUTPUT_INFO_PAGE_COUNT="tools.popup.download.outputInfo.pageCount",e.TOOLS_POPUP_DOWNLOAD_OUTPUT_INFO_WORK_SIZE="tools.popup.download.outputInfo.workSize",e.TOOLS_POPUP_DOWNLOAD_OUTPUT_INFO_DPI="tools.popup.download.outputInfo.dpi",e.TOOLS_POPUP_DOWNLOAD_OUTPUT_INFO_PAGE_NOT_SELECTED="tools.popup.download.outputInfo.pageNotSelected",e.TOOLS_POPUP_DOWNLOAD_OUTPUT_INFO_TIP="tools.popup.download.outputInfo.tip",e.TOOLS_POPUP_DOWNLOAD_OUTPUT_INFO_PAGE_CONFIRM="tools.popup.download.outputInfo.pageConfirm",e.TOOLS_POPUP_DOWNLOAD_OUTPUT_INFO_IMG_COMBINE_MAX_PAGE_SIZE="tools.popup.download.outputInfo.imgCombineMaxPageSize",e.TOOLS_POPUP_DOWNLOAD_OUTPUT_INFO_IOS_RESTRICT="tools.popup.download.outputInfo.iosRestrict",e.TOOLS_POPUP_DOWNLOAD_LICENSE_DESCRIPTION="tools.popup.download.license.description",e.TOOLS_POPUP_DOWNLOAD_LICENSE_LINK_URL="tools.popup.download.license.linkURL",e.TOOLS_POPUP_DOWNLOAD_LICENSE_LINK_TEXT="tools.popup.download.license.linkText",e.TOOLS_POPUP_DOWNLOAD_DOWNLOAD_BUTTON_DEFAULT="tools.popup.download.downloadBtn.default",e.TOOLS_POPUP_DOWNLOAD_DOWNLOAD_BUTTON_LOGIN="tools.popup.download.downloadBtn.login",e.TOOLS_POPUP_DOWNLOAD_IMG_COMBINE="tools.popup.download.imgCombine",e.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_TITLE="tools.popup.warning.downloadFailure.title",e.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION1="tools.popup.warning.downloadFailure.description1",e.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION2="tools.popup.warning.downloadFailure.description2",e.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_SUB_TITLE_IE="tools.popup.warning.downloadFailure.subTitleIE",e.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION_IE1="tools.popup.warning.downloadFailure.descriptionIE1",e.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION_IE2="tools.popup.warning.downloadFailure.descriptionIE2",e.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION_IE3="tools.popup.warning.downloadFailure.descriptionIE3",e.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION_IE4="tools.popup.warning.downloadFailure.descriptionIE4",e.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_CONFIRM="tools.popup.warning.downloadFailure.confirm",e.TOOLS_POPUP_INFO_DOWNLOAD_WAITING_TITLE="tools.popup.waiting.title",e.TOOLS_POPUP_INFO_DOWNLOAD_WAITING_DESCRIPTION="tools.popup.waiting.description",e.TOOLS_POPUP_PAGE_ADD_NEW_PAGE="tools.popup.page.addNewPage",e.TOOLS_POPUP_PAGE_COPY_PAGE="tools.popup.page.copyPage",e.TOOLS_POPUP_PAGE_MOVE_UP_PAGE="tools.popup.page.moveUpPage",e.TOOLS_POPUP_PAGE_MOVE_DOWN_PAGE="tools.popup.page.moveDownPage",e.TOOLS_POPUP_PAGE_DELETE_PAGE="tools.popup.page.deletePage";e.TOOLS_POPUP_MOBILE_TITLE="tools.popup.mobile.title",e.TOOLS_POPUP_MOBILE_CONTENTS="tools.popup.mobile.contents",e.TOOLS_POPUP_MOBILE_CONFIRM="tools.popup.mobile.confirm",e.TOOLTIP_MOBILE_TUTORIAL="tools.mobile.tutorial",e.TOOLS_POPUP_DOWNLOADREADY_TITLE="tools.popup.downloadReady.title",e.TOOLS_POPUP_DOWNLOADREADY_CONTENTS="tools.popup.downloadReady.contents",e.TOOLS_POPUP_DOWNLOADREADY_BUTTONTEXT="tools.popup.downloadReady.buttonText",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_RUNNING_TITLE="tools.popup.downloadProgress.running.title",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_RUNNING_DIVIDE_PAGE="tools.popup.downloadProgress.running.dividePage",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_RUNNING_RECEIVE_EMAIL="tools.popup.downloadProgress.running.receiveEmail",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_SUCCESS_TITLE="tools.popup.downloadProgress.success.title",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_SUCCESS_DOWNLOAD_PATH_INFO="tools.popup.downloadProgress.success.downloadPathInfo",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_SUCCESS_BTN_CLOSE="tools.popup.downloadProgress.success.btnClose",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_SUCCESS_BTN_DOWNLOAD="tools.popup.downloadProgress.success.btnDownload",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_FAILURE_TITLE="tools.popup.downloadProgress.failure.title",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_FAILURE_SUB_TITLE="tools.popup.downloadProgress.failure.subTitle",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_FAILURE_DOWNLOAD_FAIL_INFO="tools.popup.downloadProgress.failure.downloadFailInfo",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_FAILURE_BTN_CONFIRM="tools.popup.downloadProgress.failure.btnConfirm",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_SUCCESS_TITLE="tools.popup.downloadProgress.receiveEmail.success.title",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_SUCCESS_SUB_TITLE="tools.popup.downloadProgress.receiveEmail.success.subTitle",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_SUCCESS_BTN_CONFIRM="tools.popup.downloadProgress.receiveEmail.success.btnConfirm",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_FAILURE_TITLE="tools.popup.downloadProgress.receiveEmail.failure.title",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_FAILURE_SUB_TITLE="tools.popup.downloadProgress.receiveEmail.failure.subTitle",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_FAILURE_CERTIFICATION_INFO="tools.popup.downloadProgress.receiveEmail.failure.certificationInfo",e.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_FAILURE_BTN_CONFIRM="tools.popup.downloadProgress.receiveEmail.failure.btnConfirm",e.RB_ALIGN_FIRST="tools.handler.alignFirst",e.RB_ALIGN_FORWARD="tools.handler.alignForward",e.RB_ALIGN_BACKWARD="tools.handler.alignBackward",e.RB_ALIGN_LAST="tools.handler.alignLast",e.RB_UNLOCK_TITLE="tools.handler.unlockTitle",e.RB_UNLOCK_DESC="tools.handler.unlockDesc",e.RB_COPY_ITEM="tools.handler.copyItem",e.RB_GROUP_ITEM="tools.handler.groupItem",e.RB_UNGROUP_ITEM="tools.handler.unGroupItem",e.RB_PHOTO_CROP="tools.handler.photoCrop",e.RB_DBLCLICK="tools.handler.dblclick",e.RB_TOOLTIP_DIAGONAL_TITLE="tools.handler.tooltip.diagonal.title",e.RB_TOOLTIP_DIAGONAL_SUBTITLE1="tools.handler.tooltip.diagonal.subtitle1",e.RB_TOOLTIP_DIAGONAL_SHORTCUT1="tools.handler.tooltip.diagonal.shortcut1",e.RB_TOOLTIP_DIAGONAL_SUBTITLE2="tools.handler.tooltip.diagonal.subtitle2",e.RB_TOOLTIP_DIAGONAL_SHORTCUT2="tools.handler.tooltip.diagonal.shortcut2",e.RB_TOOLTIP_TOPBOTTOM_TITLE="tools.handler.tooltip.topBottom.title",e.RB_TOOLTIP_TOPBOTTOM_SUBTITLE1="tools.handler.tooltip.topBottom.subtitle1",e.RB_TOOLTIP_TOPBOTTOM_SHORTCUT1="tools.handler.tooltip.topBottom.shortcut1",e.RB_TOOLTIP_TOPBOTTOM_SUBTITLE2="tools.handler.tooltip.topBottom.subtitle2",e.RB_TOOLTIP_TOPBOTTOM_SHORTCUT2="tools.handler.tooltip.topBottom.shortcut2",e.RB_TOOLTIP_LEFTRIGHT_TITLE="tools.handler.tooltip.leftRight.title",e.RB_TOOLTIP_LEFTRIGHT_SUBTITLE1="tools.handler.tooltip.leftRight.subtitle1",e.RB_TOOLTIP_LEFTRIGHT_SHORTCUT1="tools.handler.tooltip.leftRight.shortcut1",e.RB_TOOLTIP_LEFTRIGHT_SUBTITLE2="tools.handler.tooltip.leftRight.subtitle2",e.RB_TOOLTIP_LEFTRIGHT_SHORTCUT2="tools.handler.tooltip.leftRight.shortcut2",e.RB_TOOLTIP_MOVEITEM_TITLE="tools.handler.tooltip.moveItem.title",e.RB_TOOLTIP_MOVEITEM_SHORTCUT="tools.handler.tooltip.moveItem.shortcut",e.RB_TOOLTIP_ROTATEITEM_TITLE="tools.handler.tooltip.rotateItem.title",e.RB_TOOLTIP_ROTATEITEM_SUBTITLE1="tools.handler.tooltip.rotateItem.subtitle1",e.RB_TOOLTIP_ROTATEITEM_SHORTCUT1="tools.handler.tooltip.rotateItem.shortcut1",e.RB_TOOLTIP_ROTATEITEM_SUBTITLE2="tools.handler.tooltip.rotateItem.subtitle1",e.RB_TOOLTIP_ROTATEITEM_SHORTCUT2="tools.handler.tooltip.rotateItem.shortcut2",e.RB_TOOLTIP_SETITEM_TITLE="tools.handler.tooltip.setItem.title",e.RB_TOOLTIP_SETITEM_DESCRIPTION="tools.handler.tooltip.setItem.description",e.RB_TOOLTIP_LOCK_TITLE="tools.handler.tooltip.lock.title",e.RB_TOOLTIP_LOCK_DESCRIPTION="tools.handler.tooltip.lock.description",e.RB_TOOLTIP_PHOTOCROPACCEPT_TITLE="tools.handler.tooltip.photoCropAccept.title",e.RB_TOOLTIP_PHOTOCROPCANCEL_TITLE="tools.handler.tooltip.photoCropCancel.title",e.PAGE_TOOLTIP_MOVESCREENHANDLE_TITLE="tools.pageListNavigator.tooltip.moveScreenHandle.title",e.PAGE_TOOLTIP_MOVESCREENHANDLE_SHORTCUT="tools.pageListNavigator.tooltip.moveScreenHandle.shortcut",e.PAGE_TOOLTIP_FULLSCREENMODE_TITLE="tools.pageListNavigator.tooltip.fullScreenMode.title",e.PAGE_TOOLTIP_FULLSCREENMODE_SHORTCUT="tools.pageListNavigator.tooltip.fullScreenMode.shortcut",e.PAGE_TOOLTIP_REDUCESCREEN_TITLE="tools.pageListNavigator.tooltip.reduceScreen.title",e.PAGE_TOOLTIP_REDUCESCREEN_SHORTCUT="tools.pageListNavigator.tooltip.reduceScreen.shortcut",e.PAGE_TOOLTIP_SCREENRATIO_TITLE="tools.pageListNavigator.tooltip.screenRatio.title",e.PAGE_TOOLTIP_SCREENRATIO_SHORTCUT="tools.pageListNavigator.tooltip.screenRatio.shortcut",e.PAGE_TOOLTIP_EXPANDSCREEN_TITLE="tools.pageListNavigator.tooltip.expandScreen.title",e.PAGE_TOOLTIP_EXPANDSCREEN_SHORTCUT="tools.pageListNavigator.tooltip.expandScreen.shortcut",e.PAGE_TOOLTIP_SHOWPAGELIST_TITLE="tools.pageListNavigator.tooltip.showPageList.title",e.PAGE_TOOLTIP_REMOVEPAGE_TITLE="tools.pageListNavigator.tooltip.removePage.title",e.PAGE_TOOLTIP_ADDCLONEPAGE_TITLE="tools.pageListNavigator.tooltip.addClonePage.title",e.PAGE_TOOLTIP_ADDCLONEPAGE_SUBTITLE1="tools.pageListNavigator.tooltip.addClonePage.subtitle1",e.PAGE_TOOLTIP_ADDCLONEPAGE_SHORTCUT1="tools.pageListNavigator.tooltip.addClonePage.shortcut1",e.PAGE_TOOLTIP_ADDCLONEPAGE_SUBTITLE2="tools.pageListNavigator.tooltip.addClonePage.subtitle2",e.PAGE_TOOLTIP_ADDCLONEPAGE_SHORTCUT2="tools.pageListNavigator.tooltip.addClonePage.shortcut2",e.PAGE_TOOLTIP_PREVIOUSPAGE_TITLE="tools.pageListNavigator.tooltip.previousPage.title",e.PAGE_TOOLTIP_PREVIOUSPAGE_SHORTCUT="tools.pageListNavigator.tooltip.previousPage.shortcut",e.PAGE_TOOLTIP_NEXTPAGE_TITLE="tools.pageListNavigator.tooltip.nextPage.title",e.PAGE_TOOLTIP_NEXTPAGE_SHORTCUT="tools.pageListNavigator.tooltip.nextPage.shortcut",e.PAGE_ZOOM_NAVIGATOR_POPUP_SCREEN_FIT="tools.pageZoomNavigator.popup.screenFit",e.PAGE_ZOOM_NAVIGATOR_POPUP_SCREEN_FULL="tools.pageZoomNavigator.popup.screenFull",e.SOUTHWEST_SETTINGS_BTN="tools.southwest.settings.btn",e.SOUTHWEST_SETTINGS_LABEL_THEME="tools.southwest.settings.label.theme",e.SOUTHWEST_SETTINGS_LABEL_GUIDE="tools.southwest.settings.label.guide",e.SOUTHWEST_SETTINGS_LABEL_LEFT_MENU="tools.southwest.settings.label.leftMenu",e.SOUTHWEST_SETTINGS_LABEL_ADMIN="tools.southwest.settings.label.admin",e.SOUTHWEST_SETTINGS_TOGGLE_BTN_DARK="tools.southwest.settings.toggleBtn.dark",e.SOUTHWEST_SETTINGS_TOGGLE_BTN_SNAP="tools.southwest.settings.toggleBtn.snap",e.SOUTHWEST_SETTINGS_TOGGLE_BTN_LAYER="tools.southwest.settings.toggleBtn.layer",e.SOUTHWEST_SETTINGS_TOGGLE_BTN_GUIDE_LINE="tools.southwest.settings.toggleBtn.guideLine",e.SOUTHWEST_SETTINGS_TOGGLE_BTN_PAGINATION_MODE="tools.southwest.settings.toggleBtn.paginationMode",e.SOUTHWEST_SETTINGS_TOGGLE_BTN_ADMIN="tools.southwest.settings.toggleBtn.admin",e.SOUTHWEST_SETTINGS_TOGGLE_BTN_DEV="tools.southwest.settings.toggleBtn.dev",e.SOUTHWEST_SETTINGS_TOGGLE_BTN_PAGE_SCROLL="tools.southwest.settings.toggleBtn.pageScrollMode",e.ITEM_ARRANGE_TYPE_SELECTOR_FILL="tools.itemArrangeTypeSelector.fill",e.ITEM_ARRANGE_TYPE_SELECTOR_FIT="tools.itemArrangeTypeSelector.fit",e.ITEM_ARRANGE_TYPE_SELECTOR_ORIGINAL="tools.itemArrangeTypeSelector.original",e.ITEM_ARRANGE_TYPE_SELECTOR_TOOLTIP_APPLY_BTN="tools.itemArrangeTypeSelector.tooltip.applyBtn",e.HELP_CENTER_TITLE="tools.helpCenter.title",e.HELP_CENTER_ZENDESK="tools.helpCenter.zendesk",e.HELP_CENTER_COPYRIGHT_INFO="tools.helpCenter.copyrightInfo",e.HELP_CENTER_BIZHOWS_CUSTOMER_SERVICE="tools.helpCenter.bizhowsCustomerService",e.HELP_CENTER_PRINT="tools.helpCenter.print",e.HELP_CENTER_FAQ="tools.helpCenter.faq",e.DESIGN_SHARE_TITLE="tools.designShare.header",e.DESIGN_SHARE_TAB_PUBLIC="tools.designShare.tab.public",e.DESIGN_SHARE_TAB_PRIVATE="tools.designShare.tab.private",e.DESIGN_SHARE_COMMON_SHARE_LINK_TITLE="tools.designShare.common.shareLink.title",e.DESIGN_SHARE_COMMON_SHARE_LINK_COPY="tools.designShare.common.shareLink.copyLink",e.DESIGN_SHARE_COMMON_SHARE_LINK_COPY_MESSAGE="tools.designShare.common.shareLink.copyMessage",e.DESIGN_SHARE_COMMON_VISIBLE_OPTION_READONLY="tools.designShare.common.visibleOption.readonly",e.DESIGN_SHARE_COMMON_VISIBLE_OPTION_COPY_ALLOWED="tools.designShare.common.visibleOption.copyAllowed",e.DESIGN_SHARE_COMMON_VISIBLE_OPTION_EDITABLE="tools.designShare.common.visibleOption.editable",e.DESIGN_SHARE_PUBLIC_TAB_DESCRIPTION_PRIVATE="tools.designShare.publicTab.descriptionFlashPrivate",e.DESIGN_SHARE_PUBLIC_TAB_DESCRIPTION_PUBLIC="tools.designShare.publicTab.descriptionFlashPublic",e.DESIGN_SHARE_PUBLIC_TAB_EXPOSE_TO_PUB="tools.designShare.publicTab.lsExposeToPublic",e.DESIGN_SHARE_PUBLIC_TAB_USE_PASSWORD="tools.designShare.publicTab.lsUsePassword",e.DESIGN_SHARE_PUBLIC_TAB_CONFIRM="tools.designShare.publicTab.btnConfirm",e.DESIGN_SHARE_PRIVATE_SHARED_USER_COUNT="tools.designShare.privateTab.sharedUserCount",e.DESIGN_PROJECT_MENU_PREV_BTN="tools.designProjectMenu.prevBtn",e.DESIGN_PROJECT_MENU_NEXT_BTN="tools.designProjectMenu.nextBtn",e.DESIGN_PROJECT_MENU_ADD_DESIGN_BTN="tools.designProjectMenu.addDesignBtn",e.DESIGN_PROJECT_MENU_ADD_DESIGN_BTN_2="tools.designProjectMenu.addDesignBtn2",e.MY_COLLECTION_DELETE_BY_PK="config.common.serverPath.myCollection.deleteByPk",e.MY_COLLECTION_SIZE_BY_RESOURCE_TYPE="config.common.serverPath.myCollection.sizeByResourceType",e.DESIGN_CATEGORY="config.common.serverPath.design.category",e.PIXABAY_IMAGE_API="config.common.serverPath.pixabay.image",e.PIXABAY_IMAGE_INFO_API="config.common.serverPath.pixabay.imageInfo",e.PIXABAY_DOWNLOAD_STATUS_API="config.common.serverPath.pixabay.downloadStatus",e.PIXABAY_DOWNLOAD_STATUS_All_API="config.common.serverPath.pixabay.downloadStatusAll",e.PIXABAY_API_URL="config.common.serverPath.pixabay.api.endpoint",e.PIXABAY_RECOMMEND_KEYWORDS="tools.pixabay.recommend.keywords",e.PIXABAY_SEARCH_PLACEHOLDER="tools.pixabay.search.placeholder",e.PIXABAY_RECOMMEND_TITLE="tools.pixabay.recommend.title",e.PIXABAY_INIT_TITLE="tools.pixabay.init.title",e.PIXABAY_DOWNLOAD_WARNING_POPUP_TITLE="tools.pixabay.downloadWarningPopup.title",e.PIXABAY_DOWNLOAD_WARNING_POPUP_DESCRIPTION1="tools.pixabay.downloadWarningPopup.description1",e.PIXABAY_DOWNLOAD_WARNING_POPUP_DESCRIPTION2="tools.pixabay.downloadWarningPopup.description2",e.PIXABAY_DOWNLOAD_WARNING_POPUP_DESCRIPTION3="tools.pixabay.downloadWarningPopup.description3",e.MYSPACE_PAGE_PATH="config.common.serverPath.myspace.pagePath",e.MYSPACE_DESIGN_LIST="config.common.serverPath.myspace.list",e.MYSPACE_DESIGN_DELETE="config.common.serverPath.myspace.delete",e.MYSPACE_DESIGN_COPY="config.common.serverPath.myspace.copy",e.MYSPACE_DESIGN_LINK="config.common.serverPath.myspace.link",e.MYSPACE_DESIGN_DELETE_LINK="config.common.serverPath.myspace.deleteLink",e.MYSPACE_DESIGN_DELETE_PERMANENTLY="config.common.serverPath.myspace.deletePermanently",e.MYSPACE_DESIGN_RESTORE="config.common.serverPath.myspace.restore",e.MYSPACE_DESIGN_CATEGORY="config.common.serverPath.myspace.category",e.MYSPACE_DESIGN_UPDATE_TITLE="config.common.serverPath.myspace.updateTitle",e.MYSPACE_USER_INFO="config.common.serverPath.myspace.userInfo",e.PRINTOUT_TOOLTIP_WARNING_SAFETY_LINE="tools.printout.tooltip.warning.safetyLine",e.PRINTOUT_TOOLTIP_WARNING_IMG_MIN_DPI="tools.printout.tooltip.warning.imgMinDPI",e.PRINTOUT_TOOLTIP_WARNING_FONT_MIN_HEIGHT="tools.printout.tooltip.warning.fontMinHeight",e.PRINTOUT_TOOLTIP_TEMPLATE_NOT_CHANGEABLE="tools.printout.tooltip.template.notChangeable",e.PRINTOUT_ALERT_LEVEL_NAME_WARNING="tools.printout.alert.levelName.warning",e.PRINTOUT_ALERT_LEVEL_NAME_CAUTION="tools.printout.alert.levelName.caution",e.PRINTOUT_ALERT_LEVEL_NAME_RECOMMEND="tools.printout.alert.levelName.recommend",e.PRINTOUT_ALERT_LEVEL_NAME_HOLD="tools.printout.alert.levelName.hold",e.PRINTOUT_POPUP_NEXT_BUTTON="tools.printout.popup.marginInfo.nextButton",e.PRINTOUT_POPUP_PREV_BUTTON="tools.printout.popup.marginInfo.prevButton",e.PRINTOUT_POPUP_PRINT_AREA_INFO_TITLE="tools.printout.popup.marginInfo.printArea.title",e.PRINTOUT_POPUP_PRINT_AREA_INFO_CONTENTS="tools.printout.popup.marginInfo.printArea.contents",e.PRINTOUT_POPUP_SAFETY_AREA_INFO_TITLE="tools.printout.popup.marginInfo.safetyArea.title",e.PRINTOUT_POPUP_SAFETY_AREA_INFO_CONTENTS="tools.printout.popup.marginInfo.safetyArea.contents",e.PRINTOUT_ALERT_RESTRICTION_NAME_OVERFLOW_SAFETY_ZONE="tools.printout.alert.restrictionName.overflowSafetyZone",e.PRINTOUT_ALERT_RESTRICTION_NAME_LOW_RES_IMAGE="tools.printout.alert.restrictionName.lowResImage",e.PRINTOUT_ALERT_RESTRICTION_NAME_MIN_FONT_SIZE="tools.printout.alert.restrictionName.minFontSize",e.PRINTOUT_ALERT_RESTRICTION_NAME_MIN_ELEMENT_SIZE="tools.printout.alert.restrictionName.minElementSize",e.PRINTOUT_ALERT_RESTRICTION_NAME_OVERLAP_POST_MANU="tools.printout.alert.restrictionName.overlapPostManu",e.PRINTOUT_ALERT_RESTRICTION_NAME_UNINPUT_TEXT="tools.printout.alert.restrictionName.uninputText",e.DESIGN_HISTORY_HEADER="tools.designHistory.header",e.RIGHT_BAR_TOOLTIP_DELETE_TEMPLATE_PAGE="tools.rightBar.tooltip.deleteTemplatePage",e.PRESENTATION_PLAYER_PAGE_NAVIGATOR_PAGE_NAME="tools.presentationPlayer.controller.pageNavigator.pageName",e.PRESENTATION_PLAYER_CONFIG_MANAGER_TITLE="tools.presentationPlayer.controller.configManager.title",e.PRESENTATION_PLAYER_CONFIG_MANAGER_EFFECT_OPTION_SECTION_TITLE="tools.presentationPlayer.controller.configManager.effectOptionSection.title",e.PRESENTATION_PLAYER_CONFIG_MANAGER_FADE_OPTION_NAME="tools.presentationPlayer.controller.configManager.effectOptionSection.fadeOptionName",e.PRESENTATION_PLAYER_CONFIG_MANAGER_DIRECTION_OPTION_NAME="tools.presentationPlayer.controller.configManager.effectOptionSection.directionOption.name",e.PRESENTATION_PLAYER_CONFIG_MANAGER_DIRECTION_OPTION_NONE="tools.presentationPlayer.controller.configManager.effectOptionSection.directionOption.none",e.PRESENTATION_PLAYER_CONFIG_MANAGER_DIRECTION_OPTION_HORIZON="tools.presentationPlayer.controller.configManager.effectOptionSection.directionOption.horizon",e.PRESENTATION_PLAYER_CONFIG_MANAGER_DIRECTION_OPTION_VERTICAL="tools.presentationPlayer.controller.configManager.effectOptionSection.directionOption.vertical",e.PRESENTATION_PLAYER_CONFIG_MANAGER_STYLE_OPTION_NAME="tools.presentationPlayer.controller.configManager.effectOptionSection.styleOption.name",e.PRESENTATION_PLAYER_CONFIG_MANAGER_STYLE_OPTION_SLIDE="tools.presentationPlayer.controller.configManager.effectOptionSection.styleOption.slide",e.PRESENTATION_PLAYER_CONFIG_MANAGER_STYLE_OPTION_SCALE="tools.presentationPlayer.controller.configManager.effectOptionSection.styleOption.scale",e.PRESENTATION_PLAYER_CONFIG_MANAGER_PLAY_OPTION_SECTION_TITLE="tools.presentationPlayer.controller.configManager.playOptionSection.title",e.PRESENTATION_PLAYER_CONFIG_MANAGER_INTERVAL_TIME_OPTION_NAME="tools.presentationPlayer.controller.configManager.playOptionSection.intervalTimeOptionName",e.PRESENTATION_PLAYER_CONFIG_MANAGER_INTERVAL_TIME_OPTION_VALUE_NAME="tools.presentationPlayer.controller.configManager.playOptionSection.intervalTimeOptionValueName",e.SOCIAL_NAME_SOCIAL="tools.socialName.social",e.SOCIAL_NAME_GOOGLE="tools.socialName.google",e.SOCIAL_NAME_FACEBOOK="tools.socialName.facebook",e.SOCIAL_NAME_NAVER="tools.socialName.naver",e.SOCIAL_NAME_KAKAO="tools.socialName.kakao",e.SOCIAL_NAME_BIZHOWS="tools.socialName.bizhows"}(i||(i={}))},,function(e,t,n){"use strict";n.d(t,"b",function(){return I}),n.d(t,"d",function(){return _}),n.d(t,"c",function(){return y}),n.d(t,"a",function(){return i});var i,a=n(39),r=n.n(a),o=n(38),s=n.n(o),c=n(44),l=n.n(c),u=n(40),h=n.n(u),d=n(0),p=n.n(d),m=n(1),f=n.n(m),g=n(35),v=n.n(g),E=n(37),T=n.n(E),I=function e(){var t=this;v()(this,e),T()(this,"isActionGroupEquals",function(e){return!1}),T()(this,"doSaveQueue",!0),T()(this,"renderAuto",!0),T()(this,"isLastSavedAction",!1),T()(this,"commit",function(){var e=f()(p.a.mark(function e(n,i,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.commitAction(n,i,a),!t.renderAuto){e.next=4;break}return e.next=4,a.renderAuto(n,i);case 4:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),T()(this,"rollback",function(){var e=f()(p.a.mark(function e(n,i,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.rollbackAction(n,i,a),!t.renderAuto){e.next=4;break}return e.next=4,a.renderAuto(n,i);case 4:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),T()(this,"concat",function(e){return!1})},_=function(e){function t(){var e,n;v()(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=r()(this,(e=s()(t)).call.apply(e,[this].concat(o))),T()(l()(n),"actionType",i.ONE_TIME),T()(l()(n),"doSaveQueue",!1),T()(l()(n),"changeDesign",function(){return!1}),T()(l()(n),"recycle",function(){}),n}return h()(t,e),t}(I),y=function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v()(this,e),T()(this,"isActionGroupEquals",function(e){return!1}),T()(this,"actionType",i.ONE_TIME),T()(this,"doSaveQueue",!1),T()(this,"isPossibleInCropMode",!0),T()(this,"changeDesign",function(){return!1}),T()(this,"isLastSavedAction",!1),T()(this,"commit",function(){var e=f()(p.a.mark(function e(t,i,a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.func(t,i,a);case 2:if(!n.renderAuto){e.next=5;break}return e.next=5,a.renderAuto(t,i);case 5:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),T()(this,"rollback",function(e,t,n){}),T()(this,"recycle",function(){n.func=null}),T()(this,"concat",function(e){return!1}),this.func=t,this.renderAuto=a};!function(e){e.ACTION_GROUP="액션 그룹",e.MOVE_PAGE="페이지 이동",e.REMOVE_PAGE="페이지 삭제",e.CHANGE_PAGE_RATIO="페이지 비율 변경",e.CHANGE_PAGE_SIZE="페이지 사이즈 변경",e.ADD_COPIED_PAGE="페이지 복제",e.ADD_BLANK_PAGE="빈 페이지 추가",e.PAGE_TITLE_EDIT="페이지 제목 변경",e.FOCUS_PAGE="페이지 포커싱",e.TEXT_GROUP_LIST_STYLE_BULLET="리스트 기본형 설정",e.TEXT_GROUP_LIST_STYLE_NUMBER="리스트 넘버링 설정",e.COMMON_SAME_COLOR_LINK="SVG/텍스트 레이어 연결된 컬러 변경",e.IMAGE_FILTER_PRESET="필터 프리셋적용",e.IMAGE_FILTER_INTENSITY="감도 설정",e.IMAGE_FILTER_BRIGHTNESS="밝기 설정",e.IMAGE_FILTER_CONTRAST="대비 설정",e.IMAGE_FILTER_LIGHTNESS="명도 설정",e.IMAGE_FILTER_SATURATION="채도 설정",e.IMAGE_FILTER_TINT="색조 설정",e.IMAGE_FILTER_COLOR_TONE="컬러톤 설정",e.IMAGE_FILTER_TEMPERATURE="온도 설정",e.IMAGE_FILTER_BLUR="흐리기 설정",e.IMAGE_FILTER_VIGNETTE="비네트",e.IMAGE_GRADATION_DEPTH="그라데이션 크기 설정",e.IMAGE_GRADATION_DIRECTION="그라데이션 방향설정",e.IMAGE_BITMAP_MASK_ITEM="비트맵마스크 아이템변경",e.IMAGE_SOLID_LINE_COLOR="사진테두리 컬러 설정",e.IMAGE_SOLID_LINE_ALPHA="사진테두리 투명도 설정",e.IMAGE_SOLID_LINE_THICKNESS="사진테두리 두께 설정",e.IMAGE_BITMAP_MASK_ACTIVE="모양오리기 설정",e.IMAGE_STICKER_FRAME_ACTIVE="디자인액자 설정",e.IMAGE_STICKER_FRAME_ITEM="디자인액자 아이템변경",e.IMAGE_GRADATION_ACTIVE="사진(이미지) 그라데이션 효과",e.IMAGE_SOLID_LINE_ACTIVE="사진(이미지) 테두리 효과",e.IMAGE_SHADOW_ACTIVE="사진 그림자 설정",e.IMAGE_SHADOW_COLOR="사진 그림자 컬러 설정",e.IMAGE_SHADOW_ANGLE="사진 그림자 방향 설정",e.IMAGE_SHADOW_ALPHA="사진 그림자 투명도 설정",e.IMAGE_SHADOW_DISTANCE="사진 그림자 거리 설정",e.IMAGE_SHADOW_BLUR="사진 그림자 흐림 설정",e.ADD_TEXT_ITEM="글상자 추가",e.TEXT_GRADIENT_ACTIVE="그라데이션 효과 설정",e.TEXT_GRADIENT_PRESET="텍스트 그라데이션 프리셋설정",e.TEXT_GRADIENT_TYPE="그라데이션 타입 설정",e.TEXT_GRADIENT_ANGLE="그라데이션 각도 설정",e.TEXT_GRADIENT_COLOR1="그라데이션 컬러1 설정",e.TEXT_GRADIENT_COLOR2="그라데이션 컬러2 설정",e.TEXT_GRADIENT_COLOR3="그라데이션 컬러3 설정",e.TEXT_GRADIENT_COLOR4="그라데이션 컬러4 설정",e.TEXT_SHADOW_COLOR="텍스트 그림자 컬러 설정",e.TEXT_SHADOW_PRESET="텍스트 그림자 프리셋설정",e.TEXT_SHADOW_ALPHA="텍스트 그림자 투명도 설정",e.TEXT_SHADOW_DISTANCE="텍스트 그림자 거리 설정",e.TEXT_SHADOW_ANGLE="텍스트 그림자 방향 설정",e.TEXT_SHADOW_SPREAD="텍스트 그림자 펴짐 설정",e.TEXT_SHADOW_SIZE="텍스트 그림자 크기 설정",e.TEXT_OUTLINE_PRESET="텍스트 아웃라인 프리셋설정",e.TEXT_OUTLINE_SIZE="외곽선 사이즈",e.TEXT_OUTLINE_COLOR="외곽선 컬러",e.TEXT_VERTICAL_ALIGN="텍스트 세로정렬 설정",e.TEXT_ALIGN="텍스트 가로정렬 설정",e.TEXT_SPACE="텍스트 자간 설정",e.TEXT_LINE_SPACE="텍스트 행간 설정",e.TEXT_SCALE_X="텍스트 장평 설정",e.TEXT_UPPERCASE="텍스트 대문자 변환",e.TEXT_STROKE="텍스트 취소선 설정",e.TEXT_UNDERLINE="텍스트 밑줄 변경",e.TEXT_FONT_FAMILY="텍스트 폰트패밀리 변경",e.TEXT_FONT_SIZE="텍스트 폰트사이즈 변경",e.TEXT_BOLD="볼드 셋팅",e.TEXT_ITALIC="텍스트 이탤릭 효과",e.TEXT_FONT_COLOR="텍스트 폰트 컬러 변경",e.TEXT_BACKGROUND_COLOR="텍스트 배경색 설정",e.TEXT_GROUP_FONT_DETAIL_ACTIVE="텍스트그룹1(글자속성) 설정",e.TEXT_OUTLINE_ACTIVE="텍스트 외곽선 설정",e.TEXT_SHADOW_ACTIVE="텍스트 그림자 설정",e.TEXT_GROUP_CURVE_ACTIVE="텍스트 곡선 설정",e.TEXT_GROUP_CURVE_CW="텍스트 곡선 방향",e.GRID_CELL_THICKNESS="표 셀 두께 변경",e.GRID_CELL_PROPS="셀 속성",e.GRID_CELL_BACKGROUND="표 셀 색상 변경",e.GRID_CELL_BACKGROUND_ALPHA="표 셀 배경 투명도 변경",e.GRID_CELL_FONT_COLOR="표 셀 폰트 색상 변경",e.GRID_CELL_BORDER_COLOR="표 셀 테두리 색상 변경",e.GRID_CELL_BORDER_ALPHA="표 셀 테두리 투명 적용",e.GRID_CELL_BORDER_THICKNESS="표 셀 테두리 두께 변경",e.GRID_CELL_BORDER="표 셀 테두리 적용",e.GRID_CELL_INNER_TEXT="표 셀 텍스트 변경",e.GRID_CELL_TEXT_SIZE="표 셀 텍스트 크기 변경",e.GRID_CELL_TEXT_SCALEX="표 셀 텍스트 장평 변경",e.GRID_SELECT_CELL="표 셀 선택",e.GRID_COPY_CELL="셀 복사",e.GRID_PASTE_CELL="셀 붙여넣기",e.GRID_SELECT_ALL_CELL="모든 셀 선택",e.GRID_MERGE_CELLS="셀 병합",e.GRID_SPLIT_CELLS="셀 분할",e.GRID_INSERT_COL_LEFT="왼쪽 열 삽입",e.GRID_INSERT_COL_RIGHT="오른쪽 열 삽입",e.GRID_INSERT_ROW_TOP="위쪽 행 삽입",e.GRID_INSERT_ROW_BOTTOM="아래쪽 행 삽입",e.GRID_DELETE_COL="열 삭제",e.GRID_DELETE_ROW="행 삭제",e.GRID_CELLS_WIDTH_EQUAL="셀 너비 맞춤",e.GRID_CELLS_HEIGHT_EQUAL="셀 높이 맞춤",e.GRID_PHOTO_DELETE="표 사진 삭제",e.ADD_GRID="표 추가",e.BITMAP_TO_SVG="SVG로 교체하기",e.MOVE_ITEM_TO_OTHER_PAGE="다른 페이지로 아이템 이동",e.SVG_LAYER_SELECT="색상 변경할 SVG 레이어 선택",e.SVG_LAYER_COLOR="SVG 레이어 색상 변경",e.SVG_LAYER_COLOR_LINK="SVG 레이어 연결된 컬러 변경",e.ADD_SVG="SVG 추가",e.SVG_PATTERN_SIZE="SVG 패턴 크기 변경",e.SVG_DATA_UPDATE="SVG 정보 수정",e.SVG_GRAPHIC_OUTLINE_ACTIVE="SVG 외곽선 효과 설정",e.SVG_GRAPHIC_OUTLINE_COLOR="SVG 외곽선 색상",e.SVG_GRAPHIC_OUTLINE_SIZE="SVG 외곽선 크기",e.SVG_GRAPHIC_OUTLINE_TYPE="SVG 외곽선 종류",e.SVG_SHADOW_ACTIVE="SVG 그림자 설정",e.SVG_SHADOW_COLOR="SVG 그림자 컬러 설정",e.SVG_SHADOW_ANGLE="SVG 그림자 방향 설정",e.SVG_SHADOW_ALPHA="SVG 그림자 투명도 설정",e.SVG_SHADOW_DISTANCE="SVG 그림자 거리 설정",e.SVG_SHADOW_BLUR="SVG 그림자 흐림 설정",e.CHANGE_LAYOUT="레이아웃변경기능(명함,포토북?)",e.ADD_PHOTO="사진 추가",e.EMPTY_PHOTO="사진 비우기",e.CROP_PHOTO="사진 자르기",e.EXPORT_PHOTO="사진 빼내기",e.CROP_PHOTO_GRID="표 사진 자르기",e.CROP_PHOTO_APPLY="사진 크롭 적용",e.CROP_PHOTO_CANCLE="사진 크롭 취소",e.CHANGE_PHOTO="사진변경",e.INIT_IMAGE="이미지 초기화",e.TEXT_CHANGE="텍스트 수정",e.CANVAS_DROP="뭔가 드롭",e.MOUSE_UP="마우스업",e.MOUSE_MOVE="마우스이동",e.MOUSE_DOWN="마우스다운",e.MOUSE_CLICK="마우스 클릭",e.MOUSE_DBLCLICK="마우스 더블클릭",e.KEY_DOWN="키다운",e.KEY_UP="키업",e.ONE_TIME="일회용",e.BACKGROUND_CHANGE="배경 변경",e.BACKGROUND_CHANGE_COLOR="배경색 변경",e.BACKGROUND_DELETE="배경 제거",e.BACKGROUND_PHOTO_USE="배경용 사진 사용",e.EDIT_SCALE_CHANGE="스케일변경",e.ADD_STICKER="스티커추가",e.MOVE_ITEM="아이템이동",e.RESIZE_ITEM="아이템 크기 조절",e.ROTATE_ITEM="아이템 회전",e.FIX_FRAME="사진틀 고정",e.FIX_TO_FRAME="사진 틀에 맞춤",e.DELETE_ITEM="아이템 삭제",e.AUTO_DELETE_ITEM="아이템 자동 삭제",e.GROUP_ADD="그룹화",e.GROUP_DELETE="그룹 해제",e.COPY="복사",e.CUT="잘라내기",e.PASTE="붙여넣기",e.ALIGN_LEFT="왼쪽맞춤",e.ALIGN_RIGHT="오른쪽맞춤",e.ALIGN_TOP="위쪽맞춤",e.ALIGN_BOTTOM="아래쪽맞춤",e.ALIGN_CENTER="가운데맞춤",e.ALIGN_MIDDLE="중간맞춤",e.LAYER_ALIGN_FIRST="레이어 정렬 맨 앞으로",e.LAYER_ALIGN_FORWARD="레이어 정렬 앞으로",e.LAYER_ALIGN_BACKWARD="레이어 정렬 뒤로",e.LAYER_ALIGN_LAST="레이어 정렬 맨 뒤로",e.LAYER_ALIGN_SWAP="레이어 아이템 정렬 바뀜",e.DISTRIBUTE_HORIZONTALLY="가로간격맞춤",e.DISTRIBUTE_VERTICALLY="세로간격맞춤",e.SELECT_ALL="전체선택",e.DESELECT="선택해제",e.ITEM_LOCK="잠금",e.ITEM_UNLOCK="잠금해제",e.ITEM_OPACITY="투명도 조절",e.ITEM_HYPERLINK="링크",e.FLIP_V="상하반전",e.FLIP_H="좌우반전",e.PRESET_SAVE="프리셋 저장",e.STYLE_TEMPLATE_SAVE="스타일 템플릿 저장",e.STYLE_TEMPLATE_UPDATE="스타일 템플릿 수정",e.STYLE_TEMPLATE_DELETE="스타일 템플릿 삭제",e.STYLE_TEMPLATE_APPLY="스타일 템플릿 적용",e.DESIGN_CREATE="디자인 저장",e.DESIGN_UPDATE="디자인 수정",e.DESIGN_DELETE="디자인 삭제",e.DESIGN_DOWNLOAD="디자인 다운로드",e.DESIGN_DOWNLOAD_SETTING="디자인 다운로드 설정",e.DESIGN_LOAD="디자인 로드",e.TEMPLATE_LOAD="템플릿 로드",e.TEMPLATE_PAGE_LOAD="템플릿 페이지 로드",e.DESIGN_ADD="디자인 추가",e.PRESET_PASTE="프리셋 붙여넣기",e.PRESET_CODE_EXTRACT="서식 코드 추출",e.PRESET_CODE_APPLY="서식 코드 적용",e.MENU_CLICK="공통 메뉴 클릭",e.LAYER_NAME_EDIT="레이어 이름 변경",e.CLIPBOARD_PASTE="클립보드 붙여넣기",e.PREVIEW_DOWNLOAD="미리보기 다운로드",e.HANDLER_REDRAW="레이어 핸들 그리기",e.SIGN_IN="로그인",e.SIGN_OUT="로그아웃",e.TOGGLE_ADMIN_MODE="관리자 모드 토글",e.TOGGLE_DEV_MODE="개발 모드 토글",e.GUIDELINE_ADD="가이드라인 추가",e.GUIDELINE_MOVE="가이드라인 이동",e.GUIDELINE_DEL="가이드라인 삭제",e.GUIDELINE_ALL_DEL="가이드라인 전체 삭제",e.PRINTOUT_INFO_ALERT_HIDE="인쇄출력 제한 경고 아이콘 숨기기",e.PRINTOUT_RESTRICTION_HOLD_TOGGLE="검토 보류상태 전환"}(i||(i={}))},,,function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return m});var i,a=n(35),r=n.n(a),o=n(36),s=n.n(o),c=n(37),l=n.n(c),u=n(3),h=n(43);!function(e){e.TEMPLATE="TEMPLATE",e.DESIGN="DESIGN",e.BITMAP="BITMAP",e.IMAGE="IMAGE",e.LINE="LINE",e.FIGURE="FIGURE",e.ILLUST="ILLUST",e.FRAME="FRAME",e.TEXT="TEXT",e.SVG="SVG",e.BACKGROUND="BACKGROUND",e.BACKGROUND_PATTERN="BACKGROUND_PATTERN",e.BACKGROUND_IMAGE="BACKGROUND_IMAGE",e.PIXABAY="PIXABAY",e.MOCKUP="MOCKUP",e.GRID="GRID",e.GRAPHIC="GRAPHIC",e.PHOTO="PHOTO",e.USER_FOLDER="USER_FOLDER",e.TEMPLATE_STYLE="TEMPLATE_STYLE",e.TEMPLATE_PAGE="TEMPLATE_PAGE",e.DESIGN_PAGE="DESIGN_PAGE"}(i||(i={}));var d={TEMPLATE:"템플릿",IMAGE:"사진",PHOTO:"사진",PIXABAY:"픽사베이",BITMAP:"비트맵",LINE:"선",FIGURE:"도형",ILLUST:"일러스트",FRAME:"프레임",TEXT:"텍스트",GRID:"표",BACKGROUND_PATTERN:"패턴 배경",BACKGROUND_IMAGE:"사진 배경"};function p(e){return d[e]||e}var m=function(){function e(){r()(this,e),l()(this,"resourceList",[i.TEMPLATE,i.IMAGE,i.PIXABAY,i.BITMAP,i.LINE,i.FIGURE,i.ILLUST,i.FRAME,i.TEXT,i.BACKGROUND_PATTERN,i.BACKGROUND_IMAGE,i.PHOTO,i.GRID]),l()(this,"resourceNameList",[u.CRM.get(h.a.TOOLS_LIB_ITEM_TEMPLATE_TITLE),u.CRM.get(h.a.TOOLS_LIB_ITEM_IMAGE_TITLE),u.CRM.get(h.a.TOOLS_LIB_ITEM_PIXABAY_TITLE),u.CRM.get(h.a.TOOLS_LIB_ITEM_BITMAP_TITLE),u.CRM.get(h.a.TOOLS_LIB_ITEM_LINE_TITLE),u.CRM.get(h.a.TOOLS_LIB_ITEM_FIGURE_TITLE),u.CRM.get(h.a.TOOLS_LIB_ITEM_ILLUST_TITLE),u.CRM.get(h.a.TOOLS_LIB_ITEM_FRAME_TITLE),u.CRM.get(h.a.TOOLS_LIB_ITEM_TEXT_TITLE),"".concat(u.CRM.get(h.a.TOOLS_LIB_BACKGROUND_TITLE)," (").concat(u.CRM.get(h.a.TOOLS_LIB_BACKGROUND_PATTERN_TITLE),")"),"".concat(u.CRM.get(h.a.TOOLS_LIB_BACKGROUND_TITLE)," (").concat(u.CRM.get(h.a.TOOLS_LIB_BACKGROUND_IMAGE_TITLE),")"),u.CRM.get(h.a.TOOLS_LIB_ITEM_PHOTO_TITLE),u.CRM.get(h.a.TOOLS_LIB_ITEM_GRID_TITLE)])}return s()(e,null,[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}},{key:"values",value:function(){return this.getInstance().resourceList}},{key:"valueOf",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=this.values()[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(o.toString()===e)return o}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return null}},{key:"getText",value:function(e){for(var t=0;t<this.values().length;t++)if(this.values()[t]===e)return this.getInstance().resourceNameList[t];return""}}]),e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return h});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=function(){function e(){a()(this,e)}return o()(e,null,[{key:"calcLocationByRotate",value:function(t,n,i){return e.calcLocationByRotate2(t.x,t.y,n.x,n.y,i)}},{key:"calcLocationByRotate2",value:function(e,t,n,i,a){var r=Math.sqrt(Math.pow(e-n,2)+Math.pow(t-i,2)),o=Math.atan2(t-i,e-n);return new u(Math.cos(o+a*Math.PI/180)*r+n,Math.sin(o+a*Math.PI/180)*r+i)}},{key:"getRadianByDegree",value:function(e){return e*Math.PI/180}},{key:"getDegreeByRadian",value:function(e){return Math.floor(180*e/Math.PI)}},{key:"getRadianByTwoVectors",value:function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)}},{key:"getRotatedVectorByPoint",value:function(e,t,n){return new u(e.x+(t.x-e.x)*Math.cos(n)-(t.y-e.y)*Math.sin(n),e.y+(t.x-e.x)*Math.sin(n)+(t.y-e.y)*Math.cos(n))}},{key:"isIncludeLtrbCoordinate",value:function(e,t){return e=e.getRotatedLTRB(-e.rotate),this.isPtInLtrbCoordinate({cx:e.left,cy:e.top},t)&&this.isPtInLtrbCoordinate({cx:e.left,cy:e.bottom},t)&&this.isPtInLtrbCoordinate({cx:e.right,cy:e.top},t)&&this.isPtInLtrbCoordinate({cx:e.right,cy:e.bottom},t)}},{key:"isPtInLtrbCoordinate",value:function(e,t){return e.cx>t.left&&e.cx<t.right&&e.cy>t.top&&e.cy<t.bottom}},{key:"isThereAnyOneSideBetweenLtrbs",value:function(e,t,n){return e.left<t.left&&e.left>n.left||e.top<t.top&&e.top>n.top||e.right>t.right&&e.right<n.right||e.bottom>t.bottom&&e.bottom<n.bottom}},{key:"isOutInLTRB",value:function(e,t){return e.left<t.left||e.top<t.top||e.right>t.right||e.bottom>t.bottom}},{key:"isAbsoluteOutInLTRB",value:function(e,t){return e.right<t.left||e.bottom<t.top||e.left>t.right||e.top>t.bottom}},{key:"isCollisionAABB",value:function(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}},{key:"isCollisionOBB",value:function(t,n,i,a){var r=[],o=t.getCenterPos();r.push(e.calcLocationByRotate(new u(t.left,t.top),o,n)),r.push(e.calcLocationByRotate(new u(t.right,t.top),o,n)),r.push(e.calcLocationByRotate(new u(t.right,t.bottom),o,n)),r.push(e.calcLocationByRotate(new u(t.left,t.bottom),o,n));var s=[],c=i.getCenterPos();return s.push(e.calcLocationByRotate(new u(i.left,i.top),c,a)),s.push(e.calcLocationByRotate(new u(i.right,i.top),c,a)),s.push(e.calcLocationByRotate(new u(i.right,i.bottom),c,a)),s.push(e.calcLocationByRotate(new u(i.left,i.bottom),c,a)),(e._isCollisionOBB(-1*n,r[0],r[1],s[0],s[2])||e._isCollisionOBB(-1*n,r[0],r[1],s[1],s[3]))&&(e._isCollisionOBB(-1*(n+90),r[1],r[2],s[0],s[2])||e._isCollisionOBB(-1*(n+90),r[1],r[2],s[1],s[3]))&&(e._isCollisionOBB(-1*a,s[0],s[1],r[0],r[2])||e._isCollisionOBB(-1*a,s[0],s[1],r[1],r[3]))&&(e._isCollisionOBB(-1*(a+90),s[1],s[2],r[0],r[2])||e._isCollisionOBB(-1*(a+90),s[1],s[2],r[1],r[3]))}},{key:"isCollisionWithCircle",value:function(e,t,n,i){var a=this.getRadianByDegree(360-i),r=i?this.getRotatedVectorByPoint(n,e.center,a):e.center,o=this.GetRectZone(r,t),s=t.getCenterPos(),c=t.getHeight()/2,l=t.getWidth()/2;switch(o){case 1:case 7:if(Math.abs(r.y-s.y)<=e.radius+c)return!0;break;case 3:case 5:if(Math.abs(r.x-s.x)<=e.radius+l)return!0;break;case 4:return!0;default:var h=0===o||6===o?t.left:t.right,d=0===o||2===o?t.bottom:t.top,p=new u(h,d);if(r.getDistance(p)<=e.radius)return!0}return!1}},{key:"GetRectZone",value:function(e,t){return(e.x<t.left?0:e.x>t.right?2:1)+3*(e.y>t.bottom?0:e.y<t.top?2:1)}},{key:"_isCollisionOBB",value:function(t,n,i,a,r){var o,s,c=new u(0,0);n=e.calcLocationByRotate(n,c,t),i=e.calcLocationByRotate(i,c,t),a=e.calcLocationByRotate(a,c,t),r=e.calcLocationByRotate(r,c,t),o=Math.abs(n.x-i.x),s=Math.abs(a.x-r.x);var l=[n.x,i.x,a.x,r.x].sort(function(e,t){return e-t});return Math.abs(l[0]-l[3])<o+s}},{key:"floorFromDecimalPlace",value:function(e,t){return parseFloat(e.toFixed(t))}},{key:"transformation",value:function(e,t,n){return{cx:(e.cx-t.cx)*Math.cos(n)-(e.cy-t.cy)*Math.sin(n)+t.cx,cy:(e.cx-t.cx)*Math.sin(n)+(e.cy-t.cy)*Math.cos(n)+t.cy}}},{key:"centerPoint",value:function(e,t){return{cx:(e.cx+t.cx)/2,cy:(e.cy+t.cy)/2}}},{key:"getPointByDistanceAngle",value:function(t,n){var i=e.getRadianByDegree(n);return{cx:t*Math.cos(i),cy:t*Math.sin(i)}}},{key:"getGCD",value:function(e,t){return t?this.getGCD(t,e%t):e}},{key:"getValidNumber",value:function(e,t,n){return e<t?t:e>n?n:e}},{key:"getNewRangeValue",value:function(e,t,n,i,a){if(0===e)return e;if(e<t)return i;if(e>n)return a;var r=i+(e-t)/(n-t)*(a-i);return r<i?r=i:r>a&&(r=a),r}},{key:"round",value:function(e,t){if(t<1)return e;var n=Math.pow(10,t-1);return Math.round(e*n)/n}}]),e}();c()(l,"PI_DOUBLE",2*Math.PI),c()(l,"PI_HALF",Math.PI/2);var u=function(){function e(t,n){a()(this,e),this.X=t,this.Y=n}return o()(e,[{key:"mult",value:function(e){return this.X*=e,this.Y*=e,this}},{key:"neg",value:function(){return new e(-this.x,-this.y)}},{key:"scalarMul",value:function(t){return new e(t*this.x,t*this.y)}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"sub",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"length",value:function(){return Math.sqrt(this.dot(this))}},{key:"getDistance",value:function(e){var t=e.x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"x",get:function(){return this.X},set:function(e){this.X=e}},{key:"y",get:function(){return this.Y},set:function(e){this.Y=e}}]),e}(),h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;a()(this,e),this._left=t,this._top=n,this._right=i,this._bottom=r,this._rotate=o}return o()(e,[{key:"getCenterPos",value:function(){return new u(this._left+this.getWidth()/2,this._top+this.getHeight()/2)}},{key:"getCenterOffset",value:function(){return new u(this.getWidth()/2,this.getHeight()/2)}},{key:"move",value:function(e,t){return this._left+=e,this._top+=t,this._right+=e,this._bottom+=t,this}},{key:"moveCenter",value:function(e){var t=this.getCenterOffset();return this._left=e.x-t.x,this._top=e.y-t.y,this._right=e.x+t.x,this._bottom=e.y+t.y,this}},{key:"getRotatedLTRB",value:function(t){var n;if(0!==t){var i=this.getCenterPos(),a=l.calcLocationByRotate(new u(this._left,this._top),i,t),r=l.calcLocationByRotate(new u(this._right,this._top),i,t),o=l.calcLocationByRotate(new u(this._right,this._bottom),i,t),s=l.calcLocationByRotate(new u(this._left,this._bottom),i,t),c=[a.x,r.x,o.x,s.x],h=[a.y,r.y,o.y,s.y];n=new e(Math.min.apply(Math,c),Math.min.apply(Math,h),Math.max.apply(Math,c),Math.max.apply(Math,h))}else n=new e(this._left,this._top,this._right,this._bottom);return n}},{key:"getRotatedLTRBByPivot",value:function(t,n){var i;if(0!==n){var a=t,r=l.calcLocationByRotate(new u(this._left,this._top),a,n),o=l.calcLocationByRotate(new u(this._right,this._top),a,n),s=l.calcLocationByRotate(new u(this._right,this._bottom),a,n),c=l.calcLocationByRotate(new u(this._left,this._bottom),a,n),h=[r.x,o.x,s.x,c.x],d=[r.y,o.y,s.y,c.y];i=new e(Math.min.apply(Math,h),Math.min.apply(Math,d),Math.max.apply(Math,h),Math.max.apply(Math,d))}else i=new e(this._left,this._top,this._right,this._bottom);return i}},{key:"clone",value:function(){return new e(this._left,this._top,this._right,this._bottom)}},{key:"setLTRB",value:function(e){this._left=e.left,this._top=e.top,this._right=e.right,this._bottom=e.bottom}},{key:"getWidth",value:function(){return this._right-this._left}},{key:"getHeight",value:function(){return this._bottom-this._top}},{key:"changeScale",value:function(e){return this._left*=e,this._top*=e,this._right*=e,this._bottom*=e,this}},{key:"changeScaleReverse",value:function(e){return this._left/=e,this._top/=e,this._right/=e,this._bottom/=e,this}},{key:"isEqual",value:function(e){return this._left===e.left&&this._top===e.top&&this._right===e.right&&this._bottom===e.bottom&&this._rotate===e.rotate}},{key:"roundLTRB",value:function(){return this._left=Math.round(this._left),this._top=Math.round(this._top),this._right=Math.round(this._right),this._bottom=Math.round(this._bottom),this}},{key:"left",get:function(){return this._left},set:function(e){this._left=e}},{key:"right",get:function(){return this._right},set:function(e){this._right=e}},{key:"top",get:function(){return this._top},set:function(e){this._top=e}},{key:"bottom",get:function(){return this._bottom},set:function(e){this._bottom=e}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e}}]),e}()},,,,function(e,t,n){"use strict";var i,a;n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a}),function(e){e.TEMPLATE_LIB="TEMPLATE_LIB",e.BIZ_TEMPLATE_LIB="BIZ_TEMPLATE_LIB",e.DESIGN_LIB="DESIGN_LIB",e.ITEM_LIB="ITEM_LIB",e.IMAGE_LIB="IMAGE_LIB",e.PIXABAY_LIB="PIXABAY_LIB",e.BITMAP_LIB="BITMAP_LIB",e.LINE_LIB="LINE_LIB",e.FIGURE_LIB="FIGURE_LIB",e.ILLUST_LIB="ILLUST_LIB",e.FRAME_LIB="FRAME_LIB",e.ALL_TYPE_ITEM="ALL_TYPE_ITEM",e.UPLOAD_LIB="UPLOAD_LIB",e.FAVORITE_LIB="FAVORITE_LIB",e.BACKGROUND_LIB="BACKGROUND_LIB",e.BACKGROUND_IMAGE_LIB="BACKGROUND_IMAGE_LIB",e.BACKGROUND_PATTERN_LIB="BACKGROUND_PATTERN_LIB",e.ADMIN_TOOL_LIB="ADMIN_TOOL_LIB",e.GRID_LIB="GRID_LIB",e.TEXT_LIB="TEXT_LIB",e.SETTING="SETTING",e.ADMIN_TOOL="ADMIN_TOOL",e.DEV_TOOL="DEV_TOOL",e.IMAGE_DOWNLOAD="IMAGE_DOWNLOAD",e.IMAGE_SEARCH="IMAGE_SEARCH"}(i||(i={})),function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE",e.DISABLED="DISABLED"}(a||(a={}))},,function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return l});var i,a,r=n(35),o=n.n(r),s=n(37),c=n.n(s);!function(e){e.PX="PX",e.MM="MM",e.CM="CM",e.IN="IN"}(i||(i={})),function(e){e.ALL="ALL",e.ADMIN="ADMIN",e.TEMPLATE_LIST="TEMPLATE_LIST",e.SHEET_SIZE="SHEET_SIZE"}(a||(a={}));var l,u=function e(){o()(this,e)};c()(u,"DEFAULT_UNIT",i.PX),c()(u,"DEFAULT_DPI",96),c()(u,"MAX_SHEET_SIZE",8e3),c()(u,"DEV_MAX_SHEET_SIZE",1e4),c()(u,"ALL_TYPE",{id:"all",title:"전체",allowedMode:"111"}),function(e){e[e.USER_MODE=1]="USER_MODE",e[e.ADMIN_MODE=2]="ADMIN_MODE",e[e.DEV_MODE=4]="DEV_MODE"}(l||(l={}))},,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=n(41),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"150px";if(a()(this,e),c()(this,"lastVerticalTrackBarHeightRatio",0),c()(this,"lastVerticalPosition",0),c()(this,"_maxMoveScrollHeight",0),c()(this,"isLimitedHeight",!1),this.hasHorizon=t,this.hasVertical=n,this.element=document.createElement("div"),this.element.className=l.a.SCROLL_ELEMENT,this.contents=document.createElement("div"),this.contents.className=l.a.SCROLL_ELEMENT_CONTENTS,this.setMaxHeight(i),this.element.appendChild(this.contents),n){this.trackBarVer=document.createElement("div"),this.trackBarVer.className=l.a.SCROLL_TRACK_VER,this.trackVerWrap=this.trackBarVer,this.trackVer=document.createElement("div"),this.trackVer.className=l.a.SCROLL_TRACK_VER_BAR,this.trackBarVer.appendChild(this.trackVer),this.element.appendChild(this.trackBarVer);var r=document.createElement("div");r.className=l.a.SCROLL_TRACK_VER_INNER,this.trackVer.appendChild(r),this.element.classList.add(e.SCROLL_VER)}if(t){this.trackBarHor=document.createElement("div"),this.trackBarHor.className=l.a.SCROLL_TRACK_HOR,this.trackHor=document.createElement("div"),this.trackHor.className=l.a.SCROLL_TRACK_HOR_BAR,this.trackBarHor.appendChild(this.trackHor),this.element.appendChild(this.trackBarHor);var o=document.createElement("div");o.className=l.a.SCROLL_TRACK_HOR_INNER,this.trackHor.appendChild(o),this.element.classList.add(e.SCROLL_HOR)}this.addEventListener()}return o()(e,[{key:"setMaxHeight",value:function(e){return this.element.style.height=e,this}},{key:"render",value:function(e){return e&&(this.contents.innerHTML="",this.contents.appendChild(e)),this.updateScrollbar(),this.element}},{key:"updateScrollbar",value:function(){if(this.trackVer&&this.contents.clientHeight){var e=this._maxMoveScrollHeight?this._maxMoveScrollHeight:this.contents.scrollHeight,t=this.contents.clientHeight/e;t>=1?this.trackBarVer.classList.add(l.a.HIDDEN):(this.trackBarVer.classList.remove(l.a.HIDDEN),this.updateScrollHeight(t)),this.moveVerticalScroll(e,t)}if(this.trackHor){var n=this.contents.clientWidth/this.contents.scrollWidth;if(1===n)this.trackBarHor.classList.add(l.a.HIDDEN);else{this.trackHor.style.width="".concat(100*n,"%");var i=this.contents.clientWidth*(1-n),a=this.contents.scrollLeft/(this.contents.scrollWidth-this.contents.clientWidth);this.trackHor.style.transform="translateX(".concat(i*a,"px)"),this.trackBarHor.classList.remove(l.a.HIDDEN)}}}},{key:"updateScrollHeight",value:function(e){var t=100*e;this.lastVerticalTrackBarHeightRatio!==t&&(this.trackVer.style.height="".concat(t,"%"),this.lastVerticalTrackBarHeightRatio=t)}},{key:"updateVerticalTrackBarPosition",value:function(e){this.lastVerticalPosition!==e&&(this.trackVer.style.transform="translateY(".concat(e,"px)"),this.lastVerticalPosition=e)}},{key:"moveVerticalScroll",value:function(e,t){var n=this.contents.clientHeight*(1-t);n-=7;var i=this.contents.scrollTop/(e-this.contents.clientHeight),a=n*(i=i>1?1:i);this.updateVerticalTrackBarPosition(a);var r=e-this.contents.clientHeight;this.isLimitedHeight&&this.contents.scrollTop>r&&this.setScrollY(r)}},{key:"addScrollEndEvent",value:function(e){var t=this;this.contents.addEventListener("scroll",function(n){t.contents.scrollHeight-t.contents.offsetHeight<=t.contents.scrollTop+1&&e(n)})}},{key:"hasVerticalScroll",value:function(){return this.contents.clientHeight<this.contents.scrollHeight}},{key:"addEventListener",value:function(){var e=this;this.contents.addEventListener("scroll",function(t){e.updateScrollbar(),e.onAfterScroll&&e.onAfterScroll(t)}),this.contents.addEventListener("mouseover",function(t){e.updateScrollbar()});var t=0,n=0;if(this.trackVer){var i=function(t){var i=t.clientY-n;n=t.clientY,e.moveScrollY(i)},a=function e(t){document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",i)};this.trackVer.addEventListener("mousedown",function(e){document.addEventListener("mouseup",a),document.addEventListener("mousemove",i),n=e.clientY})}if(this.trackHor){var r=function(n){var i=n.clientX-t;t=n.clientX,e.moveScrollX(i)},o=function e(t){document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",r)};this.trackHor.addEventListener("mousedown",function(e){document.addEventListener("mouseup",o),document.addEventListener("mousemove",r),t=e.clientX})}}},{key:"moveScrollX",value:function(e){return this.contents.scrollLeft+=this.contents.scrollWidth/this.contents.clientWidth*e,this}},{key:"moveScrollY",value:function(e){return this.contents.scrollTop+=this.contents.scrollHeight/this.contents.clientHeight*e,this}},{key:"moveScroll",value:function(e,t){this.contents.scrollLeft+=e,this.contents.scrollTop+=t}},{key:"moveScrollXToZero",value:function(){return this.setScrollX(0)}},{key:"moveScrollYToZero",value:function(){return this.setScrollY(0)}},{key:"setScrollX",value:function(e){return this.contents.scrollLeft=e,this}},{key:"setScrollY",value:function(e){return this.contents.scrollTop=e,this}},{key:"getScrollY",value:function(){return this.contents.scrollTop}},{key:"getScrollX",value:function(){return this.contents.scrollLeft}},{key:"moveScrollCenterX",value:function(){return this.contents.scrollLeft=(this.contents.scrollWidth-this.contents.clientWidth)/2,this}},{key:"moveScrollCenterY",value:function(){return this.contents.scrollTop=(this.contents.scrollHeight-this.contents.clientHeight)/2,this}},{key:"moveScrollCenter",value:function(){return this.contents.scrollLeft=(this.contents.scrollWidth-this.contents.clientWidth)/2,this.contents.scrollTop=(this.contents.scrollHeight-this.contents.clientHeight)/2,this}},{key:"hasScroll",value:function(){return!!(this.trackVer&&this.contents.scrollHeight-this.contents.clientHeight>0)||!!(this.trackHor&&this.contents.scrollWidth-this.contents.clientWidth>0)}},{key:"updateUI",value:function(){this.hasScroll()?this.element.classList.remove(e.SCROLL_DISABLE):this.element.classList.add(e.SCROLL_DISABLE)}},{key:"maxMoveScrollHeight",set:function(e){this._maxMoveScrollHeight=e,this.isLimitedHeight=0===e}}]),e}();c()(u,"SCROLL_DISABLE","scroll_disable"),c()(u,"SCROLL_HOR","scroll_hor"),c()(u,"SCROLL_VER","scroll_ver")},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o});var i,a,r,o,s=n(3);!function(e){var t=e.DATA_GTM_VALUE="data-gtm-value",n=e.DATA_GTM_PREVENT="data-gtm-prevent",a=new Map;function c(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];s.GoogleAnalyticsReporter.sendGTMEvent({eventKey:"canvas_event2",category:e,label:n,action:t,value:i,nonInteraction:!0,repeat:a})}e.sendEvent=function(e,t,n){c(e,t,n,0,arguments.length>3&&void 0!==arguments[3]&&arguments[3])},e.sendEventValue=c,e.setGTM=function(e,t,n){$(e).data({gtmData:{key:t.toString().toLowerCase(),value:n}})},e.setGTMValue=function(e,n){e.setAttribute(t,n)},e.preventGTMAttr=function(e){e.setAttribute(n,"true")},e.moveVirtualPage=function(e,t){s.GoogleAnalyticsReporter.moveVirtualPage(e===r.CUSTOM?t:e)},e.sendSearchReport=function(e){var t="".concat(e.type," 검색"),n="/".concat(t,"?k=").concat(e.keyword);if(e.category&&(n+="&c=".concat(e.category)),!a.has(n)){a.set(n,1),i.moveVirtualPage(r.CUSTOM,n);var s=e.keyword;e.type===o.ITEM&&(e.category&&"전체"===e.category||(s="".concat(e.category,":").concat(s))),i.sendEventValue(t,"키워드",s,e.totalRow,!0),e.category&&i.sendEventValue(t,"타입",e.category,e.totalRow,!0)}},e.sendImpressions=function(e){for(;e.length>0;){var t=e.splice(0,20);s.GoogleAnalyticsReporter.sendEEC({impressions:t})}},e.sendEECClick=function(e){s.GoogleAnalyticsReporter.sendEEC({click:{actionField:{list:e.list},products:[e]}})},e.sendEECDetailClick=function(e){s.GoogleAnalyticsReporter.sendEEC({detail:{actionField:{list:e.list},products:[e]}})},e.sendItemUseDetailEvent=function(e,t,n,i){switch(t.type){case o.TEMPLATE:case o.BIZ_TEMPLATE:return}if(!e.variant.includes("템플릿")){var a=e.variant;a.includes("텍스트")?a="텍스트 조합":a.includes("픽사베이")&&(a="픽사베이"),c("요소 선택","".concat(a," 선택"),n,i,!1)}},e.sendItemUseEvent=function(e,t){var n="".concat(e.type," 채택"),i=e.category&&!e.category.includes("전체"),a=null!=e.customAction;if(e.keyword){var r=e.keyword;e.type===o.ITEM&&i&&(r="".concat(e.category.substring(e.category.indexOf(">")+1),":").concat(r)),c(n,"키워드",r,t.position,!0)}if(i&&c(n,"카테고리",e.category,t.position,!0),a){var s="",l=0;e.customLabel?(s=e.customLabel,l=null!=t?t.position:l):null!=t&&(s=(s=t.id+"").substring(s.indexOf(":")+1),l=t.position),c(n,e.customAction,s,l,!0)}e.keyword||i||a||c(n,"NONE","",t.position,!0)}}(i||(i={})),function(e){e.PUBLIC_SHARE_START="공개공유하기",e.PUBLIC_SHARE_STOP="공개공유중지",e.PRIVATE_SHARE_START="비공개공유하기",e.PRIVATE_SHARE_COMPLETE="비공개공유하기전송"}(a||(a={})),function(e){e.CUSTOM="custom",e.DOWNLOAD_PRINT="다운로드/인쇄용다운로드",e.DOWNLOAD_HIGH="다운로드/고해상도다운로드",e.DOWNLOAD_QUICK="다운로드/빠른다운로드",e.DOWNLOAD="다운로드",e.DOWNLOAD_COMPLETE="다운로드완료/빠른다운로드",e.HQ_DOWNLOAD_COMPLETE="다운로드완료/고해상도",e.SIGNUP_COMPLETE="회원가입완료",e.SIGNUP="회원가입",e.MAIN_LOGIN="로그인/메인페이지",e.PAGE_BACK="/"}(r||(r={})),function(e){e.TEMPLATE="템플릿",e.BIZ_TEMPLATE="비즈템플릿",e.ITEM="디자인요소",e.TEXT_ITEM="텍스트요소",e.BG_ITEM="배경요소"}(o||(o={}))},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=n(41),u=n(12),h=n(174),d=function(){function e(){a()(this,e),c()(this,"contentsWrapClassName",l.a.POPUP_CONTENTS_WRAP),c()(this,"_isOpen",!1),c()(this,"_makeBtnClose",!0),c()(this,"HEIGHT_MARGIN",0)}return o()(e,[{key:"open",value:function(e){return h.a.scrollOff(),null==this.element&&this.render(),e?(this.contentsWrap.setAttribute("style","left:".concat(e.left?"".concat(e.left,"px"):"auto",";")+"right:".concat(e.right?"".concat(e.right,"px"):"auto","; top:").concat(e.top,"px;")),this.element.classList.add(l.a.OFFSET_POPUP)):this.element.classList.remove(l.a.OFFSET_POPUP),document.body.appendChild(this.element),e&&$(window).height()<$(this.contentsWrap).height()+this.HEIGHT_MARGIN+e.top?this.element.classList.add(l.a.UP_SIDE):this.element.classList.remove(l.a.UP_SIDE),e&&$(window).width()<$(this.contentsWrap).width()+e.left?this.element.classList.add(l.a.LEFT_SIDE):this.element.classList.remove(l.a.LEFT_SIDE),this.element.focus(),this.contentsWrap.classList.remove(l.a.HIDDEN),this._isOpen=!0,this.updateUI(),this}},{key:"close",value:function(){return h.a.scrollOn(),this._isOpen&&(document.body.removeChild(this.element),this.contentsWrap.classList.add(l.a.HIDDEN)),this._isOpen=!1,this}},{key:"render",value:function(){var e=this;if(this.element=document.createElement("div"),this.element.id=this.getId(),this.element.className="".concat(l.a.POPUP," ").concat(this.getElementClass()),this.element.tabIndex=0,this.element.addEventListener("click",function(t){t.preventDefault(),e.isPreventBackgroundCloseEvent()||e.isMouseDownOnPopup||e.close()}),this.element.addEventListener("keydown",function(e){return e.stopPropagation()}),this.contentsWrap=document.createElement("div"),this.contentsWrap.className="".concat(this.contentsWrapClassName," ").concat(l.a.HIDDEN),this.contentsWrap.addEventListener("click",function(e){return e.stopPropagation()}),this.element.appendChild(this.contentsWrap),this._makeBtnClose){var t=Object(u.setToolsIcon)(this.element,u.ToolsIcon.CLOSE);t.addEventListener("click",function(){return e.close()}),this.contentsWrap.appendChild(t)}this.contentsWrap.appendChild(this.getContents()),this.contentsWrap.addEventListener("mousedown",function(t){t.stopPropagation(),e.isMouseDownOnPopup=!0}),this.element.addEventListener("mousedown",function(){e.isMouseDownOnPopup=!1})}},{key:"getElementClass",value:function(){return""}},{key:"isPreventBackgroundCloseEvent",value:function(){return!1}},{key:"makeBtnClose",set:function(e){this._makeBtnClose=e}},{key:"isOpen",get:function(){return this._isOpen}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=function(){function e(){a()(this,e)}return o()(e,null,[{key:"createCanvas",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){if("undefined"==typeof createCanvas)return document.createElement("canvas");var e=createCanvas(300,150);return e._getContext=e.getContext,e.getContext=function(t,n){var i=e._getContext(t,n);return"2d"===t&&(i._scale=i.scale,i.scale=function(e,t){return i._scale(c(e),c(t))},i._rotate=i.rotate,i.rotate=function(e){return i._rotate(c(e))},i._translate=i.translate,i.translate=function(e,t){return i._translate(c(e),c(t))},i._transform=i.transform,i.transform=function(e,t,n,a,r,o){return i._transform(c(e),c(t),c(n),c(a),c(r),c(o))}),i},e})}]),e}();function c(e){return Math.round(100*e)/100}},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.MODE_HANDLER_MOVE_START="MODE_HANDLER_MOVE_START",e.MODE_HANDLER_CROP="MODE_HANDLER_CROP",e.MODE_HANDLER_DOWN="MODE_HANDLER_DOWN",e.MODE_GRID_HANDLER_DOWN="MODE_GRID_HANDLER_DOWN",e.MODE_HANDLER_RESIZE_T="RESIZE_T",e.MODE_HANDLER_RESIZE_TR="RESIZE_TR",e.MODE_HANDLER_RESIZE_R="RESIZE_R",e.MODE_HANDLER_RESIZE_BR="RESIZE_BR",e.MODE_HANDLER_RESIZE_B="RESIZE_B",e.MODE_HANDLER_RESIZE_BL="RESIZE_BL",e.MODE_HANDLER_RESIZE_L="RESIZE_L",e.MODE_HANDLER_RESIZE_TL="RESIZE_TL",e.MODE_HANDLER_ROTATE="MODE_RUBBERBAND_ROTATE",e.MODE_SELECT_ONE_OR_DRAG="MODE_SELECT_ONE_OR_DRAG",e.MODE_SELECT_ONE="MODE_SELECT_ONE",e.MODE_MULTI_SELECT="MODE_MULTI_SELECT",e.MODE_NONE="MODE_NONE",e.MODE_MOBILE_DOWN="MODE_MOBILE_DOWN",e.MODE_MOBILE_SCROLL="MODE_MOBILE_SCROLL",e.MODE_ITEM_DRAG="MODE_ITEM_DRAG",e.MODE_ITEM_DRAG_OR_SELECT="MODE_ITEM_DRAG_OR_SELECT",e.MODE_ITEM_RESIZE="MODE_ITEM_RESIZE",e.MODE_ITEM_ROTATE="MODE_ITEM_ROTATE",e.MODE_ITEM_QUICK_MENU="MODE_ITEM_QUICK_MENU",e.MODE_TEXT_EDIT="MODE_TEXT_EDIT",e.MODE_TEXT_SELECT="MODE_TEXT_SELECT",e.MODE_PHOTO_CROP="MODE_PHOTO_CROP",e.MODE_PHOTO_CROP_UI_SELECT="MODE_PHOTO_CROP_UI_SELECT",e.MODE_GRID_CELLS_SELECT="MODE_GRID_CELLS_SELECT",e.MODE_GRID_CLICK="MODE_GRID_CLICK",e.MODE_GRID_BORDER_HOR_DRAG="MODE_GRID_BORDER_HOR_DRAG",e.MODE_GRID_BORDER_VER_DRAG="MODE_GRID_BORDER_VER_DRAG",e.MODE_NAVIGATION="MODE_NAVIGATION",e.MODE_NAVIGATION_DRAG="MODE_NAVIGATION_DRAG",e.MODE_GRID_DRAG="MODE_GRID_DRAG",e.MODE_BACKGROUND_SELECT="MODE_BACKGROUND_SELECT",e.MODE_GUIDELINE_MOVE="MODE_GUIDELINE_MOVE",e.MODE_AFTER_MOVE_ITEM_TO_OTHER_PAGE="MODE_AFTER_MOVE_ITEM_TO_OTHER_PAGE",e.MODE_DOWN_CHANGE_VALUE="MODE_DOWN_CHANGE_VALUE",e.MODE_MOVE_CHANGE_VALUE="MODE_MOVE_CHANGE_VALUE"}(i||(i={}))},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i,a=n(35),r=n.n(a),o=n(36),s=n.n(o),c=n(37),l=n.n(c),u=n(316),h=function(){function e(){r()(this,e)}return s()(e,null,[{key:"validateChildSvgElement",value:function(e){if(!e||!e.childNodes)return!1;var t=!0,n=!1,i=void 0;try{for(var a,r=e.childNodes[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(u.a.isSVGElement(o)){if(this.SVG_NOT_RENDERING_DATA_NODE_NAME.indexOf(o.nodeName)<0)return!0;if(this.validateChildSvgElement(o))return!0}}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return!1}},{key:"validateNewChildSvgElement",value:function(e){if(!u.a.isSVGElement(e)&&void 0!==e.nodeName&&null!==e.nodeName)return!1;if(this.SVG_RENDERING_DATA_NODE_NAME.indexOf(e.nodeName.toLowerCase())>=0)return!0;var t=!0,n=!1,i=void 0;try{for(var a,r=e.childNodes[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(this.validateNewChildSvgElement(o))return!0}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return!1}},{key:"validateNewSvgElement",value:function(e){return this.validateNewChildSvgElement(e)}},{key:"validateSvgElement",value:function(e){return!!u.a.isSVGElement(e)&&(this.SVG_NOT_RENDERING_DATA_NODE_NAME.indexOf(e.nodeName)<0||this.validateChildSvgElement(e))}},{key:"isUnicornSvgElement",value:function(e){var t=e.getAttributeNode("isInit");return!!t&&Boolean(t.value)}},{key:"markInitTag",value:function(e){e.setAttribute("isInit","true");var t=!0,n=!1,i=void 0;try{for(var a,r=e.childNodes[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;u.a.isSVGElement(o)&&this.markInitTag(o)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"makeUnicornSvgElement",value:function(e,t){e&&(this.isUnicornSvgElement(e)||(u.a.appendKeyToId(e,t),u.a.initElementFillColor(e),u.a.initSvgImageElement(e),u.a.initSize(e),this.markInitTag(e)))}},{key:"getOriginFillColors",value:function(e){this.makeUnicornSvgElement(e);var t=u.a.getOriginColorSet(e);return Array.from(t)}},{key:"getOriginStrokeColors",value:function(e){return null}},{key:"getFillColorByOriginColor",value:function(e,t){this.makeUnicornSvgElement(e);var n=e.attributes.getNamedItem("fill"),i=e.attributes.getNamedItem("origin_fill");if(i&&i.value.toLowerCase()===t.toLowerCase()&&n)return"none"===n.value.toLowerCase()?"#00000000":String(n.value);var a=!0,r=!1,o=void 0;try{for(var s,c=e.childNodes[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;if(l.attributes){var u=this.getFillColorByOriginColor(l,t);if(u&&"none"!==u)return u}}}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return null}},{key:"setFillColorByOriginColorRecursive",value:function(e,t,n){var i=e.attributes.getNamedItem("fill"),a=e.attributes.getNamedItem("origin_fill");a&&a.value.toLowerCase()===t&&i&&i.value.toLowerCase()!==n&&e.setAttribute("fill",n);var r=!0,o=!1,s=void 0;try{for(var c,l=e.childNodes[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var h=c.value;u.a.isSVGElement(h)&&this.setFillColorByOriginColorRecursive(h,t,n)}}catch(e){o=!0,s=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}}},{key:"setFillColorByOriginColor",value:function(e,t,n){this.setFillColorByOriginColorRecursive(e,t.toLowerCase(),n.toLowerCase())}},{key:"getFirstElementByOriginColor",value:function(e,t){this.makeUnicornSvgElement(e);var n=e.attributes.getNamedItem("origin_fill");if(n&&n.value.toLowerCase()===t.toLowerCase())return e;var i=!0,a=!1,r=void 0;try{for(var o,s=e.childNodes[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;if(u.a.isSVGElement(c)){var l=this.getFirstElementByOriginColor(c,t);if(l)return l}}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return null}},{key:"getParentElement",value:function(e,t){var n=!0,i=!1,a=void 0;try{for(var r,o=e.childNodes[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;if(s===t)return e;var c=this.getParentElement(s,t);if(c)return c}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return null}},{key:"removeBeforeTargetElement",value:function(e,t,n){e===t&&(n.isSearched=!0);var i=e.nodeName.toLowerCase();if("rect"!==i&&"circle"!==i&&"ellipse"!==i&&"polygon"!==i&&"path"!==i||n.isSearched&&e!==t){if("defs"!==i){var a=!0,r=!1,o=void 0;try{for(var s,c=e.childNodes[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;l instanceof SVGElement&&this.removeBeforeTargetElement(l,t,n)}}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}}}else e.parentElement.removeChild(e)}},{key:"getImageframeAfterPhotoAreaElement",value:function(t,n){if(!n)return null;var i=t.cloneNode(!0),a=e.getFirstElementByOriginColor(i,n);return a?(this.removeBeforeTargetElement(i,a,{isSearched:!1}),i):null}},{key:"removeAfterTargetElement",value:function(e,t,n){e===t&&(n.isSearched=!0);var i=e.nodeName.toLowerCase();if("rect"!==i&&"circle"!==i&&"ellipse"!==i&&"polygon"!==i&&"path"!==i||!n.isSearched){if("defs"!==i){var a=!0,r=!1,o=void 0;try{for(var s,c=e.childNodes[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;l instanceof SVGElement&&this.removeAfterTargetElement(l,t,n)}}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}}}else e.parentElement.removeChild(e)}},{key:"getImageframeBeforePhotoAreaElement",value:function(t,n){if(!n)return null;var i=t.cloneNode(!0),a=e.getFirstElementByOriginColor(i,n);return a?(this.removeAfterTargetElement(i,a,{isSearched:!1}),i):null}},{key:"removeExceptTargetElement",value:function(e,t){var n=e.nodeName.toLowerCase();if("rect"!==n&&"circle"!==n&&"ellipse"!==n&&"polygon"!==n&&"path"!==n||e===t){if("defs"!==n){var i=!0,a=!1,r=void 0;try{for(var o,s=e.childNodes[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;c instanceof SVGElement&&this.removeExceptTargetElement(c,t)}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}}}else e.parentElement.removeChild(e)}},{key:"getImageframePhotoAreaElement",value:function(t,n){if(!n)return null;var i=t.cloneNode(!0),a=e.getFirstElementByOriginColor(i,n);return a?(this.removeExceptTargetElement(i,a),i):null}},{key:"getImageframeMaskRect",value:function(t,n){var i=t.cloneNode(!0);document.body.appendChild(i);try{return e.getFirstElementByOriginColor(i,n).getBoundingClientRect()}finally{document.body.removeChild(i)}}}]),e}();l()(h,"SVG_NOT_RENDERING_DATA_NODE_NAME",["g","svg"]),l()(h,"SVG_RENDERING_DATA_NODE_NAME",["rect","circle","ellipse","polygon","path","polyline","lineargradient","radialgradient"]),function(e){e.SOLID="SOLID",e.DASH="DASH"}(i||(i={}))},,function(e,t,n){"use strict";n.d(t,"a",function(){return E}),n.d(t,"b",function(){return i});var i,a=n(39),r=n.n(a),o=n(38),s=n.n(o),c=n(40),l=n.n(c),u=n(35),h=n.n(u),d=n(36),p=n.n(d),m=n(270),f=n(3),g=n(41),v=n(42),E=function(e){function t(e,n,i,a,o,c){var l,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return h()(this,t),(l=r()(this,s()(t).call(this))).reference=e,l.location=n,l.defaultContent=i,l.activeContent=a,l.tooltipID=c,l.attachToReference=u,l.addEventListeners(o),l}return l()(t,e),p()(t,[{key:"addEventListeners",value:function(e){var t=this;if(!e||void 0===e.setDefaultEvents||e.setDefaultEvents){var n=e&&void 0!==e.duration?e.duration:700,i=!(!e||void 0===e.atDisable)&&e.atDisable;this.reference.addEventListener("mouseenter",function(){i===t.reference.classList.contains("disabled")&&t.show(!1,n)}),this.reference.addEventListener("mouseleave",function(){t.hide()}),window.addEventListener("keydown",function(){t.hide()}),this.reference.addEventListener("click",function(){i!==t.reference.classList.contains("disabled")?t.hide():t.show(!0,n)})}}},{key:"updateTooltip",value:function(e,t){var n=this;if(e){if(e.innerHTML="",e.className=g.a.TOOLTIP,this.tooltipID&&e.setAttribute("id",this.tooltipID),this.location&&e.classList.add(this.location),t.title){var i=document.createElement("p");if(t.title.name){var a=document.createElement("span");a.className="title",a.innerHTML=this.getContentString(t.title.name),i.appendChild(a),t.title.shortcut&&a.classList.add("title_p")}if(t.title.shortcut){var r=document.createElement("span");r.className="shortcut",r.innerHTML=this.getContentString(t.title.shortcut),i.appendChild(r)}e.appendChild(i)}if(t.subtitles){var o=document.createElement("div");t.subtitles.forEach(function(e){var t=document.createElement("p");if(e.name){var i=document.createElement("span");i.className="subtitle",i.innerHTML=n.getContentString(e.name),t.appendChild(i)}if(e.shortcut){var a=document.createElement("span");a.className="shortcut",a.innerHTML=n.getContentString(e.shortcut),t.appendChild(a)}o.appendChild(t)}),e.appendChild(o)}if(t.description){var s=document.createElement("p"),c=document.createElement("span");c.className="description",c.innerHTML=this.getContentString(t.description),s.appendChild(c),e.appendChild(s)}(e.childElementCount>1||t.subtitles&&t.subtitles.length>1)&&e.classList.add("thick_tooltip")}}},{key:"getDefaultTooltip",value:function(){return this.defaultTooltip}},{key:"getActiveTooltip",value:function(){return this.activeTooltip}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(!v.a.getEnv().browser.isMobile()){this.defaultContent&&!this.defaultTooltip&&(this.defaultTooltip=document.createElement("div"),this.updateTooltip(this.defaultTooltip,this.defaultContent)),this.activeContent&&!this.activeTooltip&&(this.activeTooltip=document.createElement("div"),this.updateTooltip(this.activeTooltip,this.activeContent));var a,r,o=this.reference.classList.contains("active");o=e?!o:o,this.activeTooltip&&o?(a=this.defaultTooltip,r=this.activeTooltip):(a=this.activeTooltip,r=this.defaultTooltip),a&&a.parentElement&&a.parentElement.removeChild(a),r&&(r.parentElement||(!0===this.attachToReference&&void 0!==this.reference?this.reference.appendChild(r):document.body.appendChild(r),m.a.fadeOutDisplay(r),m.a.fadeInDisplay(r,"1",t)),this.setLocation(r,n,i))}}},{key:"hide",value:function(){this.defaultTooltip&&this.defaultTooltip.parentElement&&(m.a.fadeOutDisplay(this.defaultTooltip),this.defaultTooltip.parentElement.removeChild(this.defaultTooltip)),this.activeTooltip&&this.activeTooltip.parentElement&&(m.a.fadeOutDisplay(this.activeTooltip),this.activeTooltip.parentElement.removeChild(this.activeTooltip))}},{key:"dispose",value:function(){this.hide(),this.defaultContent=null,this.activeContent=null,this.defaultTooltip=null,this.activeTooltip=null,this.location=null}},{key:"updateContent",value:function(e,t){this.defaultContent=e,this.defaultTooltip||(this.defaultTooltip=document.createElement("div")),this.updateTooltip(this.defaultTooltip,this.defaultContent),t&&(this.activeContent=t,this.activeTooltip||(this.activeTooltip=document.createElement("div")),this.updateTooltip(this.activeTooltip,this.activeContent))}}],[{key:"createTooltip",value:function(e,n,i,a,r,o){return new t(e,n,i,a,r,o)}}]),t}(function(){function e(){h()(this,e)}return p()(e,[{key:"getContentString",value:function(e){var t;try{(t=f.CRM.get(e))||(t=e)}catch(n){t=e}return t}},{key:"setLocation",value:function(e,t,n){var a=$(this.reference).offset(),r=a.left,o=a.top,s=this.reference.getBoundingClientRect(),c=s.width,l=s.height,u=e.offsetWidth,h=e.offsetHeight;switch(this.location){case i.L:e.style.left="".concat(r-u-10,"px"),e.style.top="".concat(o+l/2-h/2,"px");break;case i.LT:e.style.left="".concat(r-u-10,"px"),e.style.top="".concat(o+l/2-h+21,"px");break;case i.LB:e.style.left="".concat(r-u-10,"px"),e.style.top="".concat(o+l/2-21,"px");break;case i.T:e.style.left="".concat(r+c/2-u/2,"px"),e.style.top="".concat(o-h-10,"px");break;case i.TL:e.style.left="".concat(r+c/2-u+21,"px"),e.style.top="".concat(o-h-10,"px");break;case i.TR:e.style.left="".concat(r+c/2-21,"px"),e.style.top="".concat(o-h-10,"px");break;case i.R:e.style.left="".concat(r+c+10,"px"),e.style.top="".concat(o+l/2-h/2,"px");break;case i.RT:e.style.left="".concat(r+c+10,"px"),e.style.top="".concat(o+l/2-h+21,"px");break;case i.RB:e.style.left="".concat(r+c+10,"px"),e.style.top="".concat(o+l/2-21,"px");break;case i.B:e.style.left="".concat(r+c/2-u/2,"px"),e.style.top="".concat(o+l+10,"px");break;case i.BL:e.style.left="".concat(r+c/2-u+21,"px"),e.style.top="".concat(o+l+10,"px");break;case i.BR:e.style.left="".concat(r+c/2-21,"px"),e.style.top="".concat(o+l+10,"px");break;case i.CUSTOM:void 0!==t&&(e.style.left="".concat(t,"px")),void 0!==n&&(e.style.top="".concat(n,"px"))}}}]),e}());!function(e){e.L="left_side",e.LT="left_top_side",e.LB="left_bottom_side",e.T="top_side",e.TL="top_left_side",e.TR="top_right_side",e.R="right_side",e.RT="right_top_side",e.RB="right_bottom_side",e.B="bottom_side",e.BL="bottom_left_side",e.BR="bottom_right_side",e.CUSTOM="custom_side"}(i||(i={}))},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i,a=n(42),r=n(58);!function(e){var t=new Map;function n(e){var t={repositoryType:e.repositoryType,resourceType:e.resourceType,key:e.key||e.referenceKey};return a.a.instance.renderer.leftBar.getActiveMenu().getGTMItemData(t)}e.sendClick=function(e){try{var t=n(e);if(null==t)return;r.a.sendEECClick(t);var i=a.a.instance.renderer.leftBar.getActiveMenu();r.a.sendItemUseEvent(i.getItemUseEventData(),t);var o=e.key||e.referenceKey;r.a.sendItemUseDetailEvent(t,i.getItemUseEventData(),o,t.position)}catch(e){}},e.sendDetailClick=function(e){try{var i=n(e);if(null==i)return;var a="".concat(i.id).concat(i.list," "),o=t.get(a)||0;0===o&&r.a.sendEECDetailClick(i),o++,t.set(a,o)}catch(e){}},e.sendImpressions=function(e){try{r.a.sendImpressions(e.items.map(function(t,n){var i=n+1+(e.pageNo-1)*e.pageSize;return t.getEECItemData(e.category,e.listTitle,i)}))}catch(e){}}}(i||(i={}))},function(e,t,n){"use strict";var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(35),l=n.n(c),u=n(36),h=n.n(u),d=n(37),p=n.n(d),m=n(121),f=n(48),g=function(){function e(){l()(this,e),p()(this,"storage",new Map)}return h()(e,[{key:"get",value:function(t){return this.storage.get(e.makeKey(t))}},{key:"set",value:function(t,n){this.storage.set(e.makeKey(t),n)}},{key:"clear",value:function(){this.storage.clear()}}],[{key:"makeKey",value:function(e){return $.param(e,!0)}}]),e}();n.d(t,"b",function(){return i}),n.d(t,"a",function(){return v}),function(e){e.TEMPLATE="TEMPLATE",e.DESIGN="DESIGN",e.ITEM="ITEM",e.BITMAP="BITMAP",e.IMAGE="IMAGE",e.LINE="LINE",e.FIGURE="FIGURE",e.ILLUST="ILLUST",e.FRAME="FRAME",e.PIXABAY="PIXABAY",e.TEXT="TEXT",e.DEV_UPLOAD="DEV_UPLOAD",e.FAVORITES="FAVORITES",e.BACKGROUND="BACKGROUND",e.BACKGROUND_PATTERN="BACKGROUND_PATTERN",e.BACKGROUND_IMAGE="BACKGROUND_IMAGE",e.GRID="GRID",e.BIZ_TEMPLATE="BIZ_TEMPLATE",e.DEV_TOOL="DEV_TOOL",e.ADMIN_TOOL="ADMIN_TOOL",e.IMAGE_DOWNLOAD="IMAGE_DOWNLOAD",e.IMAGE_SEARCH="IMAGE_SEARCH",e.TEMP="TEMP"}(i||(i={}));var v=function(){function e(){l()(this,e),p()(this,"cache",new g),p()(this,"items",[]),p()(this,"useFavorite",!1),p()(this,"gtmLibData",null)}var t,n,i;return h()(e,[{key:"setGTMLibData",value:function(e){this.gtmLibData=e}},{key:"setGTMLibDataAuto",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(f.c)(this.getLibType()),n="요소 > ".concat(t).concat(""!==e?":검색:"+e:""),i="요소>".concat(t);this.setGTMLibData({listTitle:n,category:i,keyword:e})}},{key:"getGTMLibData",value:function(){return null==this.gtmLibData&&this.setGTMLibDataAuto(),Object.assign({},this.gtmLibData)}},{key:"loadList",value:(i=s()(r.a.mark(function e(t,n){var i,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&this.clearItems(),i=this.getRequestParam(t),a=this.cache.get(i)){e.next=8;break}return e.next=6,this.requestList(i);case 6:a=e.sent,this.cache.set(i,a);case 8:return e.next=10,this.addItems(a.items);case 10:return this.lastListResult=a,e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)})),function(e,t){return i.apply(this,arguments)})},{key:"initFavoriteData",value:(n=s()(r.a.mark(function e(){var t,n,i,a,o,s,c,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.useFavorite){e.next=31;break}t=new Map,this.items.forEach(function(e){var n=e.listItemData.myCollectionPk.resourceType;t.has(n)||t.set(n,[]),t.get(n).push(e)}),n=!0,i=!1,a=void 0,e.prev=6,o=t.keys()[Symbol.iterator]();case 8:if(n=(s=o.next()).done){e.next=17;break}return c=s.value,l=t.get(c),e.next=13,m.a.setListItems(l);case 13:l.forEach(function(e){return e.render()});case 14:n=!0,e.next=8;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(6),i=!0,a=e.t0;case 23:e.prev=23,e.prev=24,n||null==o.return||o.return();case 26:if(e.prev=26,!i){e.next=29;break}throw a;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}},e,this,[[6,19,23,31],[24,,26,30]])})),function(){return n.apply(this,arguments)})},{key:"clearItems",value:function(){return this.items=[],this.clearCache(),this}},{key:"clearCache",value:function(){this.cache.clear()}},{key:"addItems",value:(t=s()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.items=this.items.concat(t),!this.useFavorite){e.next=4;break}return e.next=4,m.a.setListItems(t);case 4:return this.clearCache(),e.abrupt("return",this);case 6:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"addFavoriteEvent",value:function(e){var t=this;this.useFavorite=!0,m.a.addRegisterListener(e,function(e){return t.updateItemFavoriteUI(e)}).addUnregisterListener(e,function(e){return t.updateItemFavoriteUI(e)})}},{key:"updateItemFavoriteUI",value:function(e){this.findItems(e).forEach(function(e){return e.item.render()})}},{key:"findItems",value:function(e){for(var t=[],n=0,i=this.items.length;n<i;n++){var a=this.items[n];m.a.isSamePk(e,a.listItemData.myCollectionPk)&&t.push({idx:n,item:a})}return t}},{key:"getGTMItemData",value:function(e){try{var t=this.findItems({resourceType:e.resourceType,referenceKey:e.key,repositoryType:e.repositoryType});if(0===t.length)return null;var n=t[0],i=n.item,a=n.idx,r=this.getGTMLibData(),o=r.listTitle,s=r.category;return i.getEECItemData(s,o,a+1)}catch(e){}}}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=n(55),u=n(158),h=function(){function e(){a()(this,e)}return o()(e,null,[{key:"getPixelFromMilli",value:function(e,t){return e*this.INCH_PER_MILLI*t}},{key:"getPixelFromCenti",value:function(e,t){return e*this.INCH_PER_CENTI*t}},{key:"getPixelFromInch",value:function(e,t){return e*t}},{key:"getPixel",value:function(e,t,n){switch(n){case l.b.MM:return this.getPixelFromMilli(e,t);case l.b.CM:return this.getPixelFromCenti(e,t);case l.b.IN:return this.getPixelFromInch(e,t);case l.b.PX:return e}}},{key:"getDpi",value:function(e,t,n){switch(n){case l.b.MM:return t/e/this.INCH_PER_MILLI;case l.b.CM:return t/e/this.INCH_PER_CENTI;case l.b.IN:return t/e;case l.b.PX:return 0}}},{key:"getSizeFromPixel",value:function(e,t,n){switch(n){case l.b.MM:return e/t/this.INCH_PER_MILLI;case l.b.CM:return e/t/this.INCH_PER_CENTI;case l.b.IN:return e/t;case l.b.PX:return e}}},{key:"getSizeFromPixelWithDecimal",value:function(e,t,n){var i=this.getSizeFromPixel(e,t,n);switch(n){case l.b.CM:return Number(i.toFixed(1));case l.b.IN:return Number(i.toFixed(2));case l.b.MM:case l.b.PX:default:return Math.round(i)}}},{key:"changeUnit",value:function(e,t,n,i){if(t===n)return e;if(!i&&(t===l.b.PX||n===l.b.PX))throw new Error("픽셀 변환은 dpi값이 필요합니다");switch(t){case l.b.PX:return this.getSizeFromPixel(e,i,n);case l.b.MM:switch(n){case l.b.MM:return e;case l.b.CM:return e/10;case l.b.IN:return e/25.4;case l.b.PX:return this.getPixel(e,i,t);default:throw new Error("잘못된 단위입니다")}case l.b.CM:switch(n){case l.b.MM:return 10*e;case l.b.CM:return e;case l.b.IN:return e/2.54;case l.b.PX:return this.getPixel(e,i,t);default:throw new Error("잘못된 단위입니다")}case l.b.IN:switch(n){case l.b.MM:return 25.4*e;case l.b.CM:return 2.54*e;case l.b.IN:return e;case l.b.PX:return this.getPixel(e,i,t);default:throw new Error("잘못된 단위입니다")}default:throw new Error("잘못된 단위입니다")}}},{key:"getPixelLimitMax",value:function(t,n){var i={width:Math.round(e.getPixel(t.width,t.dpi,t.unit)),height:Math.round(e.getPixel(t.height,t.dpi,t.unit))};if(t.unit!==l.b.PX&&Math.max(i.width,i.height)>n){var a=i.width/i.height;a>1?(i.width=n,i.height=Math.round(i.width/a)):(i.height=n,i.width=Math.round(i.height*a))}return i}},{key:"isValidSize",value:function(e){return!isNaN(e)&&e>0}},{key:"isSamePixel",value:function(e,t){var n=this.getPixelLimitMax(e,u.a.getMaxSheetSize(!0));return t.width===n.width&&t.height===n.height}},{key:"isValidSizeOption",value:function(e){return e&&e.unit&&e.width>0&&e.height>0}}]),e}();c()(h,"INCH_PER_CENTI",1/2.54),c()(h,"INCH_PER_MILLI",h.INCH_PER_CENTI/10)},,function(e,t,n){"use strict";var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"MIRICANVAS",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NEW";a()(this,e),this.channel=t,this.changeMode=n},u=function(){function e(t){a()(this,e),c()(this,"save",!0),"BIZHOWS"===t.channel&&this.setBizhows()}return o()(e,[{key:"setBizhows",value:function(){this.save=!1}}]),e}(),h=function(){function e(t){a()(this,e),c()(this,"makeNewDocument",!0),c()(this,"copyDocument",!0),c()(this,"resizePage",!0),c()(this,"presentation",!0),c()(this,"moveToMySpace",!0),c()(this,"loginView",!0),c()(this,"useTempSaveStatusText",!1),c()(this,"share",!0),c()(this,"download",!0),c()(this,"messageBox",!0),c()(this,"saveToMySpace",!0),c()(this,"saveToDesignLibrary",!1),c()(this,"saveToCart",!1),c()(this,"saveUpdatedFromDesignLibrary",!1),c()(this,"saveUpdatedFromCart",!1),c()(this,"mySpaceOpenInNewTab",!1),c()(this,"showHistoryCopyButton",!0),"BIZHOWS"===t.channel&&(this.setBizhowsCommon(),"NEW"===t.changeMode?this.setBizhowsNewMode():this.setBizhowsUpdateMode())}return o()(e,[{key:"setBizhowsCommon",value:function(){this.makeNewDocument=!1,this.copyDocument=!1,this.resizePage=!1,this.presentation=!1,this.moveToMySpace=!1,this.share=!1,this.download=!1,this.messageBox=!1,this.saveToMySpace=!1,this.mySpaceOpenInNewTab=!0,this.showHistoryCopyButton=!1}},{key:"setBizhowsNewMode",value:function(){this.saveToDesignLibrary=!0,this.saveToCart=!0}},{key:"setBizhowsUpdateMode",value:function(){this.useTempSaveStatusText=!0,this.saveUpdatedFromDesignLibrary=!0,this.saveUpdatedFromCart=!0}}]),e}(),d=function(){function e(t){a()(this,e),c()(this,"changeTemplate",!0),c()(this,"moveBiz",!0),c()(this,"openNewTab",!0),"BIZHOWS"===t.channel&&this.setBizhowsCommon()}return o()(e,[{key:"setBizhowsCommon",value:function(){this.changeTemplate=!1,this.moveBiz=!1,this.openNewTab=!1}}]),e}(),p=function(){function e(t){a()(this,e),c()(this,"showAutoSaveInfoPusher",!1),c()(this,"showUpdateButtonInfoPusher",!1),"BIZHOWS"===t.channel&&("NEW"===t.changeMode?this.setBizhowsNewMode():this.setBizhowsUpdateMode())}return o()(e,[{key:"setBizhowsNewMode",value:function(){this.showAutoSaveInfoPusher=!0}},{key:"setBizhowsUpdateMode",value:function(){this.showUpdateButtonInfoPusher=!0}}]),e}(),m=n(467),f=n(283),g=function(){function e(t){a()(this,e),c()(this,"header",!0),c()(this,"templateTypeTool",!0),c()(this,"bizhowsTabMenu",!1),c()(this,"selectedBizhowsTabMenu",!1),"BIZHOWS"===t.channel&&this.setBizhowsCommon()}return o()(e,[{key:"setBizhowsCommon",value:function(){this.header=!1,this.templateTypeTool=!1,this.bizhowsTabMenu=!0,this.selectedBizhowsTabMenu=!0}}]),e}(),v=function(){function e(t){a()(this,e),c()(this,"bizhowsCenter",!1),c()(this,"copyright",!0),c()(this,"print",!0),c()(this,"faq",!0),c()(this,"zendesk",!0),"BIZHOWS"===t.channel&&this.setBizhows()}return o()(e,[{key:"setBizhows",value:function(){this.bizhowsCenter=!0,this.copyright=!1,this.print=!1,this.faq=!1,this.zendesk=!1}}]),e}(),E=function(){function e(t){a()(this,e),c()(this,"bizhowsCenter",!1),c()(this,"showBizhowsMark",!1),c()(this,"showMessageBoxBtn",!0),"BIZHOWS"===t.channel&&this.setBizhowsCommon()}return o()(e,[{key:"setBizhowsCommon",value:function(){this.bizhowsCenter=!0,this.showBizhowsMark=!0,this.showMessageBoxBtn=!1}}]),e}(),T=function(){function e(t){a()(this,e),c()(this,"showBizTemplate",!0),"BIZHOWS"===t.channel&&this.setBizhowsCommon()}return o()(e,[{key:"setBizhowsCommon",value:function(){this.showBizTemplate=!1}}]),e}(),I=n(468),_=function(){function e(){return a()(this,e),c()(this,"executionMode",new l),c()(this,"templateTypeInfo",new f.c),c()(this,"keyboardOption",new u(this.executionMode)),c()(this,"appHeaderOption",new h(this.executionMode)),c()(this,"dddotPopupOption",new d(this.executionMode)),c()(this,"unicornLoaderOption",new p(this.executionMode)),c()(this,"templateLibMenuOption",new g(this.executionMode)),c()(this,"pageToolboxOption",new I.a(this.executionMode)),c()(this,"printoutOption",new m.a(this.executionMode)),c()(this,"helpCenterOption",new v(this.executionMode)),c()(this,"editorSectionOption",new E(this.executionMode)),c()(this,"leftBarOption",new T(this.executionMode)),this.instance||(this.instance=this),this.instance}return o()(e,[{key:"initOption",value:function(t){if(t){var n=this.executionMode=e.createExecutionModeByParameter(t);this.keyboardOption=new u(n),this.appHeaderOption=new h(n),this.dddotPopupOption=new d(n),this.unicornLoaderOption=new p(n),this.templateLibMenuOption=new g(n),this.pageToolboxOption=new I.a(n),this.printoutOption=new m.a(n),this.helpCenterOption=new v(n),this.editorSectionOption=new E(n),this.leftBarOption=new T(n),this.templateTypeInfo=e.createTemplateTypeInfoByParameter(t.designCategory)}}}],[{key:"createExecutionModeByParameter",value:function(e){var t=["BIZHOWS-TEMPLATE","BIZHOWS-DESIGN","UNICORN-DESIGN"].includes(e.canvasOpenMode)?"BIZHOWS":"MIRICANVAS",n=e.mode;return new l(t,n)}},{key:"createTemplateTypeInfoByParameter",value:function(e){var t=new f.c;if(!e)return t;var n=e.split(",");return n[0].includes(f.a.STAND_SIGN)&&(t.name=f.a.STAND_SIGN,t.size=n[1]),t}}]),e}();t.a=new _},,function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return y});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=n(3),u=n(41),h=n(108),d=n(121),p=n(42),m=n(122),f=n(48),g=n(205),v=n(156),E=n(89),T=n(12),I=n(120),_=function(){function e(t){a()(this,e),c()(this,"useFavorite",!0),this.listItemData=t}return o()(e,[{key:"render",value:function(){return this.element||(this.element=this.makeElement()),this.renderFavorite(),this.element}},{key:"isValid",value:function(){return!0}},{key:"renderFavorite",value:function(){if(p.a.instance.user.isLogin()){var e=d.a.get(this.listItemData.myCollectionPk);e&&e.isFavorite()?this.element.classList.add(u.a.MY_COLLECTION):this.element.classList.remove(u.a.MY_COLLECTION)}else this.element.classList.remove(u.a.MY_COLLECTION)}},{key:"makeElement",value:function(){var e=this.makeDefaultLi();return e.appendChild(this.makeThumbImg()),e.appendChild(this.makeHoverLayer()),e}},{key:"makeDefaultLi",value:function(){var t=this,n=document.createElement("li");return n.draggable=!0,n.id=l.StringUtil.random(),n.setAttribute(e.ATTRIBUTE_RESOURCE_KEY,this.listItemData.resourceKey),n.addEventListener("click",function(){return t.doAction()}),n}},{key:"makeHoverLayer",value:function(){var e=this,t=document.createElement("div");return t.className=u.a.BTN_LAYER,t.draggable=!0,t.addEventListener("dragstart",function(t){e.element.classList.add("dragging"),t.dataTransfer.setData("text",e.element.id)}),t.addEventListener("dragend",function(){e.element.classList.remove("dragging")}),t}},{key:"makeFavoriteBtn",value:function(e){var t=this;Object(T.setToolsIcon)(e,T.ToolsIcon.HEART,!0).addEventListener("click",function(e){e.stopPropagation(),e.preventDefault(),h.a.openLoginPopup(E.a.FAVORITES,function(){return d.a.registerFavorite(t.listItemData.myCollectionPk)})}),Object(T.setToolsIcon)(e,T.ToolsIcon.HEART_FILL,!0).addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),h.a.openLoginPopup(E.a.FAVORITES,function(){return d.a.unregisterFavorite(t.listItemData.myCollectionPk)})})}},{key:"makeThumbImg",value:function(){var e=this.thumb=I.a.getImageElementWithReplaceableThumbnail(),t=this.getThumbUrlList();return e.src=l.ArrayUtil.isEmpty(t)?null:t[0],e}},{key:"updateThumbImg",value:function(e){if(this.thumb)if(e)this.thumb.src=e;else{var t=this.getThumbUrlList();this.thumb.src=l.ArrayUtil.isEmpty(t)?null:t[0]}}},{key:"doAction",value:function(){var e=p.a.instance,t=e.size,n=t.pageOffsetX*e.zoomScale+t.pageWidth*e.zoomScale/2,i=t.pageOffsetY*e.zoomScale+t.pageHeight*e.zoomScale/2;p.a.dispatch(new m.a(p.a.instance.renderPageIdx,n,i,this.listItemData.resourceKey))}},{key:"removeElement",value:function(){$(this.element).remove()}},{key:"getEECItemData",value:function(e,t,n){var i=this.listItemData.myCollectionPk,a=Object(f.c)(i.resourceType),r="".concat(a,":").concat(i.referenceKey);return{name:r,id:r,price:0,brand:"요소",category:e,variant:a,list:t,position:n}}},{key:"getTemplateSize",value:function(){return null}}]),e}();c()(_,"ATTRIBUTE_RESOURCE_KEY","data-resource-key");var y=function e(t,n,i){a()(this,e),this.resourceData=t;var r=g.a.createInstance(n,i);this.myCollectionPk={resourceType:n,repositoryType:i,referenceKey:r.getKey(t)},this.dropEventKey=r.getDropEventKey(t),this.resourceKey=v.a.getResourceKey(this.myCollectionPk.resourceType,this.dropEventKey,this.myCollectionPk.repositoryType)}},,,,function(e,t,n){"use strict";var i,a,r,o;n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return o}),function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP=1]="TOP",e[e.TOP_RIGHT=2]="TOP_RIGHT",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e[e.BOTTOM_LEFT=5]="BOTTOM_LEFT",e[e.BOTTOM=6]="BOTTOM",e[e.BOTTOM_RIGHT=7]="BOTTOM_RIGHT"}(i||(i={})),function(e){e[e.NONE=0]="NONE",e[e.LEFT=2]="LEFT",e[e.TOP=4]="TOP",e[e.RIGHT=8]="RIGHT",e[e.BOTTOM=16]="BOTTOM",e[e.CENTER_X=32]="CENTER_X",e[e.CENTER_Y=64]="CENTER_Y"}(a||(a={})),function(e){e.DEFAULT="default",e.PHOTO_CROP="photoCrop",e.IMAGE_FRAME_PHOTO_CROP="imageframePhotoCrop",e.GRID="grid"}(r||(r={})),function(e){e.WINDOW_RESIZE="WINDOW_RESIZE",e.PHOTO_CROP="PHOTO_CROP",e.IMAGE_FRAME_PHOTO_CROP="IMAGE_FRAME_PHOTO_CROP",e.CANCEL_PHOTO_CROP="CANCEL_PHOTO_CROP",e.MOVE="MOVE",e.ROTATE="ROTATE",e.RESIZE="RESIZE",e.FLUSH="FLUSH",e.GRID_CELL_THICKNESS_RESIZE="GRID_CELL_THICKNESS_RESIZE"}(o||(o={}))},,function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.LOGOUT_NOTIFICATION="로그아웃알림",e.PREVIEW_PROFILE="미리보기-로그인",e.PREVIEW_EDIT="미리보기-편집",e.PREVIEW_COPY="미리보기-복사",e.FAVORITES="찜하기",e.UPLOAD="업로드",e.OPEN_DOWNLOAD_POPUP="다운로드",e.DOWNLOAD_HIGH="다운로드-고화질",e.DOWNLOAD_PRINT="다운로드-출력",e.SAVE_HOTKEY="저장하기-단축키",e.OPEN_DESIGN_HOTKEY="열기-단축키",e.USER_MENU="사용자메뉴",e.SHARE="공유하기",e.CHANGE_PROJECT_TITLE="제목변경",e.SAVE_ICON="저장아이콘",e.HISTORY="작업내역",e.MOVE_MYSPACE="마이스페이스로가기",e.NEW_PROJECT="새프로젝트만들기",e.SETTING="설정",e.SAVE="저장하기",e.COPY_DESIGN="복사본만들기",e.LEFT_MENU="좌상단아이콘",e.TEMP="이상하다!",e.SHARED_DESIGN_VIEWER="공유 디자인 뷰어"}(i||(i={}))},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.WRAP="download_progress_wrap",e.POPUP="progress_popup",e.POPUP_CLOSE_BTN="popup_close_btn",e.CHARACTER="character",e.CHARACTER_VIEW="character_view",e.MAIN_TITLE="main_title",e.SUB_TITLE="sub_title",e.INFORMATION_WRAP="information_wrap",e.INFORMATION="information",e.BTN_AREA="btn_area",e.SCREEN_OUT="screen_out",e.EASTER_EGG="easter_egg",e.BTN_CONFIRM="btn_confirm",e.EXPAND_HEIGHT="expand_height",e.CONTENT="content",e.CONTENT_WRAP="content_wrap",e.RUNNING="running",e.RUNNING_PROGRESS="progress",e.RUNNING_PROGRESS_BAR="progress_bar",e.RUNNING_PROGRESS_BAR_BACKGROUND="progress_bar_bg",e.RUNNING_PROGRESS_BAR_CHARACTER="bar_character",e.RUNNING_TIP="tip",e.RUNNING_TIP_HIGHLIGHT="tip_highlight",e.RUNNING_OVERTIME_INFORMATION="overtime_information",e.RUNNING_BTN_DIVIDE_PAGE="btn_divide_page",e.RUNNING_BTN_RECEIVE_EMAIL="btn_receive_email",e.RUNNING_LINK_ACTIVE="link_active",e.SUCCESS="success",e.SUCCESS_CHARACTER_LEFT_HAND="left_hand",e.SUCCESS_CHARACTER_RIGHT_HAND="right_hand",e.SUCCESS_CHARACTER_CLAP_EFFECT="clap_effect",e.SUCCESS_BTN_CLOSE="btn_close",e.SUCCESS_BTN_DOWNLOAD="btn_download",e.FAILURE="failure",e.FAILURE_CHARACTER_CRYING="crying",e.FAILURE_BTN_CONFIRM="btn_confirm",e.EMAIL_RECEIVE_SUCCESS="email_receive_success",e.EMAIL_RECEIVE_SUCCESS_CHARACTER="email_receive_success_character",e.EMAIL_RECEIVE_FAILURE="email_receive_failure",e.EMAIL_RECEIVE_FAILURE_CHARACTER="email_receive_failure_character"}(i||(i={}))},,function(e,t,n){"use strict";n.d(t,"g",function(){return G}),n.d(t,"i",function(){return F}),n.d(t,"h",function(){return H}),n.d(t,"j",function(){return V}),n.d(t,"a",function(){return W}),n.d(t,"d",function(){return K}),n.d(t,"p",function(){return Y}),n.d(t,"c",function(){return z}),n.d(t,"k",function(){return X}),n.d(t,"n",function(){return j}),n.d(t,"e",function(){return Z}),n.d(t,"f",function(){return q}),n.d(t,"m",function(){return $}),n.d(t,"b",function(){return Q}),n.d(t,"l",function(){return J}),n.d(t,"o",function(){return ee});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(36),c=n.n(s),l=n(39),u=n.n(l),h=n(38),d=n.n(h),p=n(44),m=n.n(p),f=n(40),g=n.n(f),v=n(35),E=n.n(v),T=n(37),I=n.n(T),_=n(45),y=n(51),L=n(42),O=n(113),S=n(54),P=n(50),k=n(49),A=n(65),R=n(56),C=n(118),b=n(133),w=n(87),x=n(3),N=n(66),D=n(321),M=n(86),B=n(420),U=function e(){var t=this;E()(this,e),I()(this,"isActionGroupEquals",function(e){return!1}),I()(this,"concat",function(e){return!1}),I()(this,"changeDesign",function(){return!0}),I()(this,"isLastSavedAction",!1),I()(this,"lastRenderPageIdx",-1),I()(this,"items",L.a.isCropMode()?[L.a.instance.activeItems[0]]:S.b.getGroupItemsAddedArray(L.a.instance.activeItems.slice())),I()(this,"commit",function(e,n,i){t.lastRenderPageIdx>=0&&(n.renderPageIdx=t.lastRenderPageIdx),t.doCommit(e,n,i),t.lastRenderPageIdx=n.renderPageIdx,L.a.isCropMode()||L.a.dispatch(new M.a)}),I()(this,"rollback",function(e,n,i){n.renderPageIdx=t.lastRenderPageIdx,t.doRollback(e,n,i)})},G=function(e){function t(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];E()(this,t),i=u()(this,d()(t).call(this)),I()(m()(i),"isPossibleInCropMode",!0),I()(m()(i),"renderAfterCommit",!0),I()(m()(i),"isLastSavedAction",!1),I()(m()(i),"actionType",_.a.MOVE_ITEM),I()(m()(i),"changeDesign",function(){return!0}),I()(m()(i),"isActionGroupEquals",function(e){if(e instanceof J&&e.oldPage===i.pageOfItems)return!0;if(e instanceof ee)return i.renderAfterCommit=!1,!0;if(null==e||e.actionType!==i.actionType)return!1;for(var t=e.items.map(function(e){return e.tbpeId}).sort(),n=i.items.map(function(e){return e.tbpeId}).sort(),a=n.length,r=0,o=0;o<a;o++)n[o]===t[o]&&r++;return a>0&&t.length===a&&r===a}),I()(m()(i),"recycle",function(){i.items=null,i.pageOfItems=null}),I()(m()(i),"concat",function(e){return e instanceof t&&(i.basicTransX=e.basicTransX,i.basicTransY=e.basicTransY,i.translateX+=e.translateX,i.translateY+=e.translateY,!0)}),i.translateX=e,i.translateY=n,i.isShiftKeyPush=a,i.updateRealTime=r,i.isKeyAction=o,i.doSaveQueue=i.isSaveQueue()&&!i.isSkipAction();var s,c,l,h,p,f=L.a.instance,g=f.actionQ,v=g[g.length-1];v&&v.length>0&&(s=v[v.length-1]),s&&s instanceof t&&L.a.getContinueActionQ()&&s.isActionGroupEquals(m()(i))?(c=s.basicTransX,l=s.basicTransY,h=s.translateX,p=s.translateY):(c=0,l=0,h=0,p=0);var T=Math.abs(l+i.translateY)>Math.abs(c+i.translateX),y=i.translateX,O=i.translateY;if(i.isShiftKeyPush?(i.translateX=T?-h:i.translateX+c-h,i.translateY=T?i.translateY+l-p:-p):(i.translateX=i.translateX+c-h,i.translateY=i.translateY+l-p),f.config.useSnap){var S={x:i.translateX,y:i.translateY};f.renderer.handler.snap(S,o),o||(y-=i.translateX-S.x,O-=i.translateY-S.y,i.translateX=S.x,i.translateY=S.y)}return i.basicTransX=c+y,i.basicTransY=l+O,i}return g()(t,e),c()(t,[{key:"isSkipAction",value:function(){return!!this.items.find(function(e){return!e.props.isCanUserMove()})}},{key:"isSaveQueue",value:function(){return!(1===this.items.length&&this.items[0]instanceof P.e)||!this.items[0].isEditMode}},{key:"doCommit",value:function(e,t,n){var i=this;if(R.a.selectItems(this.items),!this.isSkipAction()){if(!this.pageOfItems){var a=!0,r=!1,o=void 0;try{for(var s,c=e.pages[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;if(l.getAllSingleItems().indexOf(this.items[0])>=0){this.pageOfItems=l;break}}}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}}if(this.updateRealTime&&this.items.forEach(function(e){return e.move(i.translateX,i.translateY)}),this.renderAfterCommit){var u=!0,h=!1,d=void 0;try{for(var p,m=t.activeItems[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){var f=p.value,g=t.pageController.getItemRenderer(f);if(g){g.updatePosition();var v=C.a.getItemIncludedPage(e.pages,f);n.canvasRenderer.printout.render({pageWrapper:t.pageController.getPageRenderer(v).element,pageId:v.pageId,pageSize:{width:v.sheetSize.width,height:v.sheetSize.height},pageItems:[f],domRenderParam:{editScale:v.editScale,printAreaBgColor:v.background.color},forceCheckPageItems:!0})}}}catch(e){h=!0,d=e}finally{try{u||null==m.return||m.return()}finally{if(h)throw d}}n.renderHandler(e,t,{type:w.a.MOVE,tx:this.translateX,ty:this.translateY,updateRealTime:this.updateRealTime})}}}},{key:"doRollback",value:function(e,t,n){var i=this;R.a.selectItems(this.items),this.items.forEach(function(e){return e.move(-1*i.translateX,-1*i.translateY)})}}]),t}(U),F=function(e){function t(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return E()(this,t),i=u()(this,d()(t).call(this)),I()(m()(i),"doSaveQueue",!0),I()(m()(i),"actionType",_.a.ROTATE_ITEM),I()(m()(i),"itemInfos",[]),I()(m()(i),"isLastSavedAction",!1),I()(m()(i),"changeDesign",function(){return!0}),I()(m()(i),"isRedo",!1),I()(m()(i),"isActionGroupEquals",function(e){if(null==e||e.actionType!==i.actionType)return!1;for(var t=e.items.map(function(e){return e.tbpeId}).sort(),n=i.items.map(function(e){return e.tbpeId}).sort(),a=n.length,r=0,o=0;o<a;o++)n[o]===t[o]&&r++;return a>0&&t.length===a&&r===a}),I()(m()(i),"recycle",function(){i.items=null}),I()(m()(i),"concat",function(e){return i.offsetX=e.offsetX,i.offsetY=e.offsetY,!0}),i.offsetX=e,i.offsetY=n,i.isMouseDrag=a,i.isShiftKeyPush=r,i.canRotate=i.items.every(function(e){return e.canRotate()&&!e.isLock()}),i.canRotate&&i.items.forEach(function(e){var t={ltrb:e.getLTRBCoordinate(),rotate:e.props.getRotate()};i.itemInfos.push(t)}),i.doSaveQueue=i.canRotate,i}return g()(t,e),c()(t,[{key:"doCommit",value:function(e,t,n){if(this.canRotate){var i;R.a.selectItems(this.items),n.renderHandler(e,t,{type:w.a.ROTATE}),this.backupRbRect?i=this.backupRbRect.clone():(i=n.handler.getLTRB(),this.backupRbRect=i.clone());var a=i.getCenterPos(),r=k.b.getDegreeByRadian(Math.atan2(a.y-this.offsetY,a.x-this.offsetX))+(this.isMouseDrag&&n.handler.lastRenderStatus.position.isBottomRotateHandle?90:-90)-i.rotate;if(this.isShiftKeyPush){var o=n.handler.lastRenderStatus.position.rotate,s=o+r,c=Math.sign(s),l=(c=0===c?1:c)>0?Math.floor(s/15):Math.ceil(s/15);r=(s=15*(s%15>=7.5*c?l+.5*(c+1):l+.5*(c-1)))-o}var u=!1;this.items.forEach(function(e){e.props.setRotate(e.props.getRotate()+r);var t=e.getLTRBCoordinate(),n=new k.c((t.left+t.right)/2,(t.top+t.bottom)/2);t.moveCenter(k.b.calcLocationByRotate(n,a,r)),e.setLTRBCoordinate(t),e.hover&&(u=!0,e.hover=!1)}),n.handler.rotate(r),u&&t.pageController.getPageRenderer(e.pages[t.renderPageIdx]).updateHoverLayer(),this.isRedo&&n.renderHandler(e,t),this.isRedo=!0}}},{key:"doRollback",value:function(e,t,n){if(this.canRotate){R.a.selectItems(this.items);for(var i=0,a=this.items.length;i<a;i++){var r=this.items[i],o=this.itemInfos[i];r.setLTRBCoordinate(o.ltrb),r.props.setRotate(o.rotate)}n.renderHandler(e,t)}}}]),t}(U),H=function(e){function t(e,n,i,a,r,o){var s,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];E()(this,t),s=u()(this,d()(t).call(this)),I()(m()(s),"isPossibleInCropMode",!0),I()(m()(s),"actionType",_.a.RESIZE_ITEM),I()(m()(s),"changeDesign",function(){return!0}),I()(m()(s),"isLastSavedAction",!1),I()(m()(s),"isActionGroupEquals",function(e){if(null==e||e.actionType!==s.actionType||(!s.equalResizeGroup||!e.equalResizeGroup)&&e.mouseAction!==s.mouseAction)return!1;for(var t=e.items.map(function(e){return e.tbpeId}).sort(),n=s.items.map(function(e){return e.tbpeId}).sort(),i=n.length,a=0,r=0;r<i;r++)n[r]===t[r]&&a++;return i>0&&t.length===i&&a===i}),I()(m()(s),"recycle",function(){s.items=null}),I()(m()(s),"concat",function(e){return s.offsetX=e.offsetX,s.offsetY=e.offsetY,s.calculateResult=null,!0}),s.mouseAction=e,s.pages=n,s.offsetX=i,s.offsetY=a,s.isShiftKeyPush=r,s.isAltOrCtrlKeyPush=o,s.equalResizeGroup=c;var l=s.page=C.a.getItemIncludedPage(n,s.items[0]);s.doSaveQueue=s.isSaveQueue(),s.movedby=D.a.mouseActionToHandle(s.mouseAction),s.backupStatusPosition=L.a.instance.renderer.handler.resizeRenderStatus.position;var h=L.a.instance.pageController.getPageRenderer(l).contents.getBoundingClientRect();return s.offsetX=(s.offsetX-h.left/L.a.instance.zoomScale)/l.editScale,s.offsetY=(s.offsetY-h.top/L.a.instance.zoomScale)/l.editScale,s}return g()(t,e),c()(t,[{key:"isSaveQueue",value:function(){return!(1===this.items.length&&this.items[0]instanceof P.e)||!this.items[0].isEditMode}},{key:"doCommit",value:function(e,n,i){var a;if(this.calculateResult?a=this.calculateResult:(this.calculateResult=t.calculate(Object.assign({},this.backupStatusPosition),this.items,this.mouseAction,this.offsetX,this.offsetY,this.getFixRatio(),this.isAltOrCtrlKeyPush),a=this.calculateResult),R.a.selectItems(this.items),a=Object.assign({},a),1===this.items.length){t.resizeSingle(this.items[0],a,this.movedby);var r=n.pageController.getItemRenderer(this.items[0]);r&&r.renderAutoAsync(n.pageEditScale)}else i.renderHandler(e,n,{type:w.a.RESIZE}),t.resizeMulti(this.items,a,i.handler.lastRenderStatus.position,this.movedby);i.handler.resizeRenderStatus.position=a}},{key:"getFixRatio",value:function(){var e=this.items,t=this.mouseAction,n=!this.isShiftKeyPush;switch(t){case A.a.MODE_HANDLER_RESIZE_L:case A.a.MODE_HANDLER_RESIZE_T:case A.a.MODE_HANDLER_RESIZE_R:case A.a.MODE_HANDLER_RESIZE_B:n=!1}if(e[0]instanceof b.a&&e[0].keepRatio||e[0]instanceof N.b)switch(t){case A.a.MODE_HANDLER_RESIZE_TL:case A.a.MODE_HANDLER_RESIZE_TR:case A.a.MODE_HANDLER_RESIZE_BL:case A.a.MODE_HANDLER_RESIZE_BR:n=!0}return n}},{key:"doRollback",value:function(e,n,i){R.a.selectItems(this.items);var a=Object.assign({},this.backupStatusPosition);if(1===n.activeItems.length){var r=t.resizeSingle(this.items[0],a,this.movedby),o=r.tx,s=r.ty;0===o&&0===s||this.items[0].move(-o,-s)}else{i.renderHandler(e,n);var c=t.resizeMulti(this.items,a,i.handler.lastRenderStatus.position,this.movedby),l=c.tx,u=c.ty;0===l&&0===u||this.items.forEach(function(e){return e.move(-l,-u)})}}}],[{key:"convertPositionStatusToLTRB",value:function(e,t){return new k.a(e.left,e.top,e.left+e.width,e.top+e.height,t)}},{key:"resizeSingle",value:function(e,n,i){var a=e.getLTRBCoordinate().getCenterPos(),r=t.convertPositionStatusToLTRB(n,e.props.getRotate());e.setLTRBCoordinate(r,void 0,i),n.left=e.props.getLeft(),n.top=e.props.getTop(),n.width=e.getWidth(),n.height=e.getHeight();var o=e.props.getRotate();if(0!==o){var s=r.getCenterPos(),c=this.getFixPosition(s.x,s.y,a.x,a.y,o),l=c.tx,u=c.ty;return e.move(l,u,{isCenterCorrect:!0}),n.left+=l,n.top+=u,e instanceof P.e&&(e.rotateCorrectV=new k.c(l,u)),{tx:l,ty:u}}return{tx:0,ty:0}}},{key:"resizeMulti",value:function(e,t,n,i){var a=t.width/n.width,r=t.height/n.height,o=n.left+n.width/2,s=n.top+n.height/2,c=t.left+t.width/2,l=t.top+t.height/2,u=0,h=0;if(0!==t.rotate){var d=this.getFixPosition(c,l,o,s,t.rotate),p=d.tx,m=d.ty;t.left+=p,t.top+=m,c+=p,l+=m,u=p,h=m}return e.forEach(function(e){var t=e.getLTRBCoordinate();t.left=c+(t.left-o)*a,t.top=l+(t.top-s)*r,t.right=c+(t.right-o)*a,t.bottom=l+(t.bottom-s)*r,t.rotate=e.props.getRotate(),e.setLTRBCoordinate(t,void 0,i)}),{tx:u,ty:h}}},{key:"getFixPosition",value:function(e,t,n,i,a){var r=Math.sqrt(Math.pow(e-n,2)+Math.pow(t-i,2)),o=Math.atan2(t-i,e-n);return{tx:Math.cos(o+a*Math.PI/180)*r+n-e,ty:Math.sin(o+a*Math.PI/180)*r+i-t}}},{key:"calculate",value:function(e,n,i,a,r,o,s){var c=e.height/e.width,l=1===n.length,u=l?n[0].props.getRotate():e.rotate;if(0!==u){var h,d;if(l){var p=n[0].getLTRBCoordinate().getCenterPos();h=p.x,d=p.y}else h=e.left+e.width/2,d=e.top+e.height/2;var m=Math.sqrt(Math.pow(a-h,2)+Math.pow(r-d,2)),f=Math.atan2(r-d,a-h);a=Math.cos(f-u*Math.PI/180)*m+h,r=Math.sin(f-u*Math.PI/180)*m+d}var g,v,E,T,I=0,_=0,y=0,O=0;switch(i){case A.a.MODE_HANDLER_RESIZE_T:_=e.top+e.height,O=Math.max(_-r,1),e.top=s?Math.min(_-O,e.top+e.height/2-.5):_-O,e.height=s?Math.max(2*O-e.height,1):O;break;case A.a.MODE_HANDLER_RESIZE_TR:y=Math.max(a-e.left,1),e.left=s?Math.min(e.left-y+e.width,e.left+e.width/2-.5):e.left,e.width=s?Math.max(2*y-e.width,1):y,_=e.top+e.height,O=Math.max(_-r,1),e.top=s?Math.min(_-O,e.top+e.height/2-.5):_-O,e.height=s?Math.max(2*O-e.height,1):O;break;case A.a.MODE_HANDLER_RESIZE_R:y=Math.max(a-e.left,1),e.left=s?Math.min(e.left-y+e.width,e.left+e.width/2-.5):e.left,e.width=s?Math.max(2*y-e.width,1):y;break;case A.a.MODE_HANDLER_RESIZE_BR:y=Math.max(a-e.left,1),e.left=s?Math.min(e.left-y+e.width,e.left+e.width/2-.5):e.left,e.width=s?Math.max(2*y-e.width,1):y,O=Math.max(r-e.top,1),e.top=s?Math.min(e.top-O+e.height,e.top+e.height/2-.5):e.top,e.height=s?Math.max(2*O-e.height,1):O;break;case A.a.MODE_HANDLER_RESIZE_B:O=Math.max(r-e.top,1),e.top=s?Math.min(e.top-O+e.height,e.top+e.height/2-.5):e.top,e.height=s?Math.max(2*O-e.height,1):O;break;case A.a.MODE_HANDLER_RESIZE_BL:I=e.left+e.width,y=Math.max(I-a,1),e.left=s?Math.min(I-y,e.left+e.width/2-.5):I-y,e.width=s?Math.max(2*y-e.width,1):y,O=Math.max(r-e.top,1),e.top=s?Math.min(e.top-O+e.height,e.top+e.height/2-.5):e.top,e.height=s?Math.max(2*O-e.height,1):O;break;case A.a.MODE_HANDLER_RESIZE_L:I=e.left+e.width,y=Math.max(I-a,1),e.left=s?Math.min(I-y,e.left+e.width/2-.5):I-y,e.width=s?Math.max(2*y-e.width,1):y;break;case A.a.MODE_HANDLER_RESIZE_TL:I=e.left+e.width,y=Math.max(I-a,1),e.left=s?Math.min(I-y,e.left+e.width/2-.5):I-y,e.width=s?Math.max(2*y-e.width,1):y,_=e.top+e.height,O=Math.max(_-r,1),e.top=s?Math.min(_-O,e.top+e.height/2-.5):_-O,e.height=s?Math.max(2*O-e.height,1):O}if(l&&n[0]instanceof P.e&&L.a.isCropMode()){var S=n[0],k=t.convertPositionStatusToLTRB(e,S.props.getRotate()).changeScale(1),R=S.getLTRBCoordinate().changeScale(1),C=S.photoCrop.getPhotoCloneBoxRect(S.props.getRotate()),b=S.photoCrop.getBoxRect(S.props.getRotate());if(!S.canIgnoreCropBox){var w=B.a.updateConflictedRect(k,R,C,b);e.left=w.left,e.top=w.top,e.width=w.getWidth(),e.height=w.getHeight()}}var x=e.height/e.width;if(o||!l)switch(i){case A.a.MODE_HANDLER_RESIZE_T:case A.a.MODE_HANDLER_RESIZE_B:g=((y=e.height/c)-e.width)/2,e.left-=g,e.width=y;break;case A.a.MODE_HANDLER_RESIZE_L:case A.a.MODE_HANDLER_RESIZE_R:v=((O=e.width*c)-e.height)/2,e.top-=v,e.height=O;break;case A.a.MODE_HANDLER_RESIZE_TR:x>c?(E=e.height/c,g=s?(E-e.width)/2:0,e.left-=g,e.width=E):(v=((T=e.width*c)-e.height)/(s?2:1),e.top-=v,e.height=T);break;case A.a.MODE_HANDLER_RESIZE_BR:x>c?(E=e.height/c,g=s?(E-e.width)/2:0,e.left-=g,e.width=E):(T=e.width*c,v=s?(T-e.height)/2:0,e.top-=v,e.height=T);break;case A.a.MODE_HANDLER_RESIZE_BL:x>c?(g=((E=e.height/c)-e.width)/(s?2:1),e.left-=g,e.width=E):(T=e.width*c,v=s?(T-e.height)/2:0,e.top-=v,e.height=T);break;case A.a.MODE_HANDLER_RESIZE_TL:x>c?(g=((E=e.height/c)-e.width)/(s?2:1),e.left-=g,e.width=E):(v=((T=e.width*c)-e.height)/(s?2:1),e.top-=v,e.height=T);break;default:throw Error("uaaaaaaaaaaa")}return e}}]),t}(U),V=function(e){function t(e,n,i,r){var s,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:O.c.ITEM_TOOLS_UPDATE_PREVENT;return E()(this,t),s=u()(this,d()(t).call(this)),I()(m()(s),"changeDesign",function(){return!0}),I()(m()(s),"commitAction",function(){var e=o()(a.a.mark(function e(t,n,i){var r,o,c,l,u,h,d,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getImageSize(t.getRepositoryType());case 2:if(r=e.sent,o=r.imgWidth,c=r.imgHeight,l=t.pages[s.pageIdx],u=C.a.getOffsetBaseRect(s.isDragging,l.sheetSize,l.editScale,s.offsetX,s.offsetY,o,c),!s.newItem){e.next=11;break}h=s.newItem,e.next=15;break;case 11:return d="".concat((new Date).getTime(),"-").concat(Math.random()),e.next=14,s.createNewItem(d,u);case 14:h=e.sent;case 15:return s.setItemOption(h),p=l.getAllSingleItems(),C.a.correctPosition(p,h),p.forEach(function(e){e.hover=!1}),l.addItem(h,l.items.length),R.a.selectItem(h),s.newItem=h,e.next=24,i.canvasRenderer.renderAuto(t,n);case 24:return i.renderOther(t,n,{type:s.cmdType}),e.next=27,s.afterCreateItem(t,n);case 27:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(m()(s),"rollbackAction",function(){var e=o()(a.a.mark(function e(t,n,i){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.pages[s.pageIdx].removeItem(s.newItem),e.next=4,i.renderAuto(t,n);case 4:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(m()(s),"recycle",function(){s.newItem=null}),s.pageIdx=e,s.offsetX=n,s.offsetY=i,s.isDragging=r,s.cmdType=c,s.renderAuto=!1,s}var n,i,r;return g()(t,e),c()(t,[{key:"getImageSize",value:(r=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{imgWidth:0,imgHeight:0});case 1:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})},{key:"createNewItem",value:(i=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})},{key:"afterCreateItem",value:(n=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"setItemOption",value:function(e){e.addedBy=y.c.USER}}]),t}(_.b),W=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.a.instance.activeItems.slice(),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.a.instance.renderPageIdx;return E()(this,t),e=u()(this,d()(t).call(this)),I()(m()(e),"actionType",_.a.GROUP_ADD),I()(m()(e),"changeDesign",function(){return!0}),I()(m()(e),"commitAction",function(t,n,i){if(e.doSaveQueue){var a=t.pages[e.pageIdx];e.oldAllItems=a.items.slice();var r=e.sortItems(e.oldAllItems,e.selectedItems);a.setItems(r,!0)}}),I()(m()(e),"rollbackAction",function(t,n,i){S.b.delete(e.groupId),t.pages[e.pageIdx].setItems(e.oldAllItems,!0)}),I()(m()(e),"recycle",function(){e.groupId=null,e.selectedItems=null}),e.pageIdx=i,e.selectedItems=S.b.convertSinglesToItems(n),(e.selectedItems.length<2||n[0].isLock())&&(e.doSaveQueue=!1),e}return g()(t,e),c()(t,[{key:"sortItems",value:function(e,t){var n=e.slice(),i=[],a=new S.a;this.groupId=a.getGroupId();var r=!0,o=!1,s=void 0;try{for(var c,l=n[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value,h=!1,d=!0,p=!1,m=void 0;try{for(var f,g=t[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var v=f.value;if(u===v){h=!0,a.addMember(v),v===t[t.length-1]&&i.push(a);break}}}catch(e){p=!0,m=e}finally{try{d||null==g.return||g.return()}finally{if(p)throw m}}h||i.push(u)}}catch(e){o=!0,s=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}return i}}]),t}(_.b),K=function e(){var t=this;if(E()(this,e),I()(this,"doSaveQueue",!0),I()(this,"actionType",_.a.GROUP_DELETE),I()(this,"isActionGroupEquals",function(e){return!1}),I()(this,"concat",function(e){return!1}),I()(this,"changeDesign",function(){return!0}),I()(this,"isLastSavedAction",!1),I()(this,"commit",function(){var e=o()(a.a.mark(function e(n,i,r){var o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.doSaveQueue){e.next=6;break}return o=S.b.getRootGroup(t.selectedItems[0].groupId),t.rootGroup=o,S.b.delete(o.getGroupId()),e.next=6,r.renderAuto(n,i);case 6:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(this,"rollback",function(){var e=o()(a.a.mark(function e(n,i,r){var o,s,c,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.rootGroup,t.selectedItems.forEach(function(e){var t=S.b.getRootGroup(e.groupId);t?o.addMember(t):o.addMember(e)}),s=o.getMembers(),c=n.pages[i.renderPageIdx],l=c.items,s.forEach(function(e,t){for(var n=0;n<l.length;n++)if(e===l[n]){if(l.splice(n,1),t===s.length-1){var i=l.splice(0,n);c.setItems(i.concat(o).concat(l),!0)}break}}),e.next=8,r.renderAuto(n,i);case 8:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(this,"recycle",function(){t.selectedItems=null}),this.selectedItems=L.a.instance.activeItems.filter(function(e){return e.select}),1===this.selectedItems.length&&this.selectedItems[0].groupId){var n=S.b.getRootGroup(this.selectedItems[0].groupId);this.selectedItems=n.getAllSingleMembers()}this.doSaveQueue=S.b.isSameGroup(this.selectedItems)},Y=function e(){E()(this,e),I()(this,"doSaveQueue",!1),I()(this,"actionType",_.a.SELECT_ALL),I()(this,"isActionGroupEquals",function(e){return!1}),I()(this,"concat",function(e){return!1}),I()(this,"changeDesign",function(){return!1}),I()(this,"isLastSavedAction",!1),I()(this,"commit",function(){var e=o()(a.a.mark(function e(t,n,i){var r,o,s,c,l,u,h,d;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=L.a.instance.renderPageIdx,o=t.pages[r],R.a.unselectAllItems(),s=!0,c=!1,l=void 0,e.prev=6,u=o.getAllSingleItems()[Symbol.iterator]();!(s=(h=u.next()).done);s=!0)(d=h.value).isLock()||o.background.isSkinItem(d)||R.a.appendSelectedItem(d);e.next=14;break;case 10:e.prev=10,e.t0=e.catch(6),c=!0,l=e.t0;case 14:e.prev=14,e.prev=15,s||null==u.return||u.return();case 17:if(e.prev=17,!c){e.next=20;break}throw l;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.next=24,i.renderAuto(t,n);case 24:case"end":return e.stop()}},e,null,[[6,10,14,22],[15,,17,21]])}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(this,"rollback",function(e,t){}),I()(this,"recycle",function(){})},z=function e(){E()(this,e),I()(this,"doSaveQueue",!1),I()(this,"actionType",_.a.DESELECT),I()(this,"isActionGroupEquals",function(e){return!1}),I()(this,"concat",function(e){return!1}),I()(this,"changeDesign",function(){return!1}),I()(this,"isLastSavedAction",!1),I()(this,"commit",function(e,t){R.a.unselectAllItems()}),I()(this,"rollback",function(e,t){}),I()(this,"recycle",function(){})},X=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.a.instance.activeItems.slice();return E()(this,t),e=u()(this,d()(t).call(this)),I()(m()(e),"propertyList",[]),I()(m()(e),"doSaveQueue",!0),I()(m()(e),"actionType",_.a.ITEM_LOCK),I()(m()(e),"isActionGroupEquals",function(e){return!1}),I()(m()(e),"changeDesign",function(){return!0}),I()(m()(e),"isLastSavedAction",!1),I()(m()(e),"commitAction",function(t,n,i){e.doSaveQueue&&e.targetList.forEach(function(t){e.propertyList.push({canUserDel:t.props.isCanUserDel(),canUserMove:t.props.isCanUserMove(),canUserResize:t.props.isCanUserResize()}),t.lock()})}),I()(m()(e),"rollbackAction",function(t,n,i){e.targetList.forEach(function(t,n){t.props.setCanUserDel(e.propertyList[n].canUserDel),t.props.setCanUserMove(e.propertyList[n].canUserMove),t.props.setCanUserResize(e.propertyList[n].canUserResize)})}),I()(m()(e),"recycle",function(){e.propertyList=null,e.targetList=null}),e.targetList=n,null==e.targetList||0===e.targetList.length?e.doSaveQueue=!1:(e.renderAuto=!0,e.targetList=S.b.getGroupItemsAddedArray(e.targetList)),e}return g()(t,e),t}(_.b),j=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.a.instance.activeItems.slice();return E()(this,t),e=u()(this,d()(t).call(this)),I()(m()(e),"doSaveQueue",!0),I()(m()(e),"actionType",_.a.ITEM_UNLOCK),I()(m()(e),"isActionGroupEquals",function(e){return!1}),I()(m()(e),"changeDesign",function(){return!0}),I()(m()(e),"commitAction",function(t,n,i){e.doSaveQueue&&e.targetList.forEach(function(e){e.props.setCanUserDel(!0),e.props.setCanUserMove(!0),e.props.setCanUserResize(!0)})}),I()(m()(e),"rollbackAction",function(t,n,i){e.targetList.forEach(function(e){e.props.setCanUserDel(!1),e.props.setCanUserMove(!1),e.props.setCanUserResize(!1)}),R.a.unselectAllItems()}),I()(m()(e),"recycle",function(){e.targetList=null}),e.targetList=n,e.targetList&&e.targetList.length>0&&e.targetList[0].isLock()?e.targetList=S.b.getGroupItemsAddedArray(e.targetList):e.doSaveQueue=!1,e}return g()(t,e),t}(_.b),Z=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.b.getGroupItemsAddedArray(L.a.instance.activeItems.slice());return E()(this,t),e=u()(this,d()(t).call(this)),I()(m()(e),"doSaveQueue",!0),I()(m()(e),"actionType",_.a.FLIP_H),I()(m()(e),"isActionGroupEquals",function(e){return!1}),I()(m()(e),"changeDesign",function(){return!0}),I()(m()(e),"commitAction",function(t,n,i){e.doSaveQueue&&(e.flip(),i.renderLayerThumb(e.selectedItems))}),I()(m()(e),"rollbackAction",function(t,n,i){null!=e.selectedItems&&(e.flip(),i.renderLayerThumb(e.selectedItems))}),I()(m()(e),"recycle",function(){e.selectedItems=null}),e.selectedItems=n,e.selectedItems.length>0&&!e.selectedItems[0].isLock()||(e.doSaveQueue=!1),e}return g()(t,e),c()(t,[{key:"flip",value:function(){if(1===this.selectedItems.length)this.selectedItems[0].flipH(!0);else{var e=L.a.instance.renderer.handler.getLTRB().getCenterPos(),t=!0,n=!1,i=void 0;try{for(var a,r=this.selectedItems[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;o.move(2*(e.x-o.getLTRBCoordinate().getCenterPos().x),0),o.flipH(!0)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}}}]),t}(_.b),q=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.b.getGroupItemsAddedArray(L.a.instance.activeItems.slice());return E()(this,t),e=u()(this,d()(t).call(this)),I()(m()(e),"doSaveQueue",!0),I()(m()(e),"actionType",_.a.FLIP_V),I()(m()(e),"isActionGroupEquals",function(e){return!1}),I()(m()(e),"changeDesign",function(){return!0}),I()(m()(e),"commitAction",function(t,n,i){e.doSaveQueue&&(e.flip(),i.renderLayerThumb(e.selectedItems))}),I()(m()(e),"rollbackAction",function(t,n,i){e.selectedItems&&(e.flip(),i.renderLayerThumb(e.selectedItems))}),I()(m()(e),"recycle",function(){e.selectedItems=null}),e.selectedItems=n,(0===e.selectedItems.length||e.selectedItems[0].isLock())&&(e.doSaveQueue=!1),e}return g()(t,e),c()(t,[{key:"flip",value:function(){if(1===this.selectedItems.length)this.selectedItems[0].flipV(!0);else{var e=L.a.instance.renderer.handler.getLTRB().getCenterPos(),t=!0,n=!1,i=void 0;try{for(var a,r=this.selectedItems[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;o.move(0,2*(e.y-o.getLTRBCoordinate().getCenterPos().y)),o.flipV(!0)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}}}]),t}(_.b),$=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.a.instance.activeItems.slice();return E()(this,t),n=u()(this,d()(t).call(this)),I()(m()(n),"doSaveQueue",!0),I()(m()(n),"actionType",_.a.ITEM_OPACITY),I()(m()(n),"rollbackList",[]),I()(m()(n),"changeDesign",function(){return!0}),I()(m()(n),"isSameAction",!1),I()(m()(n),"mouseActionMode",A.a.MODE_NONE),I()(m()(n),"isActionGroupEquals",function(e){return!!(e&&e.actionType===n.actionType&&e instanceof t)&&(L.a.instance.mouseAction.mode!==A.a.MODE_NONE&&(n.isSameAction=e.mouseActionMode===A.a.MODE_MOVE_CHANGE_VALUE),n.isSameAction)}),I()(m()(n),"commitAction",function(e,t,i){n.doSaveQueue&&(n.targetList.forEach(function(e){e.props.setOpacity(n.newVal)}),i.renderCanvas(e,t,n.targetList),i.renderLayerThumb(n.targetList))}),I()(m()(n),"rollbackAction",function(e,t,i){for(var a=0,r=n.targetList.length;a<r;a++)n.targetList[a].props.setOpacity(n.rollbackList[a]);i.renderCanvas(e,t,n.targetList),t.renderer.renderLayerThumb(n.targetList)}),I()(m()(n),"recycle",function(){n.targetList=null}),I()(m()(n),"concat",function(e){return e instanceof t&&(n.newVal=e.newVal,!0)}),n.newVal=e,n.targetList=i,isNaN(e)||null==n.targetList||0===n.targetList.length?n.doSaveQueue=!1:(n.targetList.forEach(function(e){return n.rollbackList.push(e.props.getOpacity())}),n.commitTime=(new Date).getTime()),n.renderAuto=!1,n.mouseActionMode=L.a.instance.mouseAction.mode,n}return g()(t,e),t}(_.b),Q=function(e){function t(e,n,i){var a;return E()(this,t),a=u()(this,d()(t).call(this)),I()(m()(a),"actionType",_.a.BITMAP_TO_SVG),I()(m()(a),"changeDesign",function(){return!0}),I()(m()(a),"commitAction",function(e,t,n){if(a.doSaveQueue){var i=a.photoItem.props,r=new b.a(x.StringUtil.random(),a.svgData,0,0,a.svgData.width,a.svgData.height,i.getRotate(),i.isFlipH(),i.isFlipV(),i.isCanUserSelect(),i.isCanUserMove(),i.isCanUserResize(),i.isCanUserDel());a.svgItem=r,e.pages[a.pageIdx].addItem(r),R.a.selectItem(a.svgItem)}}),I()(m()(a),"rollbackAction",function(e,t,n){a.doSaveQueue&&(e.pages[a.pageIdx].removeItem(a.svgItem),R.a.selectItem(a.photoItem))}),I()(m()(a),"recycle",function(){a.photoItem=null}),a.pageIdx=e,a.photoItem=n,a.svgData=i,a.doSaveQueue=n.orgType===P.b.Sticker||n.orgType===P.b.Image||n.orgType===P.b.BackgroundImage,a}return g()(t,e),t}(_.b),J=function(e){function t(e,n){var i;if(E()(this,t),i=u()(this,d()(t).call(this)),I()(m()(i),"actionType",_.a.MOVE_ITEM_TO_OTHER_PAGE),I()(m()(i),"doSaveQueue",!0),I()(m()(i),"renderAuto",!1),I()(m()(i),"changeDesign",function(){return!1}),I()(m()(i),"isActionGroupEquals",function(e){return!1}),I()(m()(i),"commitAction",function(){var e=o()(a.a.mark(function e(t,n,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.moveItemToOtherPage(i.makeParam(!1),t,n,r);case 2:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(m()(i),"rollbackAction",function(){var e=o()(a.a.mark(function e(t,n,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.moveItemToOtherPage(i.makeParam(!0),t,n,r);case 2:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(m()(i),"recycle",function(){i.oldPage=null,i.newPage=null}),i.oldPage=e,i.newPage=n,i.items=S.b.convertSinglesToItems(L.a.instance.activeItems,i.oldPage.items),!i.offsetY){var r=L.a.instance.pageController.getPageRenderer(i.oldPage).contents.getBoundingClientRect(),s=L.a.instance.pageController.getPageRenderer(i.newPage).contents.getBoundingClientRect(),c=i.newPage.sheetSize.width/s.width,l=s.top-r.top;i.offsetY=-l*c}if(!i.indexOfItems){i.indexOfItems=[];var h=!0,p=!1,f=void 0;try{for(var g,v=i.items[Symbol.iterator]();!(h=(g=v.next()).done);h=!0){var T=g.value,y=i.oldPage.items.indexOf(T);i.indexOfItems.push(y)}}catch(e){p=!0,f=e}finally{try{h||null==v.return||v.return()}finally{if(p)throw f}}}return i}var n;return g()(t,e),c()(t,[{key:"moveItemToOtherPage",value:(n=o()(a.a.mark(function e(t,n,i,r){var o,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=0;o<this.items.length;o++)s=this.items[o],t.oldPage.removeItem(s,!1),t.keepIndex?t.newPage.addItem(s,this.indexOfItems[o]):t.newPage.addItem(s),s.move(0,t.offsetY);return c=S.b.convertItemsToSingles(this.items),R.a.selectItems(c),e.next=5,r.canvasRenderer.renderPage(t.oldPage,i);case 5:return e.next=7,r.canvasRenderer.renderPage(t.newPage,i);case 7:return r.renderHandler(n,i),e.next=10,new M.b(t.oldPage.pageIdx,t.newPage.pageIdx,c).commitAction(n,i,r);case 10:case"end":return e.stop()}},e,this)})),function(e,t,i,a){return n.apply(this,arguments)})},{key:"makeParam",value:function(e){var t,n,i,a;return e?(t=this.newPage,n=this.oldPage,i=-this.offsetY,a=!0):(t=this.oldPage,n=this.newPage,i=this.offsetY,a=!1),{oldPage:t,newPage:n,offsetY:i,keepIndex:a}}}]),t}(_.b),ee=function(e){function t(e,n){var i;return E()(this,t),i=u()(this,d()(t).call(this)),I()(m()(i),"doSaveQueue",!0),I()(m()(i),"renderAuto",!1),I()(m()(i),"actionType",_.a.DELETE_ITEM),I()(m()(i),"isActionGroupEquals",function(e){return!1}),I()(m()(i),"concat",function(e){return!1}),I()(m()(i),"changeDesign",function(){return!0}),I()(m()(i),"commitAction",function(){var e=o()(a.a.mark(function e(t,n,r){var o,s,c,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R.a.selectItem(i.imageframeItem),o=t.pages[n.renderPageIdx],i.oldPhotoItemIdx||(i.oldPhotoItemIdx=o.items.indexOf(i.photoItem)),i.oldFrameProps||(i.oldFrameProps=i.imageframeItem.innerPhotoItem.props.clone()),s=i.photoItem.props.clone(),o.removeItem(i.photoItem),L.a.dispatch(new M.c(i.photoItem)),(c=n.pageController.getPageRenderer(o)).syncItemRenderers(),i.oldOrgTyle=i.imageframeItem.innerPhotoItem.orgType,i.oldFlipH=i.imageframeItem.originPhotoFlipHor,i.oldFlipV=i.imageframeItem.originPhotoFlipVer,e.next=14,i.imageframeItem.changePhoto(i.photoItem.props.getPhotoKey(),i.photoItem.orgType,i.photoItem.props.isFlipH(),i.photoItem.props.isFlipV(),i.photoItem.skinRatioId);case 14:(l=i.imageframeItem.innerPhotoItem.props).setBrightness(s.getBrightness()),l.setSaturation(s.getSaturation()),l.setLightness(s.getLightness()),l.setContrast(s.getContrast()),l.setTint(s.getTint()),l.setColorTone(s.getColorTone()),l.setTemperature(s.getTemperature()),l.setBlur(s.getBlur()),l.setVignette(s.getVignette()),l.setActiveShadow(s.isActiveShadow()),l.setShadowColor(s.getShadowColor(!0)),l.setShadowAngle(s.getShadowAngle(!0)),l.setShadowAlpha(s.getShadowAlpha(!0)),l.setShadowDistance(s.getShadowDistance(!0)),l.setShadowBlur(s.getShadowBlur(!0)),l.setPreset(s.getPreset()),i.imageframeItem.setStatus(y.d.CHANGE),c.updateHoverLayer(),r.renderCanvas(t,n),r.renderHandler(t,n),r.renderItemTools(t,n),r.renderLayer(t,n);case 37:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(m()(i),"rollbackAction",function(){var e=o()(a.a.mark(function e(t,n,r){var o,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R.a.unselectAllItems(),(o=t.pages[n.renderPageIdx]).addItem(i.photoItem,i.oldPhotoItemIdx),s=n.pageController.getPageRenderer(o),L.a.dispatch(new M.c(i.imageframeItem)),s.syncItemRenderers(),i.imageframeItem.innerPhotoItem.setProps(i.oldFrameProps.clone()),i.imageframeItem.innerPhotoItem.orgType=i.oldPhotoOriginType,e.next=10,i.imageframeItem.changePhoto(i.oldPhotoKey,i.oldOrgTyle,i.oldFlipH,i.oldFlipV,i.oldRatioId);case 10:i.imageframeItem.innerPhotoItem.props.setChangeImage(),(c=i.imageframeItem.innerPhotoItem.props).setBrightness(i.oldFrameProps.getBrightness()),c.setSaturation(i.oldFrameProps.getSaturation()),c.setLightness(i.oldFrameProps.getLightness()),c.setContrast(i.oldFrameProps.getContrast()),c.setTint(i.oldFrameProps.getTint()),c.setColorTone(i.oldFrameProps.getColorTone()),c.setTemperature(i.oldFrameProps.getTemperature()),c.setBlur(i.oldFrameProps.getBlur()),c.setVignette(i.oldFrameProps.getVignette()),i.imageframeItem.innerPhotoItem.setLTRBCoordinate(i.backupRect),i.imageframeItem.innerPhotoItem.itemPosition=i.backupImgRect.clone(),i.imageframeItem.setStatus(y.d.CHANGE),r.renderCanvas(t,n),r.renderHandler(t,n),r.renderItemTools(t,n);case 27:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(m()(i),"recycle",function(){i.imageframeItem=null}),i.imageframeItem=e,i.photoItem=n,i.oldPhotoKey=e.innerPhotoItem.props.getPhotoKey(),i.oldRatioId=e.innerPhotoItem.skinRatioId,i.backupRect=e.innerPhotoItem.getLTRBCoordinate(),i.backupImgRect=e.innerPhotoItem.itemPosition,i.oldPhotoOriginType=e.innerPhotoItem.orgType,i}return g()(t,e),t}(_.b)},,function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(41),d=n(12),p=n(48),m=n(183),f=n(237),g=function(){function e(){c()(this,e)}return u()(e,null,[{key:"makeDddotBtn",value:function(e){var t=document.createElement("div");return t.className=h.a.DDDOT_WRAP,Object(d.setToolsIcon)(t,d.ToolsIcon.DDDOT).addEventListener("click",function(){var t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.stopPropagation(),e();case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),t}},{key:"makeHeaderWrap",value:function(){var e=document.createElement("p");return e.className=f.a.DDDOT_HEADER_WRAP,e}},{key:"makeBtnFavorites",value:function(e,t){var n=document.createElement("div");n.className="btn_favorites",n.classList.add(e);var i=document.createElement("div");return i.className="label",i.innerText="찜하기",n.appendChild(i),Object(d.setToolsIcon)(n,t,!0),n}},{key:"makeKeywordWrap",value:function(){var e=document.createElement("div");return e.className=f.a.KEYWORD_LIST_WRAP,e}},{key:"resourceTypeToItemType",value:function(e){switch(e){case p.a.BACKGROUND_IMAGE:case p.a.IMAGE:case p.a.BITMAP:return m.b.STICKER;case p.a.ILLUST:case p.a.FIGURE:case p.a.LINE:case p.a.BACKGROUND_PATTERN:return m.b.SVG;case p.a.TEXT:case p.a.GRID:return m.b.MOCKUP;case p.a.FRAME:return m.b.FRAME;default:return null}}}]),e}()},function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(43),d=n(47),p=n(3),m=n(39),f=n.n(m),g=n(38),v=n.n(g),E=n(40),T=n.n(E),I=n(139),_=n.n(I),y=n(37),L=n.n(y),O=n(112),S=function(){function e(t){c()(this,e),L()(this,"configMap",new Map),t&&this.initMap(t.config)}return u()(e,[{key:"initMap",value:function(e){var t=JSON.parse(e),n=!0,i=!1,a=void 0;try{for(var r,o=O.a.values()[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value,c=t[s.key]||"";c&&this.configMap.set(s,c)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}},{key:"get",value:function(e){return this.configMap.get(e)}},{key:"set",value:function(e,t){this.configMap.set(e,t)}},{key:"toJsonString",value:function(){var e={},t=!0,n=!1,i=void 0;try{for(var a,r=this.configMap[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=_()(a.value,2),s=o[0],c=o[1];e[s.key]=c}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return JSON.stringify(e)}},{key:"keys",value:function(){return this.configMap.keys()}},{key:"isEmpty",value:function(){return this.keys().next().done}}]),e}(),P=function(){function e(){c()(this,e)}return u()(e,null,[{key:"get",value:function(e,t,n){return new e(t,n.get(t))}}]),e}(),k=function(){function e(t,n){c()(this,e),this.key=t,this.jsonString=n,this.initData(n)}return u()(e,[{key:"isEmpty",value:function(){return!this.jsonString}}]),e}(),A=function(e){function t(){return c()(this,t),f()(this,v()(t).apply(this,arguments))}return T()(t,e),u()(t,[{key:"initData",value:function(e){this.teamIdx=Number(e)}}]),t}(k),R=function(){function e(){c()(this,e)}var t,n;return u()(e,null,[{key:"getUserConfig",value:(n=o()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.UnicornApiRequest.get(p.CRM.get(h.a.USER_CONFIG_API));case 2:return t=e.sent,e.abrupt("return",new S(t.data));case 4:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"updateUserConfig",value:(t=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setUserConfigCookie(t),e.next=3,d.UnicornApiRequest.post(p.CRM.get(h.a.USER_CONFIG_API),{data:{config:t.toJsonString()}});case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"getUserConfigByCookie",value:function(){var e={},t=!0,n=!1,i=void 0;try{for(var a,r=O.a.values()[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value,s=p.CookieUtil.getCookie(o.key);s&&(e[o.key]=s)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return new S({config:JSON.stringify(e)})}},{key:"setUserConfigCookie",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=e.keys()[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;o.requireCookie&&p.CookieUtil.setCookie(o.key,e.get(o),7)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}}]),e}();n.d(t,"a",function(){return C});var C=function(){function e(){c()(this,e)}var t,n,i,r,s,l,m,f,g,v;return u()(e,null,[{key:"getTeamList",value:(v=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(this.getDefaultUrl()),e.next=3,d.UnicornApiRequest.get(t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"changeTeam",value:(g=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getTeamList();case 2:return(n=e.sent).some(function(e){return e.idx===t})||(t=n[0].idx),this.changeTeamWithoutSetConfig(t),e.next=7,R.getUserConfig();case 7:return(i=e.sent).set(O.a.SELECTED_TEAM_IDX,String(t)),e.next=11,R.updateUserConfig(i);case 11:case"end":return e.stop()}},e,this)})),function(e){return g.apply(this,arguments)})},{key:"changeTeamByUserConfig",value:(f=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,R.getUserConfig();case 3:t=e.sent;case 4:if(!(n=P.get(A,O.a.SELECTED_TEAM_IDX,t)).isEmpty()){e.next=13;break}return e.next=8,this.getSelectedTeamIdx();case 8:return i=e.sent,e.next=11,this.changeTeam(i);case 11:e.next=14;break;case 13:this.changeTeamWithoutSetConfig(n.teamIdx);case 14:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"changeTeamWithoutSetConfig",value:function(e){p.SessionStorageUtil.setItem(p.SessionKey.SELECTED_TEAM_IDX,String(e))}},{key:"getTeam",value:(m=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.getDefaultUrl(),"/").concat(t),e.next=3,d.UnicornApiRequest.get(n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"getSelectedTeamIdx",value:(l=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Number(p.SessionStorageUtil.getItem(p.SessionKey.SELECTED_TEAM_IDX))){e.next=8;break}return e.next=4,this.getTeamList();case 4:return n=e.sent,t=n[0].idx,e.next=8,this.changeTeam(t);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"getSelectedTeam",value:(s=o()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSelectedTeamIdx();case 2:return t=e.sent,e.next=5,this.getTeam(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"changeTeamScope",value:function(e){p.SessionStorageUtil.setItem(p.SessionKey.SELECTED_TEAM_SCOPE,e)}},{key:"getSelectedTeamScope",value:function(){var e=p.SessionStorageUtil.getItem(p.SessionKey.SELECTED_TEAM_SCOPE);return e===d.TeamScope.INDIVIDUAL||e===d.TeamScope.TEAM?e:(this.changeTeamScope(d.TeamScope.INDIVIDUAL),d.TeamScope.INDIVIDUAL)}},{key:"getTeamDesign",value:(r=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.getDefaultUrl(),"/design/").concat(t),e.next=3,d.UnicornApiRequest.get(n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getDefaultSelectedTeamData",value:(i=o()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSelectedTeamIdx();case 2:return n=t.sent,t.abrupt("return",{teamIdx:n,teamScope:e.getSelectedTeamScope()});case 4:case"end":return t.stop()}},t)})),function(){return i.apply(this,arguments)})},{key:"setDefaultTeam",value:(n=o()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=Number(p.SessionStorageUtil.getItem(p.SessionKey.SELECTED_TEAM_IDX)))){e.next=6;break}return e.next=4,this.changeTeam(t);case 4:e.next=8;break;case 6:return e.next=8,this.changeTeamByUserConfig();case 8:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"setDefaultScope",value:function(){var e=p.SessionStorageUtil.getItem(p.SessionKey.SELECTED_TEAM_SCOPE);e?this.changeTeamScope(e):this.changeTeamScope(d.TeamScope.INDIVIDUAL)}},{key:"clearTeamData",value:function(){p.SessionStorageUtil.clear()}},{key:"getTeamDesignProject",value:(t=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.getDefaultUrl(),"/project/").concat(t),e.next=3,d.UnicornApiRequest.get(n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"getDefaultUrl",value:function(){return"".concat(p.CRM.get(h.a.DEFAULT_HOST),"/api/team")}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(43),m=n(3),f=n(59),g=n(47),v=function(){function e(){c()(this,e)}var t;return u()(e,null,[{key:"getPhotoUrlWithPhotoKey",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n="".concat(this.getBaseUrl(),"/").concat(this.getFileKey(t),"/")+e.USER_PHOTO_SIZE;return n}},{key:"getPhotoUrlWithIdx",value:function(t){return"".concat(this.getBaseUrl(),"/").concat(t,"/").concat(e.USER_PHOTO_SIZE)}},{key:"getOriginalPhotoUrl",value:function(e){return m.CRM.get(p.a.COMMON_FILE_DOWNLOAD_API).replace("${uuid}",this.getFileKey(e))}},{key:"createPhotoKey",value:function(e){return"".concat(this.USER_PHOTO_PREFIX).concat(e)}},{key:"getBaseUrl",value:function(){return g.UnicornApiClient.getURL(m.CRM.get(p.a.IMAGE_PREVIEW_API))}},{key:"getFileKey",value:function(t){return t.replace(e.USER_PHOTO_PREFIX,"")}},{key:"setPhotoResourceImg",value:(t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.b.setUrlImage(n,e.getPhotoUrlWithPhotoKey(n,Boolean(!1)));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.error("photo load fail. key = ".concat(n),t.t0),t.abrupt("return",null);case 10:case"end":return t.stop()}},t,null,[[0,6]])})),function(e){return t.apply(this,arguments)})}]),e}();d()(v,"USER_PHOTO_PREFIX","user_photo_"),d()(v,"USER_PHOTO_SIZE",800)},,function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(39),d=n.n(h),p=n(44),m=n.n(p),f=n(38),g=n.n(f),v=n(46),E=n.n(v),T=n(40),I=n.n(T),_=n(37),y=n.n(_),L=n(144),O=n(41),S=n(43),P=n(3),k=n(42),A=n(179),R=n(121),C=n(58),b=function(e){function t(){var e,n;c()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=d()(this,(e=g()(t)).call.apply(e,[this].concat(a))),y()(m()(n),"pageSize",20),y()(m()(n),"isRequireFavoriteDataInit",!1),n}var n,i,r;return I()(t,e),u()(t,[{key:"init",value:function(){var e=this;this.lib=this.makeLib(),this.paginationListTool=this.makePaginationListTool(),this.element=this.makeElement(),this.isLoginRequire&&R.a.addDataInitListener(function(){return e.lib.clearCache()}),R.a.addDataInitListener(o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isRequireFavoriteDataInit=!0,!e.isActive||!e.isLoaded){t.next=4;break}return t.next=4,e.initFavoriteData();case 4:case"end":return t.stop()}},t)})))}},{key:"setReady",value:(r=o()(a.a.mark(function e(){var t=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.paginationListTool.loading(!1),window.addEventListener("resize",o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isActive){e.next=5;break}return e.next=3,t.paginationListTool.justifyList();case 3:e.next=6;break;case 5:t.paginationListTool.setJustifyRequire();case 6:case"end":return e.stop()}},e)})));case 2:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"load",value:(i=o()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,e.prev=1,!this.checkLoginRequire()){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.loadList();case 6:this.isLoaded=!0,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t=!0;case 12:t&&alert("리스트를 가져오는 도중 오류가 발생하였습니다.");case 13:case"end":return e.stop()}},e,this,[[1,9]])})),function(){return i.apply(this,arguments)})},{key:"makePaginationListTool",value:function(){var e=this;return new A.a(function(t,n){return e.lib.loadList(t,n)},this.pageSize,k.a.instance.config.leftMenuPaginationMode,this.getJustifiedListToolOption(),t.makeEmptyListView()).loading()}},{key:"getJustifiedListToolOption",value:function(){return{rowWidth:312,defaultRowHeight:124,horizonMargin:8}}},{key:"active",value:function(){return this.initFavoriteData().catch(function(e){return console.error(e)}),E()(g()(t.prototype),"active",this).call(this),this.paginationListTool.isJustifyRequire()&&this.paginationListTool.justifyList().catch(function(e){return console.error(e)}),this}},{key:"initFavoriteData",value:(n=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isRequireFavoriteDataInit){e.next=4;break}return this.isRequireFavoriteDataInit=!1,e.next=4,this.lib.initFavoriteData();case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"render",value:function(e,t){var n=this.getRenderStatus();return this.isChangeContentsStatus(n.contents)&&(this.updateUI(),this.isChangeRequireReload(n.contents)&&(this.renderPaginationListTool(n),this.isLoginRequire&&this.isChangeUser(n.contents)&&(this.isLoaded=!1),this.isActive&&!this.isLoaded&&this.load().catch(function(e){return console.error(e)}))),this.lastRenderStatus=n,this.element}},{key:"updateUI",value:function(){k.a.getEnv().adminMode?this.paginationListTool.element.classList.add(O.a.ADMIN_MODE):this.paginationListTool.element.classList.remove(O.a.ADMIN_MODE)}},{key:"renderPaginationListTool",value:function(e){this.paginationListTool&&this.isChangePaginationMode(e.contents)&&(this.isLoaded=!1,this.paginationListTool.setPaginationMode(k.a.instance.config.leftMenuPaginationMode))}},{key:"getRenderStatus",value:function(e){var t=k.a.instance,n=t.env;return{contents:{paginationMode:t.config.leftMenuPaginationMode,accountId:t.user.accountId,isAdminMode:n.adminMode,isDevMode:n.devMode},position:void 0}}},{key:"isChangePaginationMode",value:function(e){return!this.lastRenderStatus||this.lastRenderStatus.contents.paginationMode!==e.paginationMode}},{key:"isChangeUser",value:function(e){return!this.lastRenderStatus||this.lastRenderStatus.contents.accountId!==e.accountId}},{key:"isChangeRequireReload",value:function(e){return this.isChangePaginationMode(e)||this.isChangeUser(e)}},{key:"isChangeContentsStatus",value:function(e){return!this.lastRenderStatus||this.isChangeRequireReload(e)||this.lastRenderStatus.contents.isAdminMode!==e.isAdminMode||this.lastRenderStatus.contents.isDevMode!==e.isDevMode}},{key:"isChangePositionStatus",value:function(e){return!1}},{key:"getGTMItemData",value:function(e){return this.lib.getGTMItemData(e)}},{key:"getItemUseEventData",value:function(){var e=this.lib.getGTMLibData();return{type:C.b.ITEM,category:e.category,keyword:e.keyword}}},{key:"addDesignListItem",value:function(e){}}],[{key:"makeEmptyListView",value:function(){var e=document.createElement("div");e.className=O.a.EMPTY_LIST_NOTI_LAYER;var t=document.createElement("div"),n=document.createElement("div");n.className="empty_list_notify_img",t.appendChild(n);var i=document.createElement("p");i.classList.add(O.a.TITLE),i.innerHTML=P.CRM.get(S.a.TOOLS_LIB_LIST_EMPTY_MESSAGE),t.appendChild(i);var a=document.createElement("p");return a.innerHTML=P.CRM.get(S.a.TOOLS_LIB_LIST_EMPTY_MESSAGE_2),t.appendChild(a),e.appendChild(t),e}}]),t}(L.a)},,,,function(e,t,n){"use strict";var i,a=n(35),r=n.n(a),o=n(36),s=n.n(o),c=n(37),l=n.n(c),u=n(3);!function(e){e[e.MOBILE_MAX_WIDTH=767]="MOBILE_MAX_WIDTH"}(i||(i={})),n.d(t,"a",function(){return h});var h=function(){function e(){r()(this,e),this.browser=u.BrowserChecker.getBrowserEnvironment()}return s()(e,null,[{key:"isMobilePortraitSize",value:function(){return this.isMobileDevice()&&this.isMobileSize()&&this.isPortrait()}},{key:"isMobileDevice",value:function(){return this.instance.browser.isMobile()}},{key:"isMobileSize",value:function(){return window.outerWidth<=i.MOBILE_MAX_WIDTH}},{key:"isPortrait",value:function(){return window.outerWidth/window.outerHeight<=1}}]),e}();l()(h,"instance",new h)},,,,function(e,t,n){"use strict";n.d(t,"m",function(){return C}),n.d(t,"n",function(){return b}),n.d(t,"f",function(){return w}),n.d(t,"e",function(){return x}),n.d(t,"c",function(){return N}),n.d(t,"k",function(){return D}),n.d(t,"l",function(){return M}),n.d(t,"b",function(){return U}),n.d(t,"a",function(){return G}),n.d(t,"i",function(){return F}),n.d(t,"h",function(){return H}),n.d(t,"g",function(){return V}),n.d(t,"d",function(){return W}),n.d(t,"j",function(){return K});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(44),g=n.n(f),v=n(40),E=n.n(v),T=n(37),I=n.n(T),_=n(45),y=n(42),L=n(173),O=n(65),S=n(56),P=n(3),k=n(229),A=n(61),R=function(e){function t(){var e,n;c()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(a))),I()(g()(n),"isExtendZoomScaleRange",!1),I()(g()(n),"commitAction",function(e,t,i){k.b.changeZoomScalePresetList(n.isExtendZoomScaleRange),n.changeZoomScale(t)&&n.render(e,t,i)}),n}return E()(t,e),u()(t,[{key:"render",value:function(e,t,n){n.canvasRenderer.updateScrollCenterOfCurrentPage(),t.pageController.getPageRenderer(e.pages[t.renderPageIdx]).updateHoverLayer()}}]),t}(_.d),C=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return c()(this,t),(e=d()(this,m()(t).call(this))).isExtendZoomScaleRange=n,e}return E()(t,e),u()(t,[{key:"changeZoomScale",value:function(e){return k.b.getHighestScale()>e.zoomScale&&(e.zoomScale=k.b.getNextScaleValue(e.zoomScale)/e.pageEditScale,!0)}}]),t}(R),b=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return c()(this,t),(e=d()(this,m()(t).call(this))).isExtendZoomScaleRange=n,e}return E()(t,e),u()(t,[{key:"changeZoomScale",value:function(e){return Number(k.b.getLowestScale().toFixed(3))<Number(e.zoomScale.toFixed(3))&&(e.zoomScale=k.b.getPrevScaleValue(e.zoomScale)/e.pageEditScale,!0)}}]),t}(R),w=function(e){function t(){var e;return c()(this,t),e=d()(this,m()(t).call(this)),I()(g()(e),"skipRedo",!1),I()(g()(e),"skipUndo",!1),I()(g()(e),"newPageIdx",-1),I()(g()(e),"actionType",_.a.MOVE_PAGE),I()(g()(e),"changeDesign",function(){return!1}),I()(g()(e),"isActionGroupEquals",function(n){var i=n instanceof t||n instanceof x||n instanceof N;return e.skipRedo=i,n.skipUndo=i,i}),I()(g()(e),"commitAction",function(t,n,i){e.skipRedo||(e.oldPageIdx=n.renderPageIdx,n.renderPageIdx>0&&(Y(n),e.newPageIdx<0&&(e.newPageIdx=n.renderPageIdx-1),n.renderPageIdx=e.newPageIdx,n.mouseAction.mode=O.a.MODE_NONE),i.canvasRenderer.syncPageRenderers(t.pages))}),I()(g()(e),"rollbackAction",function(t,n,i){if(!e.skipUndo){if(t.pages.length>n.renderPageIdx){if(null==t.pages[e.oldPageIdx])return;Y(n),n.renderPageIdx=e.oldPageIdx,n.mouseAction.mode=O.a.MODE_NONE}i.canvasRenderer.syncPageRenderers(t.pages)}}),I()(g()(e),"recycle",function(){}),e}return E()(t,e),t}(_.b),x=function(e){function t(){var e;return c()(this,t),e=d()(this,m()(t).call(this)),I()(g()(e),"skipRedo",!1),I()(g()(e),"skipUndo",!1),I()(g()(e),"newPageIdx",-1),I()(g()(e),"actionType",_.a.MOVE_PAGE),I()(g()(e),"changeDesign",function(){return!1}),I()(g()(e),"isActionGroupEquals",function(n){var i=n instanceof w||n instanceof t||n instanceof N;return e.skipRedo=i,n.skipUndo=i,i}),I()(g()(e),"commitAction",function(t,n,i){e.skipRedo||(e.oldPageIdx=n.renderPageIdx,t.pages.length>n.renderPageIdx+1&&(Y(n),e.newPageIdx<0&&(e.newPageIdx=n.renderPageIdx+1),n.renderPageIdx=e.newPageIdx,n.mouseAction.mode=O.a.MODE_NONE),i.canvasRenderer.syncPageRenderers(t.pages))}),I()(g()(e),"rollbackAction",function(t,n,i){if(!e.skipUndo){if(n.renderPageIdx>=0){if(null==t.pages[e.oldPageIdx])return;Y(n),n.renderPageIdx=e.oldPageIdx,n.mouseAction.mode=O.a.MODE_NONE}i.canvasRenderer.syncPageRenderers(t.pages)}}),I()(g()(e),"recycle",function(){}),e}return E()(t,e),t}(_.b),N=function(e){function t(e){var n;return c()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"skipRedo",!1),I()(g()(n),"skipUndo",!1),I()(g()(n),"actionType",_.a.MOVE_PAGE),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"isActionGroupEquals",function(e){var i=e instanceof w||e instanceof x||e instanceof t;return n.skipRedo=i,e.skipUndo=i,i}),I()(g()(n),"commitAction",function(e,t,i){n.skipRedo||(n.oldPageIdx=t.renderPageIdx,t.renderPageIdx!==n.newPageIdx&&null!=e.pages[n.newPageIdx]&&(Y(t),t.renderPageIdx=n.newPageIdx,t.mouseAction.mode=O.a.MODE_NONE,i.canvasRenderer.syncPageRenderers(e.pages)))}),I()(g()(n),"rollbackAction",function(e,t,i){n.skipUndo||t.renderPageIdx!==n.oldPageIdx&&null!=e.pages[n.oldPageIdx]&&(Y(t),t.renderPageIdx=n.oldPageIdx,t.mouseAction.mode=O.a.MODE_NONE,i.canvasRenderer.syncPageRenderers(e.pages))}),I()(g()(n),"recycle",function(){}),n.newPageIdx=e,n}return E()(t,e),t}(_.b),D=function(e){function t(){var e,n;c()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(a))),I()(g()(n),"commitAction",function(e,t,n){t.zoomScale=k.b.getFitScale(),t.size.pageDeltaOffsetX=0,t.size.pageDeltaOffsetY=0,n.canvasRenderer.updateScrollCenterOfCurrentPage()}),n}return E()(t,e),t}(_.d),M=function(e){function t(){var e,n;c()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(a))),I()(g()(n),"commitAction",function(e,t,n){t.zoomScale=t.zoomScale=k.b.getFullScale(),t.size.pageDeltaOffsetX=0,t.size.pageDeltaOffsetY=0,n.canvasRenderer.updateScrollCenterOfCurrentPage()}),n}return E()(t,e),t}(_.d),B=function(e){function t(e){var n;return c()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"actionType",_.a.ADD_COPIED_PAGE),I()(g()(n),"renderAuto",!1),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"commitAction",function(){var e=o()(a.a.mark(function e(t,i,r){var o,s,c,l,u,h,d;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==n.newPage&&(n.newPage=n.createNewPage(t),n.oldRenderPageIdx=i.renderPageIdx),o=t.pages.splice(0,n.newPageIdx),t.pages.forEach(function(e){return e.pageIdx=e.pageIdx+1}),t.pages=o.concat([n.newPage]).concat(t.pages),Y(i),i.renderPageIdx=n.newPageIdx,i.maxPageIdx=t.pages.length-1,r.canvasRenderer.syncPageRenderers(t.pages),s=!0,c=!1,l=void 0,e.prev=11,u=t.pages[Symbol.iterator]();case 13:if(s=(h=u.next()).done){e.next=20;break}return d=h.value,e.next=17,r.canvasRenderer.renderPage(d,i);case 17:s=!0,e.next=13;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(11),c=!0,l=e.t0;case 26:e.prev=26,e.prev=27,s||null==u.return||u.return();case 29:if(e.prev=29,!c){e.next=32;break}throw l;case 32:return e.finish(29);case 33:return e.finish(26);case 34:S.a.unselectAllItems(),r.canvasRenderer.updatePagingManager(),r.canvasRenderer.updateScrollCenterOfCurrentPage(),r.renderAuto(t,i),r.renderItemTools(t,i),r.renderHandler(t,i);case 40:case"end":return e.stop()}},e,null,[[11,22,26,34],[27,,29,33]])}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(e,t,i){for(var a=-1,r=0,o=e.pages.length;r<o;r++)if(e.pages[r].pageId===n.newPage.pageId){a=r;break}var s=e.pages.splice(0,a);e.pages.splice(0,1),e.pages.forEach(function(e){return e.pageIdx=e.pageIdx-1}),e.pages=s.concat(e.pages),Y(t),t.renderPageIdx=n.oldRenderPageIdx,t.maxPageIdx=e.pages.length-1,i.canvasRenderer.syncPageRenderers(e.pages),S.a.unselectAllItems(),i.canvasRenderer.updatePagingManager(),i.canvasRenderer.updateScrollCenterOfCurrentPage(),i.renderCanvas(e,t)}),I()(g()(n),"recycle",function(){n.newPage&&(n.newPage.background&&(n.newPage.background=null),n.newPage=null)}),n.newPageIdx=e,n}return E()(t,e),t}(_.b),U=function(e){function t(){var e,n;c()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(a))),I()(g()(n),"actionType",_.a.ADD_COPIED_PAGE),n}return E()(t,e),u()(t,[{key:"createNewPage",value:function(e){return e.pages[this.newPageIdx-1].clone(this.newPageIdx)}}]),t}(B),G=function(e){function t(){var e,n;c()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(a))),I()(g()(n),"actionType",_.a.ADD_BLANK_PAGE),n}return E()(t,e),u()(t,[{key:"createNewPage",value:function(e){var t=e.pages[this.newPageIdx-1],n=new L.a(this.newPageIdx);return n.ratioId=t.ratioId,n.sheetSize.width=t.sheetSize.width,n.sheetSize.height=t.sheetSize.height,n}}]),t}(B),F=function(e){function t(e){var n;return c()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"actionType",_.a.REMOVE_PAGE),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"commitAction",function(e,t,i){n.doSaveQueue&&(n.targetPage=e.pages.splice(n.pageIdx,1)[0],e.pages.forEach(function(e,t){return e.pageIdx=t}),n.pageIdx===t.renderPageIdx&&(Y(t),t.renderPageIdx=0),t.maxPageIdx=e.pages.length-1,i.canvasRenderer.syncPageRenderers(e.pages),t.renderPageIdx>t.maxPageIdx&&(t.renderPageIdx=t.maxPageIdx),i.canvasRenderer.updatePagingManager(),i.canvasRenderer.printout.removeGuideDataByPageId(n.targetPage.pageId))}),I()(g()(n),"rollbackAction",function(e,t,i){var a=e.pages.splice(n.pageIdx);a.forEach(function(e){return e.pageIdx=e.pageIdx+1}),e.pages=e.pages.concat([n.targetPage]).concat(a),t.renderPageIdx=n.pageIdx,t.maxPageIdx=e.pages.length-1,i.canvasRenderer.syncPageRenderers(e.pages),S.a.unselectAllItems(),i.canvasRenderer.updatePagingManager()}),I()(g()(n),"recycle",function(){n.targetPage=null}),n.pageIdx=e,0===y.a.instance.maxPageIdx&&(n.doSaveQueue=!1),n}return E()(t,e),t}(_.b),H=function(e){function t(e,n){var i;return c()(this,t),i=d()(this,m()(t).call(this)),I()(g()(i),"actionType",_.a.CHANGE_PAGE_RATIO),I()(g()(i),"changeDesign",function(){return!1}),I()(g()(i),"commitAction",function(e,t,n){i.targetPage=e.pages[t.renderPageIdx],i.oriSheetSize=i.targetPage.sheetSize;var a=i.targetPage.getValidLTRB(),r=a.getWidth()/i.width,o=a.getHeight()/i.height;i.oriScale=Math.max(r,o),i.targetPage.setSheetSizeWithItemScaled({width:i.width,height:i.height}),Y(t),n.canvasRenderer.updatePagingManager()}),I()(g()(i),"rollbackAction",function(e,t,n){var a=i.targetPage.getValidLTRB();i.targetPage.sheetSize=i.oriSheetSize,a.changeScale(i.oriScale),i.targetPage.getAllSingleItems()[0].getLTRBCoordinate().changeScale(i.oriScale),Y(t),n.canvasRenderer.updatePagingManager()}),I()(g()(i),"recycle",function(){i.targetPage=null}),i.width=e,i.height=n,i}return E()(t,e),t}(_.b),V=function(e){function t(e){var n;return c()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"actionType",_.a.CHANGE_PAGE_RATIO),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"commitAction",function(e,t,i){n.pageIdx<=0?n.doSaveQueue=!1:(P.ArrayUtil.swapArrayItem(e.pages,n.pageIdx,n.pageIdx-1),e.pages.forEach(function(e,t){return e.pageIdx=t}),t.renderPageIdx=n.pageIdx-1,i.canvasRenderer.updatePagingManager(),i.canvasRenderer.updateScrollCenterOfCurrentPage())}),I()(g()(n),"rollbackAction",function(e,t,i){P.ArrayUtil.swapArrayItem(e.pages,n.pageIdx,n.pageIdx-1),e.pages.forEach(function(e,t){return e.pageIdx=t}),t.renderPageIdx=n.pageIdx,i.canvasRenderer.updatePagingManager(),i.canvasRenderer.updateScrollCenterOfCurrentPage()}),I()(g()(n),"recycle",function(){}),n.pageIdx=e,n}return E()(t,e),t}(_.b),W=function(e){function t(e){var n;return c()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"actionType",_.a.CHANGE_PAGE_RATIO),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"commitAction",function(e,t,i){n.pageIdx>=e.pages.length-1?n.doSaveQueue=!1:(P.ArrayUtil.swapArrayItem(e.pages,n.pageIdx,n.pageIdx+1),e.pages.forEach(function(e,t){return e.pageIdx=t}),t.renderPageIdx=n.pageIdx+1,i.canvasRenderer.updatePagingManager(),i.canvasRenderer.updateScrollCenterOfCurrentPage())}),I()(g()(n),"rollbackAction",function(e,t,i){P.ArrayUtil.swapArrayItem(e.pages,n.pageIdx,n.pageIdx+1),e.pages.forEach(function(e,t){return e.pageIdx=t}),t.renderPageIdx=n.pageIdx,i.canvasRenderer.updatePagingManager(),i.canvasRenderer.updateScrollCenterOfCurrentPage()}),I()(g()(n),"recycle",function(){}),n.pageIdx=e,n}return E()(t,e),t}(_.b),K=function(e){function t(e,n){var i;return c()(this,t),i=d()(this,m()(t).call(this)),I()(g()(i),"actionType",_.a.PAGE_TITLE_EDIT),I()(g()(i),"changeDesign",function(){return!1}),I()(g()(i),"commitAction",function(e,t,n){var a=i.lastPage?i.lastPage:i.lastPage=e.pages[i.pageIdx];a.title!==i.title&&(i.lastTitle=a.title,a.title=i.title,i.lastSaveStatus=A.b.getSaveStatus(),A.b.setSaveStatus(A.c.SAVE_REQUIRE))}),I()(g()(i),"rollbackAction",function(e,t,n){i.lastPage.title=i.lastTitle,A.b.setSaveStatus(i.lastSaveStatus)}),I()(g()(i),"recycle",function(){}),i.pageIdx=e,i.title=n,i}return E()(t,e),t}(_.b);function Y(e){S.a.unselectAllItems(),e.size.pageDeltaOffsetX=0,e.size.pageDeltaOffsetY=0}},,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(42),c=n(165),l=function(){function e(){a()(this,e)}return o()(e,null,[{key:"open",value:function(e,t,n){var i=window.screenLeft?window.screenLeft:window.screenX,a=window.screenTop?window.screenTop:window.screenY,r=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-t/2+i,o=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-n/2+a;window.open(e,"popup","width=".concat(t,",height=").concat(n,",top=").concat(o,",left=").concat(r)+",location=no,menubar=no,resizable=no,scrollbars=no,status=no,titlebar=no,toolbar=no")}},{key:"openLoginPopup",value:function(e,t,n){return s.a.instance.user.isLogin()?(t&&t(),!1):(c.a.open(e,t,n),!0)}}]),e}()},function(e,t,n){"use strict";n.d(t,"d",function(){return P}),n.d(t,"e",function(){return k}),n.d(t,"c",function(){return A}),n.d(t,"b",function(){return R}),n.d(t,"a",function(){return C});var i=n(46),a=n.n(i),r=n(39),o=n.n(r),s=n(38),c=n.n(s),l=n(44),u=n.n(l),h=n(40),d=n.n(h),p=n(0),m=n.n(p),f=n(1),g=n.n(f),v=n(35),E=n.n(v),T=n(36),I=n.n(T),_=n(37),y=n.n(_),L=n(42),O=n(54),S=n(65),P=function(e){function t(e,n,i,a,r){var s,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,h=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],d=arguments.length>7?arguments[7]:void 0;return E()(this,t),s=o()(this,c()(t).call(this,d)),y()(u()(s),"changeDesign",function(){return!0}),y()(u()(s),"isLastSavedAction",!1),y()(u()(s),"isSameAction",!1),y()(u()(s),"mouseActionMode",S.a.MODE_NONE),y()(u()(s),"concat",function(e){return e instanceof t&&(s.newValue=e.newValue,!0)}),s.actionType=e,s.groupName=n,s.propName=i,s.newValue=a,s.updateUI=r,s.timeout=l,s.isRender=h,s.mouseActionMode=L.a.instance.mouseAction.mode,s}return d()(t,e),I()(t,[{key:"getProps",value:function(e){return e.props}},{key:"commitProps",value:function(e,t){this.groupName?this.commitGroupPropAction(e,t):this.commitPropAction(e,t)}},{key:"commitAction",value:function(e,t){this.commitProps(e,t),t.renderer.renderLayerThumb(this.items)}},{key:"rollbackProps",value:function(e,t){var n=this.newValue;this.newValue=this.oldValue,this.groupName?this.commitGroupPropAction(e,t):this.commitPropAction(e,t),this.newValue=n}},{key:"rollbackAction",value:function(e,t){null!=this.oldValue&&(this.rollbackProps(e,t),t.renderer.renderLayerThumb(this.items))}},{key:"isActionGroupEquals",value:function(e){return 0!==this.timeout&&(null!=e&&e.actionType===this.actionType&&e instanceof t&&(this.items[0].tbpeId===e.items[0].tbpeId&&(L.a.instance.mouseAction.mode!==S.a.MODE_NONE&&(this.isSameAction=e.mouseActionMode===S.a.MODE_MOVE_CHANGE_VALUE),this.isSameAction)))}},{key:"recycle",value:function(){this.groupName=null,this.actionType=null,this.propName=null,this.oldValue=null,this.newValue=null,this.propsArray=[]}},{key:"commitPropAction",value:function(e,n){var i=this,a=t.getPropGetter(this.propName,this.newValue),r=t.getPropSetter(this.propName);this.propsArray.forEach(function(e){if(!(a in e))throw Error("속성의 getFunction 네이밍이 다음과 같아야함:  ".concat(a));if(!(r in e))throw Error("속성의 setFunction 네이밍이 다음과 같아야함 : ".concat(r));i.oldValue=e[a](),e[r](i.newValue)})}},{key:"commitGroupPropAction",value:function(e,n){var i=this,a=t.getGroupPropGetter(this.groupName,this.propName,this.newValue),r=t.getGroupPropSetter(this.groupName,this.propName);this.propsArray.forEach(function(e){if(!(a in e))throw Error("그룹속성의 getFunction 네이밍이 다음과 같아야함:  ".concat(a));if(!(r in e))throw Error("그룹속성의 setFunction 네이밍이 다음과 같아야함 : ".concat(r));i.oldValue=e[a](),e[r](i.newValue)})}}],[{key:"getPropGetter",value:function(e,n){return t.getPrefixString(n)+t.firstCharUpperCase(e)}},{key:"getPropSetter",value:function(e){return"set"+t.firstCharUpperCase(e)}},{key:"getGroupPropGetter",value:function(e,n,i){return"active"===n?"isActive"+t.firstCharUpperCase(e):t.getPrefixString(i)+t.firstCharUpperCase(e)+t.firstCharUpperCase(n)}},{key:"getPrefixString",value:function(e){return!0===e||!1===e?"is":"get"}},{key:"getGroupPropSetter",value:function(e,n){if("active"===n)return"setActive"+t.firstCharUpperCase(e);var i=t.firstCharUpperCase(e),a=t.firstCharUpperCase(n);return"set".concat(i).concat(a)}},{key:"firstCharUpperCase",value:function(e){return e[0].toUpperCase()+e.slice(1)}}]),t}(function(){function e(t){var n=this;if(E()(this,e),y()(this,"doSaveQueue",!0),y()(this,"updateUI",!0),y()(this,"isLastSavedAction",!1),y()(this,"items",[]),y()(this,"propsArray",[]),y()(this,"isRender",!0),y()(this,"concat",function(e){return!1}),y()(this,"commit",function(){var e=g()(m.a.mark(function e(t,i,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.propsArray=[],n.items.forEach(function(e){n.propsArray.push(n.getProps(e))}),!n.propsArray.some(function(e){return null===e})){e.next=4;break}return e.abrupt("return");case 4:if(n.commitAction(t,i),!n.isRender){e.next=8;break}return e.next=8,a.renderAuto(t,i);case 8:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),y()(this,"rollback",function(){var e=g()(m.a.mark(function e(t,i,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.items.length){e.next=4;break}return n.rollbackAction(t,i),e.next=4,a.renderAuto(t,i);case 4:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),t&&t.length)this.items=t;else{var i=L.a.instance.activeItems.slice();i.length>0?this.items=i:this.doSaveQueue=!1}}return I()(e,[{key:"isActionGroupEquals",value:function(e){return!1}},{key:"recycle",value:function(){this.items=[]}}]),e}()),k=function(e){function t(){var e,n;E()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=o()(this,(e=c()(t)).call.apply(e,[this].concat(a))),y()(u()(n),"ltrbs",[]),n}return d()(t,e),I()(t,[{key:"commitAction",value:function(e,n){if(a()(c()(t.prototype),"commitAction",this).call(this,e,n),this.isRender&&0===this.ltrbs.length){var i=!0,r=!1,o=void 0;try{for(var s,l=this.items[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,h=u.getLTRBCoordinate();this.ltrbs.push(h),u.setLTRBCoordinate(h.clone())}}catch(e){r=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw o}}}}},{key:"rollbackAction",value:function(e,n){a()(c()(t.prototype),"rollbackAction",this).call(this,e,n);for(var i=0;i<this.ltrbs.length;i++){var r=this.ltrbs[i];this.items[i].setLTRBCoordinate(r)}}}]),t}(P),A=function(){function e(t,n,i,a,r){var o=this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0,d=arguments.length>10?arguments[10]:void 0;E()(this,e),y()(this,"changeDesign",function(){return!0}),y()(this,"isLastSavedAction",!1),y()(this,"doSaveQueue",!0),y()(this,"doComminAction",!0),y()(this,"isSameAction",!1),y()(this,"mouseActionMode",S.a.MODE_NONE),y()(this,"concat",function(t){return t instanceof e&&(o.newValue=t.newValue,!0)}),this.actionType=t,this.groupName=n,this.propName=i,this.newValue=a,this.updateUI=r,this.timeout=s,this.isRender=c,this.param1=l,this.param2=u,this.callBack=d;var p=L.a.instance.activeItems.slice();p.length>0?h?this.item=h:O.b.isSameGroup(p)?this.item=O.b.getRootGroup(p[0].groupId).getSelectedItem():this.item=p[0]:this.doSaveQueue=!1,this.item?this.props=this.item.props:(this.doSaveQueue=!1,this.doComminAction=!1),this.mouseActionMode=L.a.instance.mouseAction.mode}var t;return I()(e,[{key:"commit",value:(t=g()(m.a.mark(function e(t,n,i){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.doComminAction){e.next=5;break}if(this.groupName?this.commitGroupPropAction(t,n):this.commitPropAction(t,n),!this.isRender){e.next=5;break}return e.next=5,i.renderAuto(t,n,this.callBack);case 5:case"end":return e.stop()}},e,this)})),function(e,n,i){return t.apply(this,arguments)})},{key:"rollback",value:function(e,t,n){null!=this.oldValue&&(this.groupName?this.rollbackGroupPropAction(e,t):this.rollbackPropAction(e,t))}},{key:"isActionGroupEquals",value:function(t){return 0!==this.timeout&&(null!=t&&t.actionType===this.actionType&&t instanceof e&&(this.item.tbpeId===t.item.tbpeId&&(L.a.instance.mouseAction.mode!==S.a.MODE_NONE&&(this.isSameAction=t.mouseActionMode===S.a.MODE_MOVE_CHANGE_VALUE),this.isSameAction)))}},{key:"recycle",value:function(){this.groupName=null,this.actionType=null,this.propName=null,this.oldValue=null,this.newValue=null,this.props=null,this.param1=null,this.param2=null}},{key:"commitPropAction",value:function(t,n){var i=e.getPropGetter(this.propName,this.newValue),a=i+"s",r=e.getPropSetter(this.propName);if(!(i in this.props))throw Error("속성의 getFunction 네이밍이 다음과 같아야함:  ".concat(i));if(!(r in this.props))throw Error("속성의 setFunction 네이밍이 다음과 같아야함 : ".concat(r));this.oldValue=this.props[a](this.param1,this.param2),this.props[r](this.newValue,this.param1,this.param2)}},{key:"commitGroupPropAction",value:function(t,n){var i=e.getGroupPropGetter(this.groupName,this.propName,this.newValue),a=i+"s",r=e.getGroupPropSetter(this.groupName,this.propName);if(!(i in this.props))throw Error("그룹속성의 getFunction 네이밍이 다음과 같아야함:  ".concat(i));if(!(r in this.props))throw Error("그룹속성의 setFunction 네이밍이 다음과 같아야함 : ".concat(r));this.oldValue=this.props[a](this.param1,this.param2),this.props[r](this.newValue,this.param1,this.param2)}},{key:"rollbackPropAction",value:function(t,n){var i=e.getPropGetter(this.propName,this.newValue),a=e.getPropSetter(this.propName);if(!(i in this.props))throw Error("속성의 getFunction 네이밍이 다음과 같아야함:  ".concat(i));if(!(a in this.props))throw Error("속성의 setFunction 네이밍이 다음과 같아야함 : ".concat(a));this.props[a](this.oldValue,this.param1,this.param2)}},{key:"rollbackGroupPropAction",value:function(t,n){var i=e.getGroupPropGetter(this.groupName,this.propName,this.newValue),a=e.getGroupPropSetter(this.groupName,this.propName);if(!(i in this.props))throw Error("그룹속성의 getFunction 네이밍이 다음과 같아야함:  ".concat(i));if(!(a in this.props))throw Error("그룹속성의 setFunction 네이밍이 다음과 같아야함 : ".concat(a));this.props[a](this.oldValue,this.param1,this.param2)}}],[{key:"getPropGetter",value:function(t,n){return e.getPrefixString(n)+e.firstCharUpperCase(t)}},{key:"getPropSetter",value:function(t){return"set"+e.firstCharUpperCase(t)}},{key:"getGroupPropGetter",value:function(t,n,i){return"active"===n?"isActive"+e.firstCharUpperCase(t):e.getPrefixString(i)+e.firstCharUpperCase(t)+e.firstCharUpperCase(n)}},{key:"getPrefixString",value:function(e){return!0===e||!1===e?"is":"get"}},{key:"getGroupPropSetter",value:function(t,n){return"active"===n?"setActive"+e.firstCharUpperCase(t):"set"+e.firstCharUpperCase(t)+e.firstCharUpperCase(n)}},{key:"firstCharUpperCase",value:function(e){return e[0].toUpperCase()+e.slice(1)}}]),e}(),R=function(e){function t(e,n,i,a,r,s,l){var u,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return E()(this,t),(u=o()(this,c()(t).call(this,i,a,r,s,l,h,!1,e))).items=e,u.renderitems=n,u.actionType=i,u.groupName=a,u.propName=r,u.newValue=s,u.updateUI=l,u.timeout=h,u}return d()(t,e),I()(t,[{key:"commitAction",value:function(e,n){a()(c()(t.prototype),"commitAction",this).call(this,e,n),n.renderer.renderCanvas(e,n,this.renderitems),this.updateUI&&n.renderer.renderItemToolsByItem(this.renderitems,n)}},{key:"rollbackAction",value:function(e,n){a()(c()(t.prototype),"rollbackAction",this).call(this,e,n),n.renderer.renderCanvas(e,n,this.renderitems)}}]),t}(P),C=function(e){function t(e,n,i,a,r,s){var l,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,h=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],d=arguments.length>8?arguments[8]:void 0,p=arguments.length>9?arguments[9]:void 0,m=arguments.length>10?arguments[10]:void 0,f=arguments.length>11?arguments[11]:void 0;E()(this,t),(l=o()(this,c()(t).call(this,n,i,a,r,s,u,h,d,p,m,f))).gridItem=e,l.rowThickness=[],l.colThickness=[];var g=!0,v=!1,T=void 0;try{for(var I,_=l.gridItem.rows[Symbol.iterator]();!(g=(I=_.next()).done);g=!0){var y=I.value;l.rowThickness.push(y.thickness)}}catch(e){v=!0,T=e}finally{try{g||null==_.return||_.return()}finally{if(v)throw T}}var L=!0,O=!1,S=void 0;try{for(var P,k=l.gridItem.cols[Symbol.iterator]();!(L=(P=k.next()).done);L=!0){var A=P.value;l.colThickness.push(A.thickness)}}catch(e){O=!0,S=e}finally{try{L||null==k.return||k.return()}finally{if(O)throw S}}return l}var n;return d()(t,e),I()(t,[{key:"commit",value:(n=g()(m.a.mark(function e(n,i,r){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a()(c()(t.prototype),"commit",this).call(this,n,i,r);case 2:return this.gridItem.adjustColThickness(),this.gridItem.adjustRowThickness(),this.gridItem.adjustSize(),this.gridItem.updateThicknessRatio(),this.isRender&&(r.renderCanvas(n,i,[this.gridItem]),r.renderHandler(n,i)),e.abrupt("return",null);case 8:case"end":return e.stop()}},e,this)})),function(e,t,i){return n.apply(this,arguments)})},{key:"rollback",value:function(e,n,i){var r=this;a()(c()(t.prototype),"rollback",this).call(this,e,n,i),this.gridItem.cols.forEach(function(e,t){e.thickness=r.colThickness[t]}),this.gridItem.rows.forEach(function(e,t){e.thickness=r.rowThickness[t]}),this.gridItem.adjustSize(),this.gridItem.updateThicknessRatio(),this.isRender&&(i.renderCanvas(e,n,[this.gridItem]),i.renderHandler(e,n))}}]),t}(A)},,,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=n(3),u=function(){function e(t,n){a()(this,e),this.key=t,this.requireCookie=n,e._values.push(this)}return o()(e,null,[{key:"values",value:function(){return this._values}}]),e}();c()(u,"_values",[]),c()(u,"UNICORN_THEME",new u(l.CooKey.UNICORN_THEME,!0)),c()(u,"IS_ADMIN",new u(l.CooKey.IS_ADMIN,!1)),c()(u,"IS_DEV",new u(l.CooKey.IS_DEV,!1)),c()(u,"SELECTED_TEAM_IDX",new u(l.CooKey.SELECTED_TEAM_IDX,!1))},function(e,t,n){"use strict";var i,a,r;n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),function(e){e[e.ITEM_TOOLS_UPDATE_PREVENT=0]="ITEM_TOOLS_UPDATE_PREVENT",e[e.NO_RENDER_LAYER=1]="NO_RENDER_LAYER"}(i||(i={})),function(e){e[e.ADMIN=0]="ADMIN",e[e.MOCKUP_EDIT=1]="MOCKUP_EDIT"}(a||(a={})),function(e){e[e.default=0]="default",e[e.top=1]="top"}(r||(r={}))},,,,function(e,t,n){"use strict";n.d(t,"d",function(){return b}),n.d(t,"c",function(){return w}),n.d(t,"h",function(){return x}),n.d(t,"g",function(){return N}),n.d(t,"b",function(){return M}),n.d(t,"e",function(){return U}),n.d(t,"f",function(){return G}),n.d(t,"a",function(){return F});var i=n(44),a=n.n(i),r=n(39),o=n.n(r),s=n(38),c=n.n(s),l=n(40),u=n.n(l),h=n(0),d=n.n(h),p=n(1),m=n.n(p),f=n(35),g=n.n(f),v=n(36),E=n.n(v),T=n(37),I=n.n(T),_=n(45),y=n(42),L=n(62),O=n(105),S=n(56),P=n(48),k=n(52),A=n(49),R=n(259),C=n(118),b=function(){function e(t,n,i,a,r,o,s,c,l){g()(this,e),I()(this,"doSaveQueue",!1),I()(this,"isActionGroupEquals",function(e){return!1}),I()(this,"concat",function(e){return!1}),I()(this,"actionType",_.a.TEXT_CHANGE),I()(this,"changeDesign",function(){return!0}),I()(this,"isLastSavedAction",!1),this.endSelect=s,this.needRender=c,this.setCursorLast=l,this.textItem=t,this.dx=n/this.textItem.lastRenderEditScale,this.dy=i/this.textItem.lastRenderEditScale,a&&r&&(this.ux=a/this.textItem.lastRenderEditScale,this.uy=r/this.textItem.lastRenderEditScale),this.shift=o||!1}return E()(e,[{key:"commit",value:function(e,t,n){S.a.selectItem(this.textItem);var i=t.pageController.getItemRenderer(this.textItem);this.textItem.isEditMode||i.toggleEditMode(),this.setCursorLast?i.elements.editElement.setCursorEnd():this.shift?i.selectText(this.dx,this.dy,this.dx,this.dy,!0,this.endSelect):this.ux&&this.uy?i.selectText(this.dx,this.dy,this.ux,this.uy,!1,this.endSelect):i.selectText(this.dx,this.dy,this.dx,this.dy,!1,this.endSelect);var a={isEditMode:!0,moveX:0,moveY:0,orgScale:t.zoomScale};if(y.a.isMobileMode()){var r=($(window).width()-40)/n.handler.getOffsetLTRB().getWidth(),o=($(window).innerHeight()/4-40)/n.handler.getOffsetLTRB().getHeight(),s=Math.min(r,o);if(s>1){var c=t.zoomScale*s*t.pageEditScale;y.a.dispatch(new R.a(c,!0))}}if(y.a.getEnv().browser.isMobile()&&(n.canvasRenderer.setEditModeContents(!0),n.renderHandler(e,t)),this.needRender&&(n.renderHandler(e,t),n.renderLayer(e,t)),y.a.getEnv().browser.isMobile()){var l=new A.c($(window).innerWidth()/2,$(window).innerHeight()/4),u=n.handler.getOffsetLTRB().getCenterPos();a.moveX=y.a.isMobileMode()?u.x-l.x:0,a.moveY=u.y-l.y,n.moveScroll(a.moveX,a.moveY)}this.textItem.editModeParam=a}},{key:"rollback",value:function(e,t){}},{key:"recycle",value:function(){this.textItem=null}}]),e}(),w=function(){function e(t){g()(this,e),I()(this,"doSaveQueue",!1),I()(this,"isActionGroupEquals",function(e){return!1}),I()(this,"concat",function(e){return!1}),I()(this,"actionType",_.a.TEXT_CHANGE),I()(this,"changeDesign",function(){return!0}),I()(this,"isLastSavedAction",!1),this.textItem=t}return E()(e,[{key:"commit",value:function(e,t){this.textItem.isEditMode&&t.pageController.getItemRenderer(this.textItem).toggleEditMode();var n=this.textItem.editModeParam;if(!n.isEditMode||0===n.moveX&&0===n.moveY||t.renderer.moveScroll(-n.moveX,-n.moveY),n.orgScale!==t.zoomScale){var i=n.orgScale*t.pageEditScale;y.a.dispatch(new R.a(i))}t.renderer.canvasRenderer.setEditModeContents(!1),this.textItem.editModeParam={isEditMode:!1,moveX:0,moveY:0,orgScale:t.zoomScale};var a=C.a.getItemIncludedPage(e.pages,this.textItem);t.renderer.canvasRenderer.printout.render({pageWrapper:t.pageController.getPageRenderer(a).element,pageId:a.pageId,pageSize:{width:a.sheetSize.width,height:a.sheetSize.height},pageItems:[this.textItem],domRenderParam:{editScale:a.editScale,printAreaBgColor:a.background.color},forceCheckPageItems:!0})}},{key:"rollback",value:function(e,t){}},{key:"recycle",value:function(){this.textItem=null}}]),e}(),x=function e(t,n,i,a){var r=this;g()(this,e),I()(this,"doSaveQueue",!1),I()(this,"actionType",_.a.TEXT_CHANGE),I()(this,"isActionGroupEquals",function(e){return!1}),I()(this,"concat",function(e){return!1}),I()(this,"changeDesign",function(){return!1}),I()(this,"isLastSavedAction",!1),I()(this,"commit",function(e,t){t.pageController.getItemRenderer(r.textitem).selectWord(r.x,r.y,r.shift)}),I()(this,"rollback",function(e,t){}),I()(this,"recycle",function(){}),this.textitem=t,this.x=n,this.y=i,this.shift=a},N=function e(t){var n=this;g()(this,e),I()(this,"doSaveQueue",!1),I()(this,"actionType",_.a.TEXT_CHANGE),I()(this,"isActionGroupEquals",function(e){return!1}),I()(this,"concat",function(e){return!1}),I()(this,"changeDesign",function(){return!1}),I()(this,"isLastSavedAction",!1),I()(this,"commit",function(e,t){t.pageController.getItemRenderer(n.textitem).elements.editElement.selectAll()}),I()(this,"rollback",function(e,t){}),I()(this,"recycle",function(){n.textitem=null}),this.textitem=t},D=function e(t){var n=this;g()(this,e),I()(this,"stoppoint",!1),I()(this,"doSaveQueue",!0),I()(this,"changeDesign",function(){return!0}),I()(this,"isLastSavedAction",!1),I()(this,"isActionGroupEquals",function(t){return t instanceof e&&!(n.stoppoint||t.stoppoint)}),I()(this,"actionType",_.a.TEXT_CHANGE),I()(this,"commit",function(){var e=m()(d.a.mark(function e(t,i,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.commitAction(t,i),a.renderCanvas(t,i,[n.textItem]),a.renderHandler(t,i);case 3:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(this,"rollback",function(){var e=m()(d.a.mark(function e(t,i,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.rollbackAction(t,i),a.renderCanvas(t,i,[n.textItem]),a.renderHandler(t,i);case 3:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(this,"concat",function(e){return!1}),I()(this,"commitAction",function(e,t){n.bleft=n.textItem.props.getLeft(),n.btop=n.textItem.props.getTop(),n.bright=n.textItem.props.getRight(),n.bbottom=n.textItem.props.getBottom(),n.commitTextAction(e,t)}),I()(this,"rollbackAction",function(e,t){n.rollbackTextAction(e,t),n.textItem.props.setLeft(n.bleft),n.textItem.props.setTop(n.btop),n.textItem.props.setRight(n.bright),n.textItem.props.setBottom(n.bbottom)}),I()(this,"recycle",function(){n.textItem=null,n.recycleText()}),this.textItem=t},M=function(e){function t(e,n,i){var a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];g()(this,t),(a=o()(this,c()(t).call(this,e))).stoppoint=r,a.textItem=e;var s=Object(O.d)(n,i),l=s.firstSel,u=s.lastSel;return a.startPos=Object.assign({},l),a.endPos=Object.assign({},u),a}return u()(t,e),E()(t,[{key:"commitTextAction",value:function(e,t){this.deleted=this.textItem.props.deleteText(this.startPos,this.endPos)}},{key:"rollbackTextAction",value:function(e,t){this.textItem.props.insertText(this.startPos,this.deleted),t.pageController.getItemRenderer(this.textItem).elements.editElement.selectByPos(this.startPos.row,this.startPos.col,this.endPos.row,this.endPos.col)}},{key:"recycleText",value:function(){this.startPos=null,this.endPos=null,this.deleted=null}}]),t}(D),B=function(e){function t(e,n){var i;return g()(this,t),i=o()(this,c()(t).call(this,e)),I()(a()(i),"isActionGroupEquals",function(e){return e instanceof D&&(!i.stoppoint&&!e.stoppoint&&(!i.text||-1===i.text.indexOf("\n")))}),i.text=n,i}return u()(t,e),t}(D),U=function(e){function t(e,n,i){var a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return g()(this,t),(a=o()(this,c()(t).call(this,e,i))).stoppoint=r,a.textItem=e,a.startPos=Object.assign({},n),a}return u()(t,e),E()(t,[{key:"commitTextAction",value:function(e,t){this.endPos=this.textItem.props.insertText(this.startPos,this.text)}},{key:"rollbackTextAction",value:function(e,t){this.textItem.props.deleteText(this.startPos,this.endPos),t.pageController.getItemRenderer(this.textItem).elements.editElement.selectByPos(this.startPos.row,this.startPos.col,this.startPos.row,this.startPos.col)}},{key:"recycleText",value:function(){this.startPos=null,this.endPos=null}}]),t}(B),G=function(e){function t(e,n,i,a){var r,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return g()(this,t),(r=o()(this,c()(t).call(this,e,a))).stoppoint=s,r.startPos=Object.assign({},n),r.endPos=Object.assign({},i),r}return u()(t,e),E()(t,[{key:"commitTextAction",value:function(e,t){this.beforeReplace=this.textItem.props.deleteText(this.startPos,this.endPos);var n=Object(O.d)(this.startPos,this.endPos).firstSel;this.deleteEndPos=this.textItem.props.insertText(n,this.text)}},{key:"rollbackTextAction",value:function(e,t){var n=Object(O.d)(this.startPos,this.endPos).firstSel;this.textItem.props.deleteText(n,this.deleteEndPos),this.beforeReplace&&this.textItem.props.insertText(n,this.beforeReplace),t.pageController.getItemRenderer(this.textItem).elements.editElement.selectByPos(this.startPos.row,this.startPos.col,this.endPos.row,this.endPos.col)}},{key:"recycleText",value:function(){this.startPos=null,this.endPos=null,this.deleteEndPos=null,this.beforeReplace=null}}]),t}(B),F=function(e){function t(e,n){var i;return g()(this,t),i=o()(this,c()(t).call(this)),I()(a()(i),"actionType",_.a.ONE_TIME),I()(a()(i),"changeDesign",function(){return!1}),I()(a()(i),"commitAction",function(e){var t=i.items;if(t&&0!==t.length&&i.designParam){var n=i.designParam;n.repositoryType===k.a.UNICORN&&n.resourceType!==P.a.TEMPLATE||t.forEach(function(e){e instanceof L.b&&(e.templateText=e.text)})}}),I()(a()(i),"rollbackAction",function(e,t){}),I()(a()(i),"recycle",function(){}),i.items=e,i.designParam=n,i.doSaveQueue=!1,i}return u()(t,e),t}(_.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(49),c=n(50),l=n(66),u=function(){function e(){a()(this,e)}return o()(e,null,[{key:"calculateDesignElementPos",value:function(e,t,n){var i=t>=n,a=i?n/t:t/n,r=.6*(e.width>=e.height?e.height:e.width),o=(e.width-(i?r:r*a))/2,c=(e.height-(i?r*a:r))/2,l=o+(i?r:r*a),u=c+(i?r*a:r);return new s.a(o,c,l,u,0)}},{key:"getOffsetBaseRect",value:function(t,n,i,a,r,o,c){var l=e.calculateDesignElementPos(n,o,c);if(t){var u=r/i,h=a/i-l.getWidth()/2,d=u-l.getHeight()/2,p=h+l.getWidth(),m=d+l.getHeight();return new s.a(h,d,p,m)}return l}},{key:"correctPosition",value:function(e,t){e.forEach(function(e){var n=e.getLTRBCoordinate(),i=t.getLTRBCoordinate();n.left===i.left&&n.top===i.top&&t.move(10,10)})}},{key:"getItemIncludedPage",value:function(e,t){return e.find(function(e){var n=e.getAllSingleItems(),i=null;return!!(i=t instanceof c.e&&t.belongsTo===c.c.IMAGEFRAME?n.find(function(e){return e instanceof l.b&&e.innerPhotoItem===t}):t)&&Boolean(n.find(function(e){return e.tbpeId===i.tbpeId}))})}}]),e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return B}),n.d(t,"a",function(){return U}),n.d(t,"c",function(){return G}),n.d(t,"d",function(){return F}),n.d(t,"e",function(){return H});var i=n(36),a=n.n(i),r=n(46),o=n.n(r),s=n(0),c=n.n(s),l=n(1),u=n.n(l),h=n(35),d=n.n(h),p=n(39),m=n.n(p),f=n(38),g=n.n(f),v=n(44),E=n.n(v),T=n(40),I=n.n(T),_=n(37),y=n.n(_),L=n(45),O=n(50),S=n(42),P=n(51),k=n(59),A=n(96),R=n(49),C=n(56),b=n(92),w=n(66),x=n(135),N=n(257),D=n(323),M=n(118),B=(L.b,L.b,L.b,L.b,function(e){function t(e,n){var i;return d()(this,t),i=m()(this,g()(t).call(this)),y()(E()(i),"actionType",L.a.CROP_PHOTO),y()(E()(i),"changeDesign",function(){return!1}),y()(E()(i),"commitAction",function(){var e=u()(c.a.mark(function e(t,n,a){var r,o,s,l,u,h;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.photoItem){e.next=4;break}if(1===n.activeItems.length&&!n.activeItems[0].isLock()&&n.activeItems[0]instanceof O.e){e.next=3;break}return e.abrupt("return");case 3:i.photoItem=n.activeItems[0];case 4:if(r=i.photoItem,o=M.a.getItemIncludedPage(t.pages,r),(s=n.pageController.getItemRenderer(r)).photoCropRenderer.setMainPageElement(n.pageController.getPageRenderer(o).element),r.belongsTo!==O.c.IMAGEFRAME||s.elements.element){e.next=11;break}return e.next=11,s.renderAutoAsync(1);case 11:return(l=o.background.backgroundItem)?i.cropParam?s.toggleEditMode(i.cropParam):(u=D.a.getBackgroundCropParam(n,o,l),s.toggleEditMode(u)):i.cropParam?s.toggleEditMode(i.cropParam):(h=D.a.getCropParam(n,o,!0),s.toggleEditMode(h)),C.a.selectItem(r),r.props.updateRevision(!0),e.next=17,s.renderAutoAsync(r.lastRenderEditScale);case 17:s.cloneImageSrcToCropImageElement();case 18:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),y()(E()(i),"rollbackAction",function(){}),y()(E()(i),"recycle",function(){i.photoItem=null}),i.photoItem=e,i.cropParam=n,i.doSaveQueue=!1,i}return I()(t,e),t}(L.b)),U=function(e){function t(e,n,i,a){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return d()(this,t),(r=m()(this,g()(t).call(this,e,i,a,o))).photoIdx=n,r.actionType=L.a.ADD_PHOTO,r}var n,i;return I()(t,e),a()(t,[{key:"getImageSize",value:(i=u()(c.a.mark(function e(t){var n,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=A.a.getPhotoUrlWithIdx(this.photoIdx),this.photoKey=A.a.createPhotoKey(this.photoIdx),e.next=4,k.b.setUrlImage(this.photoKey,n);case 4:return i=e.sent,e.abrupt("return",{imgWidth:i.width,imgHeight:i.height});case 6:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"createNewItem",value:(n=u()(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new O.e(t,n.left,n.top,n.right,n.bottom));case 1:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"setItemOption",value:function(e){o()(g()(t.prototype),"setItemOption",this).call(this,e);var n=e;n.props.setPhotoKey(this.photoKey),n.orgType=O.b.Photo}}]),t}(b.j),G=function(e){function t(e){var n;if(d()(this,t),n=m()(this,g()(t).call(this)),y()(E()(n),"actionType",L.a.CROP_PHOTO_APPLY),y()(E()(n),"isPossibleInCropMode",!0),y()(E()(n),"changeDesign",function(){return!0}),y()(E()(n),"commitAction",function(){var e=u()(c.a.mark(function e(t,i,a){var r,o,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.doAction){e.next=2;break}return e.abrupt("return");case 2:r=M.a.getItemIncludedPage(t.pages,n.photoItem),n.newRect&&n.newImgRect?(n.photoItem.setLTRBCoordinate(n.newRect),n.photoItem.itemPosition=n.newImgRect.clone(),n.photoItem.photoCrop.isCropped=!0):(o=i.pageController.getItemRenderer(n.photoItem),s=D.a.getCropParam(i,r,!0),o.toggleEditMode(s),n.newRect=n.photoItem.getLTRBCoordinate(),n.newImgRect=n.photoItem.itemPosition),n.photoItem.setStatus(P.d.STABLE),n.photoItem.props.updateRevision(),a.canvasRenderer.renderAuto(t,i,[n.photoItem]),n.photoItem.belongsTo===O.c.INDEPENDENT&&a.renderLayerThumb([n.photoItem]),i.pageController.getPageRenderer(r).updateHoverLayer();case 9:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),y()(E()(n),"rollbackAction",function(e,t,i){n.doAction&&(n.photoItem.setLTRBCoordinate(n.backupRect),n.photoItem.itemPosition=n.backupImgRect.clone(),n.photoItem.setStatus(P.d.STABLE),n.photoItem.props.updateRevision(),n.photoItem.photoCrop.isCropped=n.oldIsCropped,i.renderLayerThumb([n.photoItem]))}),y()(E()(n),"recycle",function(){n.photoItem=null,n.backupRect=null,n.backupImgRect=null,n.newRect=null,n.newImgRect=null}),n.photoItem=e,1!==S.a.instance.activeItems.length)return m()(n);var i=S.a.instance.activeItems[0];return!e&&i instanceof O.e&&(n.photoItem=i),!e&&i instanceof w.b&&(n.photoItem=i.innerPhotoItem),n.photoItem&&(n.backupRect=n.photoItem.backupRect.clone(),n.backupImgRect=n.photoItem.backupImgRect.clone(),n.oldIsCropped=n.photoItem.photoCrop.isCropped,n.doAction=!0),n.doSaveQueue=n.doAction,n}return I()(t,e),t}(L.b),F=function(e){function t(){var e;d()(this,t),e=m()(this,g()(t).call(this)),y()(E()(e),"doSaveQueue",!1),y()(E()(e),"isPossibleInCropMode",!0),y()(E()(e),"actionType",L.a.CROP_PHOTO_CANCLE),y()(E()(e),"isActionGroupEquals",function(e){return!1}),y()(E()(e),"concat",function(e){return!1}),y()(E()(e),"changeDesign",function(){return!1}),y()(E()(e),"commitAction",function(){var t=u()(c.a.mark(function t(n,i,a){var r,o,s,l,u,h,d,p,m,f,g;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=e.photoItem)&&S.a.isCropMode()){t.next=3;break}return t.abrupt("return");case 3:if(o=M.a.getItemIncludedPage(n.pages,r),e.doAction&&(s=i.pageController.getItemRenderer(r),l=D.a.getCropParam(i,o,!1),s.toggleEditMode(l),r.setStatus(P.d.STABLE),r.props.updateRevision()),r.belongsTo!==O.c.IMAGEFRAME){t.next=37;break}a.renderHandler(n,i),h=!0,d=!1,p=void 0,t.prev=10,m=o.getAllSingleItems()[Symbol.iterator]();case 12:if(h=(f=m.next()).done){t.next=20;break}if(g=f.value,!e.isValieFrame(g)){t.next=17;break}return u=g,t.abrupt("break",20);case 17:h=!0,t.next=12;break;case 20:t.next=26;break;case 22:t.prev=22,t.t0=t.catch(10),d=!0,p=t.t0;case 26:t.prev=26,t.prev=27,h||null==m.return||m.return();case 29:if(t.prev=29,!d){t.next=32;break}throw p;case 32:return t.finish(29);case 33:return t.finish(26);case 34:C.a.selectItem(u),a.renderCanvas(n,i,[u]),a.renderHandler(n,i);case 37:i.pageController.getPageRenderer(o).updateHoverLayer();case 38:case"end":return t.stop()}},t,null,[[10,22,26,34],[27,,29,33]])}));return function(e,n,i){return t.apply(this,arguments)}}()),y()(E()(e),"rollbackAction",function(){}),y()(E()(e),"recycle",function(){e.photoItem=null});var n=S.a.instance.activeItems[0];return e.renderAuto=e.doAction=1===S.a.instance.activeItems.length&&n instanceof O.e&&S.a.isCropMode(),e.doAction&&(e.photoItem=S.a.instance.activeItems[0]),e}return I()(t,e),a()(t,[{key:"isValieFrame",value:function(e){return e instanceof w.b&&e.innerPhotoItem.tbpeId===this.photoItem.tbpeId}}]),t}(L.b),H=function(e){function t(){var e;return d()(this,t),e=m()(this,g()(t).call(this)),y()(E()(e),"actionType",L.a.INIT_IMAGE),y()(E()(e),"changeDesign",function(){return!1}),y()(E()(e),"commitAction",function(){var t=u()(c.a.mark(function t(n,i,a){var r,o,s;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.photoItem){t.next=2;break}return t.abrupt("return");case 2:if(r=e.photoItem,e.rollbackPhotoInfo={props:r.props.clone(),itemRect:r.getLTRBCoordinate(),imgRect:r.itemPosition.clone(),isCropped:r.photoCrop.isCropped},r.props.clear(),!r.isBackground){t.next=15;break}if(r.orgType!==O.b.BackgroundImage){t.next=11;break}return t.next=9,e.resetBizBackground(n,i,a);case 9:t.next=13;break;case 11:o=n.pages[i.renderPageIdx].sheetSize,e.resetUserPhotoBackground(o.width,o.height);case 13:t.next=17;break;case 15:r.disableCrop(),r.initRectToImageRect();case 17:return s=n.pages[i.renderPageIdx].background.backgroundItem,C.a.selectItem(r.isBackground&&s?s:r),t.next=21,a.renderAuto(n,i);case 21:return t.next=23,a.renderLayerThumb([r]);case 23:case"end":return t.stop()}},t)}));return function(e,n,i){return t.apply(this,arguments)}}()),y()(E()(e),"rollbackAction",function(){var t=u()(c.a.mark(function t(n,i,a){var r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.rollbackItem(),!e.photoSkinSetAction){t.next=4;break}return t.next=4,e.photoSkinSetAction.rollbackAction(n,i,a);case 4:if(C.a.selectItem(e.photoItem),!e.photoItem.isBackground){t.next=11;break}return r=i.pageController.getItemRenderer(e.photoItem),t.next=9,r.renderAutoAsync(i.pageEditScale,!0);case 9:t.next=13;break;case 11:return t.next=13,a.renderAuto(n,i);case 13:a.renderLayerThumb([e.photoItem]);case 14:case"end":return t.stop()}},t)}));return function(e,n,i){return t.apply(this,arguments)}}()),y()(E()(e),"recycle",function(){e.photoItem=null,e.photoSkinSetAction&&e.photoSkinSetAction.recycle()}),e.renderAuto=!1,1===S.a.instance.activeItems.length&&S.a.instance.activeItems[0]instanceof O.e&&(e.photoItem=S.a.instance.activeItems[0]),e}var n;return I()(t,e),a()(t,[{key:"rollbackItem",value:function(){this.photoItem.setProps(this.rollbackPhotoInfo.props),this.photoItem.setLTRBCoordinate(this.rollbackPhotoInfo.itemRect),this.photoItem.itemPosition=this.rollbackPhotoInfo.imgRect.clone(),this.photoItem.photoCrop.isCropped=this.rollbackPhotoInfo.isCropped}},{key:"resetBizBackground",value:(n=u()(c.a.mark(function e(t,n,i){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.photoSkinSetAction=new x.a(this.photoItem.props.getPhotoKey()),this.photoSkinSetAction.doSaveQueue=!1,e.next=4,this.photoSkinSetAction.commitAction(t,n,i);case 4:case"end":return e.stop()}},e,this)})),function(e,t,i){return n.apply(this,arguments)})},{key:"resetUserPhotoBackground",value:function(e,t){this.photoItem.setLTRBCoordinate(new R.a(0,0,e,t));var n=k.b.getData(this.photoItem.props.getPhotoKey()),i=N.a.getCenterFixRect(e,t,n.width,n.height);this.photoItem.itemPosition=i.clone()}}]),t}(L.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(326),c=function(){function e(){a()(this,e)}return o()(e,null,[{key:"getImageElementWithReplaceableThumbnail",value:function(){var e=new Image;return e.onerror=function(){e.src=s.a.DESIGN_HISTORY_PREVIEW_PLACEHOLDER},e}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return S});var i=n(139),a=n.n(i),r=n(0),o=n.n(r),s=n(1),c=n.n(s),l=n(35),u=n.n(l),h=n(36),d=n.n(h),p=n(37),m=n.n(p),f=n(3),g=n(43),v=n(47),E=n(205),T=n(42),I=n(156),_=n(58),y=n(328),L=n(329),O=n(48),S=function(){function e(){u()(this,e)}var t,n,i,r,s,l,h;return d()(e,null,[{key:"initDataMap",value:function(){this.DATA_MAP.clear(),this.dataInitListeners.forEach(function(e){return e()})}},{key:"initSizeMap",value:(h=c()(o.a.mark(function e(){var t,n=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.SIZE_MAP.clear(),T.a.instance.user.isLogin()){e.next=3;break}return e.abrupt("return");case 3:return t=f.CRM.get(g.a.MY_COLLECTION_SIZE_BY_RESOURCE_TYPE),e.next=6,v.UnicornApiRequest.get(t);case 6:e.sent.data.forEach(function(e){return n.SIZE_MAP.set(e.resourceType,e.size)});case 8:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"hasFavorite",value:function(e){if(e)return this.SIZE_MAP.get(e)>0;var t=!0,n=!1,i=void 0;try{for(var a,r=this.SIZE_MAP.values()[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){if(a.value>0)return!0}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return!1}},{key:"isFavorite",value:function(e){return this.has(e)&&this.get(e).isFavorite()}},{key:"set",value:function(e,t,n){var i=new P(e,t,n);return this.DATA_MAP.set(this.getPkStr(e),i),i}},{key:"get",value:function(e){return this.DATA_MAP.get(this.getPkStr(e))}},{key:"has",value:function(e){return this.DATA_MAP.has(this.getPkStr(e))}},{key:"setListItems",value:(l=c()(o.a.mark(function t(n){var i,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!f.ArrayUtil.isEmpty(n)){t.next=2;break}return t.abrupt("return");case 2:return i=n[0].listItemData.myCollectionPk.resourceType,a=n[0].listItemData.myCollectionPk.repositoryType,t.next=6,e.setResourceDataList(n.map(function(e){return e.listItemData.resourceData}),i,a);case 6:return t.abrupt("return",n);case 7:case"end":return t.stop()}},t)})),function(e){return l.apply(this,arguments)})},{key:"setResourceDataList",value:(s=c()(o.a.mark(function e(t,n,i){var a,r,s,c=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.a.instance.user.isLogin()){e.next=2;break}return e.abrupt("return");case 2:if(a=E.a.createInstance(n,i),t=t.filter(function(e){return!c.has({referenceKey:a.getKey(e),resourceType:n,repositoryType:i})}),!f.ArrayUtil.isEmpty(t)){e.next=6;break}return e.abrupt("return");case 6:return r=t.map(function(e){return a.getKey(e)}),e.next=9,y.a.getListByReferenceKeyList(Array.from(new Set(r)),n,i);case 9:s=e.sent,t.forEach(function(e){var t=a.getKey(e),r={referenceKey:t,resourceType:n,repositoryType:i},o=s.some(function(e){return e.referenceKey===String(t)});c.set(r,e,o)});case 11:case"end":return e.stop()}},e)})),function(e,t,n){return s.apply(this,arguments)})},{key:"setMyCollectionPk",value:(r=c()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.has(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y.a.findOne(t);case 4:n=e.sent,this.set(t,null,!!n);case 6:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"setMyCollectionList",value:(i=c()(o.a.mark(function t(n){var i,r,s,c,l,u,h,d,p=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=n.filter(function(e){var t=p.makeMyCollectionPk(e);return!p.has(t)||!p.get(t).hasResourceData()}),i=!0,r=!1,s=void 0,t.prev=4,c=this.getReferenceListMap(n)[Symbol.iterator]();case 6:if(i=(l=c.next()).done){t.next=18;break}return u=a()(l.value,2),h=u[0],d=u[1],t.prev=8,t.delegateYield(o.a.mark(function t(){var n,i,a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=p.parseReferenceListMapKey(h),i=n.resourceType,a=n.repositoryType,r=L.a.create(i,a),t.next=4,r.request(d);case 4:t.sent.forEach(function(t){var n={resourceType:i,repositoryType:a,referenceKey:E.a.createInstance(i,a).getKey(t)};e.set(n,t,!0)});case 6:case"end":return t.stop()}},t)})(),"t0",10);case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(8),console.error(t.t1);case 15:i=!0,t.next=6;break;case 18:t.next=24;break;case 20:t.prev=20,t.t2=t.catch(4),r=!0,s=t.t2;case 24:t.prev=24,t.prev=25,i||null==c.return||c.return();case 27:if(t.prev=27,!r){t.next=30;break}throw s;case 30:return t.finish(27);case 31:return t.finish(24);case 32:case"end":return t.stop()}},t,this,[[4,20,24,32],[8,12],[25,,27,31]])})),function(e){return i.apply(this,arguments)})},{key:"getReferenceListMap",value:function(e){var t=new Map;if(!e)return t;var n=!0,i=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value,c=this.getReferenceListMapKeyString(s.resourceType,s.repositoryType);if(t.has(c))t.get(c).push(s.referenceKey);else t.set(c,[s.referenceKey])}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return t}},{key:"getReferenceListMapKeyString",value:function(e,t){return I.a.getResourceKey(e,t)}},{key:"parseReferenceListMapKey",value:function(e){var t=I.a.parseResourceKey(e);return{resourceType:t.resourceType,repositoryType:t.key}}},{key:"registerFavorite",value:(n=c()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.has(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.get(t).registerFavorite();case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"unregisterFavorite",value:(t=c()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.has(t)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.get(t).unregisterFavorite();case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"addRegisterListener",value:function(e,t){return this.registerListenerMap.has(e)||this.registerListenerMap.set(e,[]),this.registerListenerMap.get(e).push(t),this}},{key:"addUnregisterListener",value:function(e,t){return this.unregisterListenerMap.has(e)||this.unregisterListenerMap.set(e,[]),this.unregisterListenerMap.get(e).push(t),this}},{key:"addDataInitListener",value:function(e){return this.dataInitListeners.push(e),this}},{key:"triggerRegisterListener",value:function(e){var t=this.SIZE_MAP.get(e.resourceType);this.SIZE_MAP.set(e.resourceType,t?t+1:1);var n=this.registerListenerMap.get(e.resourceType);n&&n.forEach(function(t){return t(e)})}},{key:"triggerUnregisterListener",value:function(e){var t=this.SIZE_MAP.get(e.resourceType);this.SIZE_MAP.set(e.resourceType,t>0?t-1:0);var n=this.unregisterListenerMap.get(e.resourceType);n&&n.forEach(function(t){return t(e)})}},{key:"makeMyCollectionPk",value:function(e){return{referenceKey:e.referenceKey,resourceType:e.resourceType,repositoryType:e.repositoryType}}},{key:"getPkStr",value:function(e){return I.a.getResourceKey(e.resourceType,e.referenceKey,e.repositoryType)}},{key:"isSamePk",value:function(e,t){return this.getPkStr(e)===this.getPkStr(t)}}]),e}();m()(S,"DATA_MAP",new Map),m()(S,"SIZE_MAP",new Map),m()(S,"registerListenerMap",new Map),m()(S,"unregisterListenerMap",new Map),m()(S,"dataInitListeners",[]);var P=function(){function e(t,n,i){u()(this,e),this.pk=t,this.resourceData=n,this.favorite=i}var t,n;return d()(e,[{key:"registerFavorite",value:(n=c()(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.a.instance.user.isLogin()){e.next=2;break}throw new Error("로그인 정보가 존재하지 않습니다");case 2:if(!this.favorite){e.next=4;break}throw new Error("이미 찜 되어 있습니다.");case 4:return e.next=6,y.a.insert(this.pk);case 6:try{(t=Object(O.c)(this.pk.resourceType))&&(n=this.pk.resourceType===O.a.TEMPLATE?"템플릿":"요소",_.a.sendEvent(n+" 찜하기",t+" 찜하기",this.pk.referenceKey))}catch(e){}this.favorite=!0,S.triggerRegisterListener(this.pk);case 9:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"unregisterFavorite",value:(t=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(T.a.instance.user.isLogin()){e.next=2;break}throw new Error("로그인 정보가 존재하지 않습니다");case 2:if(this.favorite){e.next=4;break}throw new Error("이미 찜 해제되어 있습니다.");case 4:return e.next=6,y.a.delete(this.pk);case 6:this.favorite=!1,S.triggerUnregisterListener(this.pk);case 8:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"isFavorite",value:function(){return this.favorite}},{key:"hasResourceData",value:function(){return!!this.resourceData}},{key:"getResourceData",value:function(){return this.resourceData}}]),e}()},function(e,t,n){"use strict";var i=n(36),a=n.n(i),r=n(0),o=n.n(r),s=n(1),c=n.n(s),l=n(35),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(44),g=n.n(f),v=n(40),E=n.n(v),T=n(37),I=n.n(T),_=n(45),y=n(42),L=n(92),O=n(260),S=n(48),P=n(135),k=n(156),A=n(50),R=n(119),C=n(62),b=n(51),w=n(75),x=n(227),N=n(49),D=n(163),M=n(132),B=n(384),U=n(65),G=n(147),F=n(229),H=function(){function e(t){u()(this,e),this.keyEvent=t,this.keyCheck=new B.a(t),this.isStopAfterAction=!1}return a()(e,[{key:"keyDown",value:function(){if(!this.isItemKeyDown()){if(this.keyCheck.isCtrlSpace())this.changeScreenMoveMode();else if(this.keyCheck.isCtrlPlus()||this.keyCheck.isCtrlMinus()){this.keyEvent.preventDefault();var t=this.keyCheck.isCtrlPlus()?F.c.IN:F.c.OUT;F.b.zoomInOutByExtend(t)}if(this.keyCheck.isSpace()){if(y.a.instance.renderer.pageZoomNavigator.isScreenMoveMode)return void this.keyCheck.eventPreventDefault();e.disableFocusButton()}e.isInputEditing()&&(this.isStopAfterAction=!0)}}},{key:"changeScreenMoveMode",value:function(){this.keyCheck.eventPreventDefault(),e.isScreenMoveMode()||(y.a.instance.mouseAction.mode=U.a.MODE_NAVIGATION),y.a.instance.renderer.canvasRenderer.enableScrollMode()}},{key:"isItemKeyDown",value:function(){var e=y.a.instance.activeItems;return!(1!==e.length||!y.a.isCropMode()&&e[0].groupId)&&this.isSingleItemKeyDown()}},{key:"isSingleItemKeyDown",value:function(){var e=y.a.instance.activeItems[0];return!!(e instanceof A.e&&y.a.isCropMode())&&(this.isStopAfterAction=!0,this.keyCheck.isEnter()?e.belongsTo===A.c.INDEPENDENT?y.a.dispatch(new R.c):y.a.dispatch(new G.h):this.keyCheck.isEsc()||this.keyCheck.isBackSpace()?y.a.dispatch(new R.d):this.keyCheck.isArrowDirection()&&this.moveItemPosition(),!0)}},{key:"moveItemPosition",value:function(){var e,t=0,n=0;e=this.keyCheck.isShiftPress()?10:1,this.keyCheck.isLeft()?t=-e:this.keyCheck.isRight()?t=e:this.keyCheck.isUp()?n=-e:this.keyCheck.isDown()&&(n=e),0===t&&0===n||y.a.dispatch(new L.g(t,n,!1,!0,!0))}}],[{key:"isScreenMoveMode",value:function(){return y.a.instance.mouseAction.mode===U.a.MODE_NAVIGATION||y.a.instance.mouseAction.mode===U.a.MODE_NAVIGATION_DRAG}},{key:"disableFocusButton",value:function(){var e=document.activeElement;"button"===e.tagName.toLowerCase()&&e.blur()}},{key:"isInputEditing",value:function(){var e=document.activeElement,t=e instanceof HTMLInputElement,n=!1;return t&&(n="text"===e.type.toLowerCase()),t&&n}}]),e}(),V=n(60),W=n(3),K=n(43),Y=n(129),z=n(61),X=n(213),j=n(109),Z=n(47),q=n(56),Q=n(54),J=n(108),ee=n(242),te=n(87),ne=n(191),ie=n(66),ae=n(175),re=n(126),oe=n(88),se=n(63),ce=n(78),le=n(52),ue=n(265),he=n(41),de=n(268),pe=n(141),me=n(179),fe=n(12),ge=function(e){function t(){return u()(this,t),d()(this,m()(t).call(this))}var n;return E()(t,e),a()(t,[{key:"getContents",value:function(){var e=this,t=this.contents=document.createElement("div"),n=document.createElement("p");return n.innerText="내 디자인 불러오기",t.appendChild(n),this.paginationListTool=new de.a(function(){var e=c()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.getMyList({page:t.page,pageSize:t.pageSize,orderField:pe.c.UPDATE_DATE,orderBy:pe.b.DESC});case 2:return n=e.sent,e.abrupt("return",{listItemParams:n.list,totalRow:n.pagination.totalRow});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),{listItemRenderAction:function(t){var n=document.createElement("li"),i=e.makeBtnLayer(t);i.addEventListener("click",function(){ue.a.open("선택한 디자인으로 새로 시작하시겠습니까?",W.CRM.get(K.a.TOOLS_POPUP_CONFIRM_BTN),function(){e.close(),z.b.load(t.idx)})}),n.appendChild(i);var a=new Image;a.src=ce.a.makeThumbUrl(t.thumbKeyList[0]),n.appendChild(a),n.appendChild(e.makeTitleWrap(t));var r=document.createElement("p");return r.className=he.a.DATE,r.innerText=W.DateUtil.toString(new Date(t.updateDate),"yyyy-MM-dd HH:mm"),n.appendChild(r),n},justifyOption:{rowWidth:944,defaultRowHeight:150,horizonMargin:8}},30,me.b.SCROLL),t.appendChild(this.paginationListTool.render()),t}},{key:"makeBtnLayer",value:function(e){var t=document.createElement("div");if(t.className=he.a.BTN_LAYER,e.share){var n=Object(fe.setToolsIcon)(t,fe.ToolsIcon.GROUP);n.addEventListener("click",function(){var t=c()(o.a.mark(function t(i){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.stopPropagation(),a={referenceKey:String(e.idx),resourceType:S.a.DESIGN,repositoryType:le.a.UNICORN},t.next=4,Z.UnicornApiRequest.post(W.CRM.get(K.a.INACTIVE_SHARE_DESIGN_URL),{data:a});case 4:return t.next=6,Z.UnicornApiRequest.post(W.CRM.get(K.a.INACTIVE_SHARE_DESIGN),{data:a});case 6:$(n).remove();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}var i=Object(fe.setToolsIcon)(t,fe.ToolsIcon.DDDOT,!0);return i.addEventListener("click",function(t){t.stopPropagation(),ve.open(e.idx,$(i).offset())}),t}},{key:"makeTitleWrap",value:function(e){var t=this,n="click.".concat(W.StringUtil.random()),i=function i(a){if(a){if($(t.contents).off(n).trigger("click"),$(t.contents).on(n,function(){i(!1)}),"true"===r.contentEditable)return;r.contentEditable="true",r.focus(),document.execCommand("selectAll")}else{if($(t.contents).off(n),W.StringUtil.isEmpty(r.innerText)&&(r.innerText=z.a.getDefaultTitle()),window.getSelection().removeAllRanges(),r.blur(),r.scrollLeft=0,r.contentEditable="false",r.getAttribute("data-title")===r.innerText)return;r.setAttribute("data-title",r.innerText);var o=z.b.getCallBackParam(),s={title:r.innerText,createDateOffset:((new Date).getTime()-window.loadedTime)/1e3,extraData:void 0,designMode:y.a.instance.launcherOption.getDesignMode()};ce.a.update(e.idx,{clientParam:o,saveParam:s}),window.loadedTime=(new Date).getTime()}},a=document.createElement("div");a.className=he.a.TITLE;var r=document.createElement("p");return r.innerText=e.title,r.setAttribute("data-title",e.title),$(r).on("click",function(e){e.stopPropagation(),i(!0)}).on("keydown",function(e){if(e.stopPropagation(),13===e.keyCode)return i(!1),!1}),a.appendChild(r),Object(fe.setToolsIcon)(a,fe.ToolsIcon.PENCIL,!0).addEventListener("click",function(e){e.stopPropagation(),i("true"!==r.contentEditable)}),a}},{key:"loadList",value:(n=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.paginationListTool.initList();case 2:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getId",value:function(){return"myDesignPopup"}},{key:"updateUI",value:function(){this.loadList()}}]),t}(se.a);I()(ge,"instance",new ge);var ve=function(e){function t(){return u()(this,t),d()(this,m()(t).call(this))}return E()(t,e),a()(t,[{key:"getContents",value:function(){var e=this,t=document.createElement("div"),n=document.createElement("button");return n.innerText="삭제하기",Object(fe.setToolsIcon)(n,fe.ToolsIcon.DELETE),n.addEventListener("click",c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.close(),t.prev=1,t.next=4,ce.a.delete(e.designIdx);case 4:t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(1),alert("삭제중 오류가 발생했습니다"),console.error(t.t0),t.abrupt("return");case 11:return t.next=13,ge.instance.loadList();case 13:case"end":return t.stop()}},t,null,[[1,6]])}))),t.appendChild(n),t}},{key:"getId",value:function(){return"myDesignPopupDddotLayer"}},{key:"updateUI",value:function(){}}],[{key:"open",value:function(e,t){this.instance.designIdx=e,this.instance.open(t)}},{key:"close",value:function(){this.instance.close()}}]),t}(se.a);I()(ve,"instance",new ve);var Ee=n(359),Te=n(148),Ie=n(182),_e=n(46),ye=n.n(_e),Le=n(59),Oe=n(137),Se=n(172),Pe=function(){function e(){u()(this,e)}return a()(e,null,[{key:"makeElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("span");t.className=he.a.RING_LOADER,t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span")),t.appendChild(document.createElement("span"));var n=document.createElement("label");return n.innerText=e,t.appendChild(n),t}}]),e}(),ke=function(e){function t(e,n,i,a){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return u()(this,t),(r=d()(this,m()(t).call(this,e,i,a,o))).photoKey=n,r.actionType=_.a.ADD_PHOTO,r}var n,i,r;return E()(t,e),a()(t,[{key:"getImageSize",value:(r=c()(o.a.mark(function e(t){var n,i,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se.a.getFileIDWithKey(this.photoKey),e.next=3,Oe.d.requestToDownloadPixabayImage(n);case 3:return i=Oe.b.get(n),e.next=6,Le.b.setUrlImage(this.photoKey,i.webformatURL);case 6:return a=e.sent,this.webFormatURL=i.webformatURL,e.abrupt("return",{imgWidth:a.width,imgHeight:a.height});case 9:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"createNewItem",value:(i=c()(o.a.mark(function e(t,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new A.e(t,n.left,n.top,n.right,n.bottom));case 1:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})},{key:"afterCreateItem",value:(n=c()(o.a.mark(function e(t,n){var i,a,r,s=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.newItem,e.next=3,Oe.d.downloadStatus(this.photoKey);case 3:a=e.sent,r=y.a.instance.pageController.getItemRenderer(i),a.data.status!==Oe.a.CACHED&&(r.elements.downloadCheck=function(){var e=c()(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.elements.downloadCheck=null,(a=Pe.makeElement()).style.transform="scale(".concat(1/(n.zoomScale*n.pageEditScale),")"),t.appendChild(a),e.next=6,Oe.d.startDownloadCompletePolling(s.photoKey,function(){t.removeChild(a)},function(){t.removeChild(a),i.setResourceLoadStatus(b.b.TEMPORARY_ERROR)});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.makeElement());case 6:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"setItemOption",value:function(e){ye()(m()(t.prototype),"setItemOption",this).call(this,e);var n=e;n.props.setPhotoKey(this.photoKey),n.orgType=A.b.Pixabay}}]),t}(L.j),Ae=n(149),Re=n(162),Ce=n(203),be=n(95),we=n(111),xe=n(106),Ne=n(53),De=n(138),Me=n(89),Be=n(76),Ue=n(58),Ge=n(142),Fe=n(362),He=n(258),Ve=n(280),We=n(281),Ke=n(383),Ye=n(222),ze=n(282),Xe=n(81);n.d(t,"a",function(){return je}),n.d(t,"c",function(){return Ze}),n.d(t,"b",function(){return qe}),n.d(t,"e",function(){return Je}),n.d(t,"d",function(){return et});var je=function(e){function t(e,n,i,a){var r,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return u()(this,t),r=d()(this,m()(t).call(this)),I()(g()(r),"doSaveQueue",!1),I()(g()(r),"changeDesign",function(){return!1}),I()(g()(r),"actionType",_.a.CANVAS_DROP),I()(g()(r),"commitAction",function(){var e=c()(o.a.mark(function e(t,n){var i,a,s,c,l,u,h,d,p,m,f,g,v,E,T,I,L,O,C,b,w,x,B,U,F,H,W,K,Y,X,j,Z;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(Ae.a)(r.offsetX,r.offsetY),a=i.offsetX,s=i.offsetY,c=n.activeItems[0],y.a.dispatch(new _.c(function(e,t,n){n.leftBar.hideLibrary()})),!r.isDragging){e.next=39;break}l=!1,u=!0,h=!1,d=void 0,e.prev=8,p=t.pages[Symbol.iterator]();case 10:if(u=(m=p.next()).done){e.next=23;break}if(f=m.value,!(g=n.pageController.getPageRenderer(f)).isInRange(r.offsetX,r.offsetY)){e.next=20;break}return r.pageIdx=f.pageIdx,v=g.getPagePosition(r.offsetX,r.offsetY),a=v.x/y.a.instance.zoomScale,s=v.y/y.a.instance.zoomScale,l=!0,e.abrupt("break",23);case 20:u=!0,e.next=10;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(8),h=!0,d=e.t0;case 29:e.prev=29,e.prev=30,u||null==p.return||p.return();case 32:if(e.prev=32,!h){e.next=35;break}throw d;case 35:return e.finish(32);case 36:return e.finish(29);case 37:if(l){e.next=39;break}return e.abrupt("return");case 39:if(E=t.pages[r.pageIdx],T=r.offsetX/y.a.instance.zoomScale,I=r.offsetY/y.a.instance.zoomScale,L=n.pageController.getPageRenderer(E),O=L.getInRangeItems(T,I,T,I),null!=(C=k.a.parseResourceKey(r.resourceKey))){e.next=47;break}return e.abrupt("return");case 47:if(b=a/n.pageEditScale,w=s/n.pageEditScale,!c||!c.isEditMode){e.next=51;break}return e.next=51,c.changeNormalMode();case 51:x=!0,e.t1=C.resourceType,e.next=e.t1===S.a.BITMAP?55:e.t1===S.a.IMAGE?55:e.t1===S.a.BACKGROUND_PATTERN?58:e.t1===S.a.BACKGROUND_IMAGE?63:e.t1===S.a.PHOTO?65:e.t1===S.a.PIXABAY?68:e.t1===S.a.SVG?71:e.t1===S.a.MOCKUP?76:e.t1===S.a.TEXT?76:e.t1===S.a.GRID?78:e.t1===S.a.GRAPHIC?80:e.t1===S.a.LINE?80:e.t1===S.a.ILLUST?80:e.t1===S.a.FIGURE?80:e.t1===S.a.TEMPLATE?85:e.t1===S.a.DESIGN?87:e.t1===S.a.FRAME?89:e.t1===S.a.TEMPLATE_PAGE?94:e.t1===S.a.DESIGN_PAGE?97:100;break;case 55:return B=O.filter(function(e){return e instanceof ie.b&&!e.isLock()}),r.isDragging&&B.length>0?y.a.dispatch(new G.c(B[0],C.key,C.resourceType)):C.resourceType===S.a.BITMAP?y.a.dispatch(new Ee.a(r.pageIdx,C.key,a,s,r.isDragging)):y.a.dispatch(new Ee.b(r.pageIdx,C.key,a,s,r.isDragging)),e.abrupt("break",102);case 58:return e.next=60,V.c.getSvgDataByKey(C.key,y.a.instance.env.adminMode);case 60:return U=e.sent,y.a.dispatch(new P.e(y.a.instance.renderPageIdx,U)),e.abrupt("break",102);case 63:return y.a.dispatch(new P.a(C.key)),e.abrupt("break",102);case 65:return F=O.filter(function(e){return e instanceof ie.b&&!e.isLock()}),r.isDragging&&F.length>0?y.a.dispatch(new G.c(F[0],C.key,C.resourceType)):r.isDragging&&1===n.activeItems.length&&c.isInRange(new N.a(b,w,b,w))?c instanceof A.e&&y.a.dispatch(new R.a(r.pageIdx,C.key,a,s,r.isDragging)):y.a.dispatch(new R.a(r.pageIdx,C.key,a,s,r.isDragging)),e.abrupt("break",102);case 68:return H=O.filter(function(e){return e instanceof ie.b&&!e.isLock()}),r.isDragging&&H.length>0?y.a.dispatch(new G.d(H[0],C.key,C.resourceType)):(W=C.key,y.a.dispatch(new ke(r.pageIdx,W,a,s,r.isDragging))),e.abrupt("break",102);case 71:return e.next=73,ae.a.makeSvgDataFromFileKey(C.key);case 73:return K=e.sent,y.a.dispatch(new M.e(r.pageIdx,K,a,s,r.isDragging)),e.abrupt("break",102);case 76:return y.a.dispatch(new D.b(r.pageIdx,parseInt(C.key),a,s,r.isDragging,!0)),e.abrupt("break",102);case 78:return y.a.dispatch(new D.b(r.pageIdx,parseInt(C.key),a,s,r.isDragging)),e.abrupt("break",102);case 80:return e.next=82,V.c.getSvgDataByKey(C.key,y.a.instance.env.adminMode);case 82:return Y=e.sent,V.c.isDefaultShapeSvg(Y)?y.a.dispatch(new M.k(r.pageIdx,Y,a,s,r.isDragging)):He.a.isPrivateSvgItem(Y)?y.a.dispatch(new M.j(r.pageIdx,Y,a,s,r.isDragging)):y.a.dispatch(new M.g(r.pageIdx,Y,a,s,r.isDragging)),e.abrupt("break",102);case 85:return y.a.dispatch(new Te.a(z.b.getDesignParam(C.key,C.repositoryType),0).setTemplateAction()),e.abrupt("break",102);case 87:return y.a.dispatch(new Te.a(z.b.getDesignParam(C.key,C.repositoryType,!1),0).setTemplateAction()),e.abrupt("break",102);case 89:return e.next=91,oe.c.getImageframeDataByKey(C.key);case 91:return X=e.sent,y.a.dispatch(new M.h(r.pageIdx,X,a,s,r.isDragging)),e.abrupt("break",102);case 94:return j=Ie.a.parseTemplatePageKey(C.key),y.a.dispatch(new Te.a(z.b.getDesignParam(j.designKey,C.repositoryType),j.pageIdx)),e.abrupt("break",102);case 97:return Z=Ie.a.parseTemplatePageKey(C.key),y.a.dispatch(new Te.a(z.b.getDesignParam(Z.designKey,C.repositoryType,!1),Z.pageIdx)),e.abrupt("break",102);case 100:return x=!1,e.abrupt("break",102);case 102:x&&Be.a.sendClick(C);case 103:case"end":return e.stop()}},e,null,[[8,25,29,37],[30,,32,36]])}));return function(t,n){return e.apply(this,arguments)}}()),I()(g()(r),"rollbackAction",function(e,t){}),I()(g()(r),"recycle",function(){}),r.pageIdx=e,r.offsetX=n,r.offsetY=i,r.resourceKey=a,r.targetItem=s,r.isDragging=l,r.renderAuto=!1,r}return E()(t,e),t}(_.b),Ze=function(e){function t(e){var n;return u()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"isPossibleInCropMode",!0),I()(g()(n),"doSaveQueue",!1),I()(g()(n),"changeDesign",function(){return!1}),I()(g()(n),"actionType",_.a.KEY_DOWN),I()(g()(n),"commitAction",function(){var e=c()(o.a.mark(function e(t,i,a){var r,s,l,u,h,d,p,m,f,g,v,E,T,I,S,P,k,A,R,N,D,M,B,U,F,V,Y,Z,$,ae,oe,se,ce,le,ue,de,pe,me,fe,ve,Ee,Te,Ie,_e,ye,Le,Oe,Se,Pe,ke,Ae,Re,be,we,xe,Ne,De,Be,Ge,He,Ke,Xe,je,Ze,qe,et,tt,nt,it,at,rt,ot,st,ct;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!1,(s=new H(n.e)).keyDown(),l=i.activeItems.slice(),u=t.pages[y.a.instance.renderPageIdx],h=l&&l.length>0?l[0]:null,1!==l.length||h!==u.background.backgroundItem){e.next=17;break}if(!n.e.target.classList.contains(he.a.PAGE_TITLE)){e.next=9;break}return e.abrupt("return");case 9:if(n.e.preventDefault(),n.e.stopPropagation(),p=Je(n.e),m=n.character.toUpperCase(),f=p&&("Z"===m||"Y"===m),g=p&&n.e.shiftKey&&"Z"===m,f||g){e.next=17;break}return e.abrupt("return");case 17:if(!y.a.isSpoidMode()){e.next=19;break}return e.abrupt("return");case 19:if(!s.isStopAfterAction){e.next=25;break}return n.e.preventDefault(),n.e.stopPropagation(),a.renderCanvas(t,i,l),a.renderHandler(t,i),e.abrupt("return");case 25:if(46!==n.keyCode&&8!==n.keyCode){e.next=32;break}r=!0,v=!1,h instanceof C.b&&h.isEditMode||h instanceof w.b&&h.isTextEditMode||(h instanceof w.b&&h.existSelectedCell()?y.a.dispatch(new Ve.e(h)):1===l.length&&!h.groupId&&!h.isLock()&&h instanceof ie.b&&!h.isDefaultImage()?(y.a.dispatch(new G.a(h)),v=!0):(n.e.preventDefault(),y.a.dispatch(new re.a),v=!0)),v&&Ue.a.sendEvent("단축키 vs 버튼클릭","삭제하기",8===n.keyCode?"Backspace":"Delete",!0),e.next=189;break;case 32:if(!Je(n.e)||!n.e.shiftKey||"."!==n.character){e.next=36;break}r=!0,e.next=189;break;case 36:if(!Je(n.e)||!n.e.shiftKey||","!==n.character){e.next=40;break}r=!0,e.next=189;break;case 40:if(!Je(n.e)||!n.e.shiftKey||"K"!==n.character){e.next=45;break}r=!0,h instanceof C.b&&(E=X.G,T=!h.props.isUpperCase(),y.a.dispatch(new j.d(E.actionType,E.groupName,E.name,T,!0,E.timeout))),e.next=189;break;case 45:if(!Je(n.e)||!n.e.shiftKey||"G"!==n.character){e.next=51;break}r=!0,n.e.preventDefault(),y.a.dispatch(new L.d),e.next=189;break;case 51:if(!Je(n.e)||!n.e.shiftKey||"Y"!==n.character){e.next=55;break}y.a.dispatch(new ze.b),e.next=189;break;case 55:if(!Je(n.e)||!(n.e.shiftKey&&"Z"===n.character||"Y"===n.character)){e.next=64;break}if(r=!1,n.renderAuto=!1,n.e.preventDefault(),y.a.isCropMode()){e.next=62;break}return e.next=62,y.a.dispatch(new _.c(function(){var e=c()(o.a.mark(function e(t,n,i){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.redo();case 2:return z.b.setSaveStatus(!z.b.isSaving()&&z.b.isSaved()?z.c.DEFAULT:z.c.SAVE_REQUIRE),e.next=5,i.renderAll(t,n);case 5:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()));case 62:e.next=189;break;case 64:if(!Je(n.e)||!n.e.shiftKey||"}"!==n.e.key){e.next=69;break}r=!0,y.a.dispatch(new O.b),e.next=189;break;case 69:if(!Je(n.e)||!n.e.shiftKey||"{"!==n.e.key){e.next=74;break}r=!0,y.a.dispatch(new O.d),e.next=189;break;case 74:if(!Je(n.e)||"O"!==n.character){e.next=80;break}r=!0,n.e.preventDefault(),J.a.openLoginPopup(Me.a.OPEN_DESIGN_HOTKEY)||ge.instance.open(),e.next=189;break;case 80:if(!Je(n.e)||"S"!==n.character){e.next=88;break}if(r=!0,n.e.preventDefault(),n.option.save){e.next=85;break}return e.abrupt("return");case 85:J.a.openLoginPopup(Me.a.SAVE_HOTKEY)||z.b.save({categoryIdx:Ce.a.getSaveCategoryIdx()}).catch(function(e){console.error(e),alert(W.CRM.get(K.a.TOOLS_POPUP_DESIGN_SAVE_CREATE_FAIL_MSG))}),e.next=189;break;case 88:if(!Je(n.e)||"A"!==n.character){e.next=94;break}r=!0,n.e.preventDefault(),$e(l)||(Qe(l)?y.a.dispatch(new x.b(h)):y.a.dispatch(new L.p)),e.next=189;break;case 94:if(!Je(n.e)||"B"!==n.character){e.next=99;break}r=!0,h instanceof C.b&&(I=h,S=X.c,P={row:I.edit.startPos.row,col:I.edit.startPos.col},k={row:I.edit.endPos.row,col:I.edit.endPos.col},!I.isEditMode||P.col===k.col&&P.row===k.row?(R=!h.props.isBold(),y.a.dispatch(new j.c(S.actionType,S.groupName,S.name,R,!0,S.timeout,!0))):(A=!h.props.isBold(P,k),y.a.dispatch(new j.c(S.actionType,S.groupName,S.name,A,!0,S.timeout,!0,P,k)))),e.next=189;break;case 99:if(!Je(n.e)||"I"!==n.character){e.next=104;break}r=!0,h instanceof C.b&&(N=h,D=X.D,M={row:N.edit.startPos.row,col:N.edit.startPos.col},B={row:N.edit.endPos.row,col:N.edit.endPos.col},!N.isEditMode||M.col===B.col&&M.row===B.row?(F=!h.props.isItalic(),y.a.dispatch(new j.c(D.actionType,D.groupName,D.name,F,!0,D.timeout,!0))):(U=!h.props.isItalic(M,B),y.a.dispatch(new j.c(D.actionType,D.groupName,D.name,U,!0,D.timeout,!0,M,B)))),e.next=189;break;case 104:if(!Je(n.e)||"X"!==n.character){e.next=109;break}r=!0,$e(l)||(n.e.preventDefault(),y.a.dispatch(new ee.b(y.a.instance.renderPageIdx))),e.next=189;break;case 109:if(!Je(n.e)||"C"!==n.character){e.next=116;break}r=!0,V=!1,h instanceof w.b&&h.existSelectedCell()?(Y=h).isTextEditMode||Y.selectedCells.length===Y.row*Y.col&&(n.e.preventDefault(),y.a.dispatch(new ee.a(y.a.instance.renderPageIdx)),V=!0):l&&1===l.length&&h instanceof C.b&&h.isEditMode||(n.e.preventDefault(),y.a.dispatch(new ee.a(y.a.instance.renderPageIdx)),V=!0),V&&Ue.a.sendEvent("단축키 vs 버튼클릭","복사하기","Ctrl + C",!0),e.next=189;break;case 116:if(!Je(n.e)||"V"!==n.character){e.next=121;break}r=!0,Ue.a.sendEvent("단축키 vs 버튼클릭","붙여넣기","Ctrl + V",!0),e.next=189;break;case 121:if(!Je(n.e)||"D"!==n.character){e.next=126;break}r=!0,h instanceof w.b&&h.existSelectedCell()||l&&1===l.length&&h instanceof C.b&&h.isEditMode||(n.e.preventDefault(),y.a.dispatch(new ee.a(y.a.instance.renderPageIdx)),y.a.dispatch(new ee.c(y.a.instance.renderPageIdx)),Ue.a.sendEvent("단축키 vs 버튼클릭","복제하기","Ctrl + D",!0)),e.next=189;break;case 126:if(!Je(n.e)||"G"!==n.character){e.next=132;break}r=!0,n.e.preventDefault(),y.a.dispatch(new L.a),e.next=189;break;case 132:if(!Je(n.e)||"L"!==n.character){e.next=138;break}r=!0,n.e.preventDefault(),h.isLock()?y.a.dispatch(new L.n(l)):y.a.dispatch(new L.k(l)),e.next=189;break;case 138:if(!Je(n.e)||"Z"!==n.character){e.next=147;break}if(r=!1,n.renderAuto=!1,n.e.preventDefault(),y.a.isCropMode()){e.next=145;break}return e.next=145,y.a.dispatch(new _.c(function(){var e=c()(o.a.mark(function e(t,n,i){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.rollback();case 2:return z.b.setSaveStatus(!z.b.isSaving()&&z.b.isSaved()?z.c.DEFAULT:z.c.SAVE_REQUIRE),e.next=5,i.renderAll(t,n);case 5:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()));case 145:e.next=189;break;case 147:if(!Je(n.e)||"]"!==n.e.key){e.next=152;break}r=!0,y.a.dispatch(new O.c),e.next=189;break;case 152:if(!Je(n.e)||"["!==n.e.key){e.next=157;break}r=!0,y.a.dispatch(new O.a),e.next=189;break;case 157:if(!Je(n.e)||"Right"!==n.e.key&&"ArrowRight"!==n.e.key){e.next=172;break}if(r=!0,!$e(l)){e.next=163;break}n.e.preventDefault(),e.next=170;break;case 163:if(!(y.a.instance.activeItems.length>0)){e.next=170;break}return Z=a.handler.getLTRB().getCenterPos(),$=(a.handler.lastRenderStatus.position.rotate+1.1)*Math.PI/180,y.a.dispatch(new L.i(Z.x+Math.sin($),Z.y-Math.cos($))),a.renderCanvas(t,i,Q.b.getGroupItemsAddedArray(l)),a.renderHandler(t,i,{type:te.a.ROTATE}),a.renderAuto(t,i),e.abrupt("return");case 170:e.next=189;break;case 172:if(!Je(n.e)||"Left"!==n.e.key&&"ArrowLeft"!==n.e.key){e.next=188;break}if(r=!0,!$e(l)){e.next=178;break}n.e.preventDefault(),e.next=186;break;case 178:if(!(y.a.instance.activeItems.length>0)){e.next=186;break}return n.e.preventDefault(),ae=a.handler.getLTRB().getCenterPos(),oe=(a.handler.lastRenderStatus.position.rotate-.9)*Math.PI/180,y.a.dispatch(new L.i(ae.x+Math.sin(oe),ae.y-Math.cos(oe))),a.renderCanvas(t,i,Q.b.getGroupItemsAddedArray(l)),a.renderHandler(t,i,{type:te.a.ROTATE}),a.renderAuto(t,i),e.abrupt("return");case 186:e.next=189;break;case 188:n.e.shiftKey&&9===n.keyCode?(r=!0,n.e.preventDefault(),$e(l)?1===l.length&&l[0]instanceof w.b&&l[0].isTextEditMode&&!l[0].textedit.changed&&(_e=l[0],(ye=i.pageController.getItemRenderer(_e)).toggleEditMode(-1,-1),_e.selectCells([_e.positionTool.getPrevCellPos(_e.selectedCells[0])]),ye.toggleEditMode(-1,-1,!0),n.e.preventDefault()):Qe(l)?(se=l[0],ce=i.pageController.getItemRenderer(se),se.selectCells([se.positionTool.getPrevCellPos(se.selectedCells[0])]),ce.updateContentsAfter(null,u.lastRenderEditScale)):l&&l.length>0?(le=u.items,ue=Q.b.getRootGroup(l[0].groupId),de=ue||l[0],pe=le.indexOf(de),me=(pe+le.length-1)%le.length,ne.a.isItemSkinable(le[me],u.sheetSize)&&(le[me]===u.items[0]?me=le.length-1:me-=1),(fe=le[me])instanceof b.e?q.a.selectItem(fe):fe instanceof Q.a&&q.a.selectItems(fe.getAllSingleMembers())):u.items.length>0&&(ve=u.items.length-1,Ee=u.items[ve],Te=ne.a.isItemSkinable(Ee,u.sheetSize),(Ie=Te?u.items[ve-1]:Ee)instanceof b.e?q.a.selectItem(Ie):Ie instanceof Q.a&&q.a.selectItems(Ie.getAllSingleMembers())),a.rightSection.layerToolManager.render(t,i)):n.e.shiftKey&&We.a.isRightKey(n.e.key)?(r=!0,$e(l)?n.e.preventDefault():(l.length>0&&n.e.preventDefault(),d=!0,y.a.dispatch(new L.g(10,0,!1,!0,!0)))):n.e.shiftKey&&We.a.isLeftKey(n.e.key)?(r=!0,$e(l)?n.e.preventDefault():(l.length>0&&n.e.preventDefault(),d=!0,y.a.dispatch(new L.g(-10,0,!1,!0,!0)))):!n.e.shiftKey||"Down"!==n.e.key&&"ArrowDown"!==n.e.key?!n.e.shiftKey||"Up"!==n.e.key&&"ArrowUp"!==n.e.key?!(n.e.altKey&&("Right"===n.e.key||"ArrowRight"===n.e.key)||n.e.altKey&&("Left"===n.e.key||"ArrowLeft"===n.e.key)||n.e.altKey&&("Down"===n.e.key||"ArrowDown"===n.e.key)||n.e.altKey&&("Up"===n.e.key||"ArrowUp"===n.e.key))?"Right"===n.e.key||"ArrowRight"===n.e.key?(r=!0,$e(l)?(1===l.length&&l[0]instanceof w.b&&l[0].isTextEditMode&&!l[0].textedit.changed&&(Le=l[0],(Oe=i.pageController.getItemRenderer(Le)).toggleEditMode(-1,-1),Le.selectCells([Le.positionTool.getNextCellPos(Le.selectedCells[0])]),Oe.toggleEditMode(-1,-1,!0)),n.e.preventDefault()):Qe(l)?(Se=l[0],Pe=i.pageController.getItemRenderer(Se),Se.selectCells([Se.positionTool.getNextCellPos(Se.selectedCells[0])]),Pe.updateContentsAfter(null,u.lastRenderEditScale)):(l.length>0&&n.e.preventDefault(),d=!0,y.a.dispatch(new L.g(1,0,!1,!0,!0)))):Je(n.e)&&n.e.altKey&&"E"===n.character?a.rightBar.togglePopup():"Left"===n.e.key||"ArrowLeft"===n.e.key?(r=!0,$e(l)?(1===l.length&&l[0]instanceof w.b&&l[0].isTextEditMode&&!l[0].textedit.changed&&(ke=l[0],(Ae=i.pageController.getItemRenderer(ke)).toggleEditMode(-1,-1),ke.selectCells([ke.positionTool.getPrevCellPos(ke.selectedCells[0])]),Ae.toggleEditMode(-1,-1,!0)),n.e.preventDefault()):Qe(l)?(Re=l[0],be=i.pageController.getItemRenderer(Re),Re.selectCells([Re.positionTool.getPrevCellPos(Re.selectedCells[0])]),be.updateContentsAfter(null,u.lastRenderEditScale)):(l.length>0&&n.e.preventDefault(),d=!0,y.a.dispatch(new L.g(-1,0,!1,!0,!0)))):"Down"===n.e.key||"ArrowDown"===n.e.key?(r=!0,$e(l)?(1===l.length&&l[0]instanceof w.b&&l[0].isTextEditMode&&!l[0].textedit.changed&&(we=l[0],(xe=i.pageController.getItemRenderer(we)).toggleEditMode(-1,-1),we.selectCells([we.positionTool.getNextCellPos(we.selectedCells[0],!0)]),xe.toggleEditMode(-1,-1,!0)),n.e.preventDefault()):Qe(l)?(Ne=l[0],De=i.pageController.getItemRenderer(Ne),Ne.selectCells([Ne.positionTool.getNextCellPos(Ne.selectedCells[0],!0)]),De.updateContentsAfter(null,u.lastRenderEditScale)):(l.length>0&&n.e.preventDefault(),d=!0,y.a.dispatch(new L.g(0,1,!1,!0,!0)))):"Up"===n.e.key||"ArrowUp"===n.e.key?(r=!0,$e(l)?(1===l.length&&l[0]instanceof w.b&&l[0].isTextEditMode&&!l[0].textedit.changed&&(Be=l[0],(Ge=i.pageController.getItemRenderer(Be)).toggleEditMode(-1,-1),Be.selectCells([Be.positionTool.getPrevCellPos(Be.selectedCells[0],!0)]),Ge.toggleEditMode(-1,-1,!0)),n.e.preventDefault()):Qe(l)?(He=l[0],Ke=i.pageController.getItemRenderer(He),He.selectCells([He.positionTool.getPrevCellPos(He.selectedCells[0],!0)]),Ke.updateContentsAfter(null,u.lastRenderEditScale)):(l.length>0&&n.e.preventDefault(),d=!0,y.a.dispatch(new L.g(0,-1,!1,!0,!0)))):27===n.keyCode?(r=!0,n.e.preventDefault(),y.a.dispatch(new L.c)):9===n.keyCode?(r=!0,n.e.preventDefault(),$e(l)?1===l.length&&l[0]instanceof w.b&&l[0].isTextEditMode&&!l[0].textedit.changed&&(st=l[0],(ct=i.pageController.getItemRenderer(st)).toggleEditMode(-1,-1),st.selectCells([st.positionTool.getNextCellPos(st.selectedCells[0])]),ct.toggleEditMode(-1,-1,!0),n.e.preventDefault()):Qe(l)?((Xe=l[0]).selectCells([Xe.positionTool.getNextCellPos(Xe.selectedCells[0])]),i.pageController.getItemRenderer(Xe).updateContentsAfter(null,u.lastRenderEditScale)):l&&l.length>0?(je=u.items,Ze=Q.b.getRootGroup(l[l.length-1].groupId),qe=Ze||l[0],et=je.indexOf(qe),tt=(et+1)%je.length,nt=ne.a.isItemSkinable(je[tt],u.sheetSize),(it=nt?je[tt+1]:je[tt])instanceof b.e?q.a.selectItem(it):it instanceof Q.a&&q.a.selectItems(it.getAllSingleMembers())):u.items.length>0&&(at=u.items[0],rt=ne.a.isItemSkinable(at,u.sheetSize),(ot=rt?u.items[1]:at)instanceof b.e?q.a.selectItem(ot):ot instanceof Q.a&&q.a.selectItems(ot.getAllSingleMembers())),a.rightSection.layerToolManager.render(t,i)):"T"===n.character?(r=!0,$e(l)||y.a.dispatch(new Fe.a)):"R"===n.character?r=!0:"L"===n.character?r=!0:Je(n.e)&&n.e.altKey&&";"===n.e.key?y.a.dispatch(new Ye.a):Je(n.e)&&";"===n.e.key&&y.a.dispatch(new Ye.b):r=!0:(r=!0,$e(l)?n.e.preventDefault():(l.length>0&&n.e.preventDefault(),d=!0,y.a.dispatch(new L.g(0,-10,!1,!0,!0)))):(r=!0,$e(l)?n.e.preventDefault():(l.length>0&&n.e.preventDefault(),d=!0,y.a.dispatch(new L.g(0,10,!1,!0,!0))));case 189:r&&(a.renderCanvas(t,i,Q.b.getGroupItemsAddedArray(l)),a.renderItemTools(t,i),d||a.renderHandler(t,i));case 190:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(e,t){}),I()(g()(n),"recycle",function(){}),n.e=e,n.renderAuto=!1,n.keyCode=e.which,n.character=String.fromCharCode(e.which),n.option=Xe.a.keyboardOption,n}return E()(t,e),t}(_.b),qe=function(e){function t(e){var n;return u()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"doSaveQueue",!1),I()(g()(n),"actionType",_.a.CLIPBOARD_PASTE),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"doItemPasteAction",!0),I()(g()(n),"commitAction",function(){var e=c()(o.a.mark(function e(t,i){var a,r,s,c,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.a.isSpoidMode()){e.next=2;break}return e.abrupt("return");case 2:n.doItemPasteAction=!(n.e.target instanceof HTMLInputElement||n.e.target instanceof HTMLTextAreaElement||"true"===n.e.target.contentEditable),a=n.items.length,r=0;case 5:if(!(r<a)){e.next=18;break}if(s=n.items[r].getAsFile(),!n.canUpload(s)){e.next=14;break}return n.doItemPasteAction=!1,q.a.unselectAllItems(),e.next=12,Re.a.instance.uploadUserFile(s,!1);case 12:e.next=15;break;case 14:n.renderAuto=!1;case 15:r++,e.next=5;break;case 18:n.doItemPasteAction&&(c=i.activeItems.slice(),(l=c&&c.length>0?c[0]:null)instanceof w.b&&l.existSelectedCell()&&l.isTextEditMode||c&&1===c.length&&l instanceof C.b&&l.isEditMode||y.a.dispatch(new ee.c(i.renderPageIdx)));case 19:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(e,t){}),I()(g()(n),"recycle",function(){}),n.e=e,n.items=e.clipboardData.items,n}return E()(t,e),a()(t,[{key:"canUpload",value:function(e){if(null===e)return!1;var t=e.name.split(".").pop();return"png"===t||"jpeg"===t||"jpg"===t}}]),t}(_.b);function $e(e){if(!e)return!1;var t=!0,n=!1,i=void 0;try{for(var a,r=e[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(o instanceof A.e&&o.isEditMode||o instanceof C.b&&o.isEditMode||o instanceof w.b&&o.isTextEditMode)return!0}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return!1}function Qe(e){return!!e&&(e&&1===e.length&&e[0]instanceof w.b&&!e[0].isTextEditMode&&e[0].selectedCells.length>0)}function Je(e){return navigator.platform.match("Mac")?e.metaKey:e.ctrlKey}_.b;var et=function(e){function t(e){var n;return u()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"doSaveQueue",!1),I()(g()(n),"isPossibleInCropMode",!0),I()(g()(n),"actionType",_.a.SIGN_IN),I()(g()(n),"changeDesign",function(){return!1}),I()(g()(n),"commitAction",function(e,t,i){Y.b.make().then(function(){var a=c()(o.a.mark(function a(r){return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.user=r,Xe.a.templateLibMenuOption.bizhowsTabMenu=r.hasBizAuth,!r.isLogin()){a.next=7;break}return be.a.setDefaultScope(),a.next=6,be.a.setDefaultTeam();case 6:Ke.a.instance.setUserInfo({email:r.email,name:r.userName});case 7:return De.a.selectLeftMenu(Ne.b.TEMPLATE_LIB).catch(function(e){return console.error(e)}),a.next=10,r.doLoginAfter();case 10:i.renderAppHeader(e,t),i.leftBar.render(e,t),i.rightBar&&i.rightBar.render(),n.callback&&n.callback();case 14:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}())}),I()(g()(n),"rollbackAction",function(e,t){}),I()(g()(n),"recycle",function(){}),n.callback=e,n.renderAuto=!1,n}return E()(t,e),t}(_.b);_.b},,function(e,t,n){"use strict";n.d(t,"b",function(){return _}),n.d(t,"a",function(){return a});var i,a,r=n(0),o=n.n(r),s=n(1),c=n.n(s),l=n(35),u=n.n(l),h=n(36),d=n.n(h),p=n(62),m=n(125),f=n(93),g=n(3),v=n(75),E=n(173),T=n(164),I=n(51),_=function(){function e(t){u()(this,e),this.param=t,t&&(this.designRepoType=t.repositoryType)}var t,n,i;return d()(e,[{key:"load",value:(i=c()(o.a.mark(function e(){var t,n,i,r=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],n=r.length>1&&void 0!==r[1]?r[1]:a.FETCH_RESOURCE,e.prev=2,i=this.makeMeta(),e.next=6,this.fetchDesignSheetXMLAsync(i,t);case 6:return e.next=8,this.updateDesignSheetXML(i,t);case 8:return e.next=10,this.loadItemResource(i,n);case 10:return this.setPageThumbnailPath(i),this.setDesignOtherData(i),e.abrupt("return",i);case 15:throw e.prev=15,e.t0=e.catch(2),console.log(e.t0),e.t0;case 19:case"end":return e.stop()}},e,this,[[2,15]])})),function(){return i.apply(this,arguments)})},{key:"updateDesignSheetXML",value:(n=c()(o.a.mark(function e(t,n){var i,a,r,s,l,u,h,d,E,T,I,_,y,L,O,S,P,k,A,R,C,b,w,x,N,D,M,B,U,G,F,H,V,W,K;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=function(){return(a=c()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.getReplaceableFontName(t.styles.family);case 2:n=e.sent,g.StringUtil.isEmpty(n)?(t.styles.family="THE명품고딕R",t.styles.bold=!1,t.styles.italic=!1,t.styles.strikeout=!1,t.styles.underline=!1):t.styles.family=n;case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)},i=function(e){return a.apply(this,arguments)},r=!0,s=!1,l=void 0,e.prev=5,u=t.pages[Symbol.iterator]();case 7:if(r=(h=u.next()).done){e.next=125;break}d=h.value,E=d.getAllSingleItems(),T=E.length-1;case 11:if(!(T>=0)){e.next=122;break}if(!((I=E[T])instanceof p.b)){e.next=43;break}_=!0,y=!1,L=void 0,e.prev=17,O=I.props.getCharList()[Symbol.iterator]();case 19:if(_=(S=O.next()).done){e.next=27;break}if(P=S.value,m.a.instance.isAvailableFamily(P.styles.family)){e.next=24;break}return e.next=24,i(P).catch(function(e){return console.error("font replace fail",e)});case 24:_=!0,e.next=19;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(17),y=!0,L=e.t0;case 33:e.prev=33,e.prev=34,_||null==O.return||O.return();case 36:if(e.prev=36,!y){e.next=39;break}throw L;case 39:return e.finish(36);case 40:return e.finish(33);case 41:e.next=119;break;case 43:if(!(I instanceof v.b)){e.next=119;break}k=!0,A=!1,R=void 0,e.prev=47,C=I.cells[Symbol.iterator]();case 49:if(k=(b=C.next()).done){e.next=105;break}w=b.value,x=!0,N=!1,D=void 0,e.prev=54,M=w[Symbol.iterator]();case 56:if(x=(B=M.next()).done){e.next=88;break}U=B.value,G=!0,F=!1,H=void 0,e.prev=61,V=U.childTextItem.props.getCharList()[Symbol.iterator]();case 63:if(G=(W=V.next()).done){e.next=71;break}if(K=W.value,m.a.instance.isAvailableFamily(K.styles.family)){e.next=68;break}return e.next=68,i(K).catch(function(e){return console.error("font replace fail",e)});case 68:G=!0,e.next=63;break;case 71:e.next=77;break;case 73:e.prev=73,e.t1=e.catch(61),F=!0,H=e.t1;case 77:e.prev=77,e.prev=78,G||null==V.return||V.return();case 80:if(e.prev=80,!F){e.next=83;break}throw H;case 83:return e.finish(80);case 84:return e.finish(77);case 85:x=!0,e.next=56;break;case 88:e.next=94;break;case 90:e.prev=90,e.t2=e.catch(54),N=!0,D=e.t2;case 94:e.prev=94,e.prev=95,x||null==M.return||M.return();case 97:if(e.prev=97,!N){e.next=100;break}throw D;case 100:return e.finish(97);case 101:return e.finish(94);case 102:k=!0,e.next=49;break;case 105:e.next=111;break;case 107:e.prev=107,e.t3=e.catch(47),A=!0,R=e.t3;case 111:e.prev=111,e.prev=112,k||null==C.return||C.return();case 114:if(e.prev=114,!A){e.next=117;break}throw R;case 117:return e.finish(114);case 118:return e.finish(111);case 119:T--,e.next=11;break;case 122:r=!0,e.next=7;break;case 125:e.next=131;break;case 127:e.prev=127,e.t4=e.catch(5),s=!0,l=e.t4;case 131:e.prev=131,e.prev=132,r||null==u.return||u.return();case 134:if(e.prev=134,!s){e.next=137;break}throw l;case 137:return e.finish(134);case 138:return e.finish(131);case 139:case"end":return e.stop()}},e,null,[[5,127,131,139],[17,29,33,41],[34,,36,40],[47,107,111,119],[54,90,94,102],[61,73,77,85],[78,,80,84],[95,,97,101],[112,,114,118],[132,,134,138]])})),function(e,t){return n.apply(this,arguments)})},{key:"loadItemResource",value:(t=c()(o.a.mark(function e(t,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next=e.t0===a.FETCH_RESOURCE?3:e.t0===a.LOADING_PAGE?6:e.t0===a.LOADING_ITEM?8:10;break;case 3:return e.next=5,T.a.loadDesignMetaResource(t);case 5:return e.abrupt("break",11);case 6:return t.pages.forEach(function(e){e.setStatus(E.b.LOADING_WITH_COVER),e.getAllSingleItems().forEach(function(e){e.setStatus(I.d.LOADING)})}),e.abrupt("break",11);case 8:return t.pages.forEach(function(e){e.setStatus(E.b.LOADING),e.getAllSingleItems().forEach(function(e){e.setStatus(I.d.LOADING)})}),e.abrupt("break",11);case 10:throw new Error("정의되지 않은 리소스 로드 방식.");case 11:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})},{key:"setDesignOtherData",value:function(e){}},{key:"setPageThumbnailPath",value:function(e){var t=this.getPageThumbnails();e.pages.forEach(function(e,n){e.thumbnailPath=t[n]})}}],[{key:"isIclickSticker",value:function(e){return e.indexOf("iclick_")>-1||e.indexOf("ica_")>-1}}]),e}();!function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE"}(i||(i={})),function(e){e[e.FETCH_RESOURCE=0]="FETCH_RESOURCE",e[e.LOADING_ITEM=1]="LOADING_ITEM",e[e.LOADING_PAGE=2]="LOADING_PAGE"}(a||(a={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var i,a=n(168),r=n.n(a),o=n(37),s=n.n(o),c=n(0),l=n.n(c),u=n(1),h=n.n(u),d=n(35),p=n.n(d),m=n(36),f=n.n(m),g=n(93),v=n(43),E=n(3),T=n(105),I=n(47);!function(e){e.LOADING="로딩(다운로드)중",e.COMPLETE="로딩완료",e.FAILED="로딩실패"}(i||(i={}));var _=function(){function e(t,n,i,a,r,o,s,c,l){p()(this,e),this.glyphs=new Map,this.ascender=t||0,this.descender=n||0,this.xMax=i||0,this.xMin=a||0,this.yMax=r||0,this.yMin=o||0,this.unitsPerEm=s||0,this.lineGap=c||0,this.advanceWidthMax=l||0}var t;return f()(e,[{key:"getGlyph",value:function(e){var t=e.charCodeAt(0);return this.glyphs.has(t)?this.glyphs.get(t):null}},{key:"has",value:function(e){var t=e.charCodeAt(0);return this.glyphs.has(t)}},{key:"addGlyph",value:function(e,t){this.glyphs.has(e)||this.glyphs.set(e,t)}},{key:"load",value:(t=h()(l.a.mark(function e(t){var n=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=h()(l.a.mark(function e(i,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0,y.getView(t).then(function(e){try{n.loadData(e)}catch(e){a(e)}i(n)});case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"getDefault",value:function(){return this.default}},{key:"loadData",value:function(e){this.font=e;for(var t=0,n="",i=0;i<4;i++)n+=String.fromCharCode(e.getInt8(t)),t++;if("ftmp"!==n)throw Error("Wrong font map file");var a=e.getUint32(t),r=0;t+=4;for(var o=8;o<e.byteLength;o+=4)o+4>e.byteLength?r+=e.getUint16(o):r+=e.getUint32(o);if((r&=4294967295)<0&&(r+=4294967296),a!==r)throw Error("Wrong checksum");var s=e.getUint32(t);if(t+=4,16777216===s){this.ascender=e.getInt16(t),t+=2,this.descender=e.getInt16(t),t+=2,this.xMax=e.getInt16(t),t+=2,this.xMin=e.getInt16(t),t+=2,this.yMax=e.getInt16(t),t+=2,this.yMin=e.getInt16(t),t+=2,this.unitsPerEm=e.getUint16(t),t+=2,this.lineGap=e.getUint16(t),t+=2,this.advanceWidthMax=e.getUint16(t),t+=2,this.drawAscender=this.ascender,this.drawDescender=this.descender;var c=e.getUint16(t);t+=2;for(var l=0;l<c;l++){var u=e.getUint16(t);t+=2;var h=e.getInt16(t);t+=2;var d=e.getInt16(t);t+=2;var p=e.getInt16(t);t+=2;var m=e.getInt16(t);t+=2;var f={advanceWidth:u,x1:h,x2:d,y1:p,y2:m};0===l&&(this.default=f);var g=e.getUint16(t);t+=2;for(var v=void 0,E=0;E<g;E++)v=e.getUint16(t),this.addGlyph(v,f),t+=2}}else if(1048576===s){this.ascender=e.getInt16(t),t+=2,this.descender=e.getInt16(t),t+=2,this.xMax=e.getInt16(t),t+=2,this.xMin=e.getInt16(t),t+=2,this.yMax=e.getInt16(t),t+=2,this.yMin=e.getInt16(t),t+=2,this.unitsPerEm=e.getUint16(t),t+=2,this.lineGap=e.getUint16(t),t+=2,this.advanceWidthMax=e.getUint16(t),t+=2,this.drawAscender=e.getInt16(t),t+=2,this.drawDescender=e.getInt16(t),t+=2;var T=e.getUint16(t);t+=2;for(var I=0;I<T;I++){var _=e.getUint16(t);t+=2;var y=e.getInt16(t);t+=2;var L=e.getInt16(t);t+=2;var O=e.getInt16(t);t+=2;var S=e.getInt16(t);t+=2;var P={advanceWidth:_,x1:y,x2:L,y1:O,y2:S};0===I&&(this.default=P);var k=e.getUint16(t);t+=2;for(var A=void 0,R=0;R<k;R++)A=e.getUint16(t),this.addGlyph(A,P),t+=2}}return this}}]),e}(),y=function(){function e(){var t=this;p()(this,e),s()(this,"proms",new Map),s()(this,"getFontStr",function(n,i,a){var r=t.getAvailableStyle(n.family),o=Object.assign({},n);!r.boldItalic&&n.bold&&n.italic&&(r.bold||(o.bold=!1),r.italic||(o.italic=!1)),!r.bold&&n.bold&&(o.bold=!1),!r.italic&&n.italic&&(o.italic=!1);var s=t.get(n),c=n.family;return s.has(a)||(c=T.a),e.getFontStyleStr(o)+" "+i+'px "'+Object(T.c)(c)+'"'}),s()(this,"getUrl",function(e){var t,n=g.b.get(e.family),i=new Map;if(!(n&&n.length>0))throw new Error("존재하지 않는 폰트입니다.");var a=!0,r=!1,o=void 0;try{for(var s,c=n[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value,u=E.CRM.get(v.a.COMMON_FILE_DOWNLOAD_API).replace("${uuid}",l.resourceKey),h=I.UnicornApiClient.getURL(u),d="";e.bold&&e.italic?d="BOLD_ITALIC_":e.bold?d="BOLD_":e.italic&&(d="ITALIC_");var p=void 0,m=void 0;p=l.unicodeRange?l.unicodeRange:"all",i.get(p)?m=i.get(p):-1===l.type.indexOf("MAP")&&(m={ttf:""},i.set(p,m)),l.type===d+"WOFF2"?m.woff2=h:l.type===d+"WOFF"?m.woff=h:l.type===d+"MAP"?t=h:l.type===d+"TTF"&&(m.ttf=h)}}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}return{woff:i,map:t}}),s()(this,"fontload",function(){var e=h()(l.a.mark(function e(t,n){var i,a,r,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:document.fonts?(i={},n.size>1&&n.has("all")&&n.delete("all"),n.forEach(function(e,n){var a="";e.woff2&&(a+="url(".concat(e.woff2,")")),e.woff&&(a+=(a.length>0?",":"")+"url(".concat(e.woff,")")),0===a.length&&(a+="url(".concat(e.ttf,")")),"all"!==n?i.unicodeRange=n:i.unicodeRange&&delete i.unicodeRange,t.italic&&(i.style="italic"),t.bold&&(i.weight="bold");var r=new FontFace(Object(T.c)(t.family),a,i);r.display="swap",document.fonts.add(r)})):("text_font_styles",(a=document.getElementById("text_font_styles"))||((a=document.createElement("style")).id="text_font_styles",document.head.appendChild(a)),r="",o="",r=t.bold?"font-weight: bold;":"font-weight: normal;",o=t.italic?"font-style: italic;":"font-style: normal;",n.size>1&&n.has("all")&&n.delete("all"),n.forEach(function(e,n){var i="",s="";e.woff2&&(i+="url(".concat(e.woff2,")")),e.woff&&(i+=(i.length>0?",":"")+"url(".concat(e.woff,")")),i+=(i.length>0?",":"")+"url(".concat(e.ttf,")"),"all"!==n&&(s="unicode-range:".concat(n,";"));var c="@font-face {font-family: ".concat(Object(T.c)(t.family),";src:").concat(i,";font-display: swap;").concat(r).concat(o).concat(s,"}");a.textContent+=c}));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),this.fonts=new Map}var t,n,a,o;return f()(e,[{key:"loadDefault",value:(o=h()(l.a.mark(function e(){var t=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){Promise.all([t.addKeyy({family:T.a,bold:!1,italic:!1})]).then(function(){return e()}).catch(function(e){return n(e)})}));case 1:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"getdasdaf",value:function(e){return e.replace("'","").replace("(","").replace(")","")}},{key:"getKey",value:function(e){var t=this.getAvailableStyle(e.family);if(!t)return e.family;var n=e.family;return(e.bold||e.italic)&&(e.bold&&e.italic?t.boldItalic?n+="_bold_italic":t.bold?n+="_bold":t.italic&&(n+="_italic"):e.bold&&t.bold?n+="_bold":e.italic&&t.italic&&(n+="_italic")),n}},{key:"getKeys",value:function(e){var t=this.getStyles(e),n=[];return n.push({family:e,bold:!1,italic:!1}),t&&(t.bold&&n.push({family:e,bold:!0,italic:!1}),t.italic&&n.push({family:e,bold:!1,italic:!0}),t.boldItalic&&n.push({family:e,bold:!0,italic:!0})),n}},{key:"has",value:function(e){var t=this.getKeys(e),n=!0,i=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;if(!this.fonts.has(this.getKey(s)))return!1}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return!0}},{key:"addFamily",value:(a=h()(l.a.mark(function e(t){var n,i,a,r=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.proms.has(t)){e.next=4;break}return e.abrupt("return",this.proms.get(t));case 4:return n=this.getKeys(t),i=[],n.forEach(function(e){i.push(r.addKeyy(e))}),a=Promise.all(i),this.proms.set(t,a),e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"addKeyy",value:(n=h()(l.a.mark(function e(t){var n=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=h()(l.a.mark(function e(a,r){var o,s,c,u,h,d;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=n.getKey(t),n.fonts.get(o)?a():(s=n.getUrl(t),c=s.woff,u=s.map,n.fonts.set(o,{fstatus:i.LOADING,mstatus:i.LOADING,matrics:null,font:null}),h=new _,d=h.load(u),n.fontload(t,c),d.then(function(){var e=n.fonts.get(o);e.matrics=h,e.fstatus=i.COMPLETE,e.mstatus=i.COMPLETE,a()}).catch(function(e){var t=n.fonts.get(o);t.matrics=null,t.fstatus=i.FAILED,t.mstatus=i.FAILED,r(e)}));case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})},{key:"gett",value:(t=h()(l.a.mark(function e(t){var n=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=h()(l.a.mark(function e(a,r){var o,s,c,u,h,d,p;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.getKey(t),o=n.getKeys(t.family),n.fonts.has(s)){e.next=11;break}c=0;case 4:if(!(c<o.length)){e.next=11;break}return u=o[c],e.next=8,n.addKeyy(u).catch(function(e){return r(e)});case 8:c++,e.next=4;break;case 11:if(n.fonts.has(T.a)){e.next=14;break}return e.next=14,n.addKeyy({family:T.a,bold:!1,italic:!1}).catch(function(e){return r(e)});case 14:n.fonts.has(s)||(h=n.getAvailableStyle(t.family),s=t.bold&&h.bold?n.getKey({family:t.family,bold:!0,italic:!1}):n.getKey({family:t.family,bold:!1,italic:!1})),(d=n.fonts.get(s))?d.mstatus===i.LOADING?p=setInterval(function(e){e.mstatus===i.COMPLETE&&(clearInterval(p),a(d.matrics))},200,d):a(d.matrics):r("폰트가 정상적으로 로드 되지 않았습니다.");case 17:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"setUrlFunc",value:function(e){this.getUrl=e}},{key:"getOpenFont",value:function(e){var t=this.getKey(e);if(!this.fonts.has(t)){var n=this.getAvailableStyle(e.family);t=e.bold&&n.bold?this.getKey({family:e.family,bold:!0,italic:!1}):this.getKey({family:e.family,bold:!1,italic:!1})}return this.fonts.get(t).font}},{key:"getDefaultOpenFont",value:function(){return this.fonts.get(T.a).font}},{key:"clear",value:function(){this.fonts.clear(),this.proms.clear()}},{key:"getDefault",value:function(){var e=this.fonts.get(T.a);return e?e.matrics:null}},{key:"setFontLoad",value:function(e){this.fontload=e}},{key:"get",value:function(e,t){var n,i=this.getKey(e);if(!this.fonts.has(i)){var a=this.getAvailableStyle(e.family);i=e.bold&&a.bold?this.getKey({family:e.family,bold:!0,italic:!1}):this.getKey({family:e.family,bold:!1,italic:!1})}return n=this.fonts.get(i),""!==t&&(!t||n&&n.matrics&&n.matrics.has(t))?n?n.matrics:null:this.getDefault()}},{key:"isAvailableChar",value:function(e,t){var n,i=this.getKey(e);if(!this.fonts.has(i)){var a=this.getAvailableStyle(e.family);i=e.bold&&a.bold?this.getKey({family:e.family,bold:!0,italic:!1}):this.getKey({family:e.family,bold:!1,italic:!1})}return n=this.fonts.get(i),!(1!==t.length||!n||!n.matrics||!n.matrics.has(t))}},{key:"isFontReady",value:function(e){var t,n;if("object"===r()(e)?(t=this.getKey(e),n=this.getKey({family:e.family,bold:!1,italic:!1})):t=e,!this.fonts.has(t))return!!this.fonts.has(n);var a=this.fonts.get(t);if(a.mstatus!==i.LOADING)return!0;var o=setInterval(function(e){if(e.mstatus===i.COMPLETE)return clearInterval(o),!0},200,a)}},{key:"getStyles",value:function(e){var t=g.b.get(e),n=null;if(t&&t.length>0){n={bold:!1,italic:!1,boldItalic:!1};var i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;"BOLD_ITALIC_MAP"===c.type?n.boldItalic=!0:"BOLD_MAP"===c.type?n.bold=!0:"ITALIC_MAP"===c.type&&(n.italic=!0)}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}}return n}},{key:"getAvailableStyle",value:function(e){var t=this.getStyles(e);return t||(t={bold:!1,italic:!1,boldItalic:!1}),t}},{key:"isAvailableFamily",value:function(e){return null!==this.getStyles(e)}},{key:"setManual",value:function(e,t){var n=this.getKey(e);this.fonts.set(n,t)}}],[{key:"getFontStyleStr",value:function(e){return e.bold&&e.italic?"bold italic":e.bold?"bold":e.italic?"italic":"normal"}}]),e}();s()(y,"instance",new y),s()(y,"getView",function(){var e=h()(l.a.mark(function e(t){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var i=new XMLHttpRequest;i.open("get",t,!0),i.responseType="arraybuffer",i.onload=function(){200!==i.status&&n("Font could not be loaded: "+i.statusText),e(new DataView(i.response))},i.onerror=function(){n("Font map could not be loaded")},i.send()}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(37),u=n.n(l),h=n(45),d=n(51),p=n(42),m=n(56),f=n(54),g=n(86),v=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.b.getGroupItemsAddedArray(p.a.instance.activeItems.slice()),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.a.instance.renderPageIdx,r=arguments.length>2?arguments[2]:void 0;c()(this,e),u()(this,"doSaveQueue",!0),u()(this,"actionType",h.a.DELETE_ITEM),u()(this,"isActionGroupEquals",function(e){return!1}),u()(this,"concat",function(e){return!1}),u()(this,"changeDesign",function(){return!0}),u()(this,"isLastSavedAction",!1),u()(this,"targetList",[]),u()(this,"itemIndexes",[]),u()(this,"commit",function(){var e=o()(a.a.mark(function e(n,i,r){var o,s,c,l,u,h,v,E,T,I,_,y;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.targetList.length<1)){e.next=2;break}return e.abrupt("return");case 2:if(!((o=n.pages[t.targetPageIdx]).items.indexOf(t.targetList[0])<0)){e.next=36;break}o=null,s=!0,c=!1,l=void 0,e.prev=8,u=n.pages[Symbol.iterator]();case 10:if(s=(h=u.next()).done){e.next=18;break}if(!((v=h.value).items.indexOf(t.targetList[0])>=0)){e.next=15;break}return o=v,e.abrupt("break",18);case 15:s=!0,e.next=10;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(8),c=!0,l=e.t0;case 24:e.prev=24,e.prev=25,s||null==u.return||u.return();case 27:if(e.prev=27,!c){e.next=30;break}throw l;case 30:return e.finish(27);case 31:return e.finish(24);case 32:if(o){e.next=35;break}return t.doSaveQueue=!1,e.abrupt("return");case 35:t.targetPageIdx=o.pageIdx;case 36:m.a.unselectAllItems(),E=t.targetList.length-1;case 38:if(!(E>=0)){e.next=50;break}if((T=t.targetList[E]).canDelete()){e.next=42;break}return e.abrupt("continue",47);case 42:I=[],T instanceof d.e?I.push(T):T instanceof f.a&&(I=I.concat(T.getAllSingleMembers())),I.forEach(function(e){p.a.dispatch(new g.c(e))}),_=o.removeItem(T),t.itemIndexes.push(_);case 47:E--,e.next=38;break;case 50:return(y=i.pageController.getPageRenderer(o)).syncItemRenderers(),y.updateHoverLayer(),e.next=55,r.renderAll(n,i);case 55:case"end":return e.stop()}},e,null,[[8,20,24,32],[25,,27,31]])}));return function(t,n,i){return e.apply(this,arguments)}}()),u()(this,"rollback",function(){var e=o()(a.a.mark(function e(n,i,r){var o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.pages[t.targetPageIdx],m.a.unselectAllItems(),s=t.itemIndexes.length,t.targetList.forEach(function(e,n){o.addItem(e,t.itemIndexes[s-1-n])}),i.pageController.getPageRenderer(o).syncItemRenderers(),t.fromMove&&i.rollback(),e.next=9,r.renderAll(n,i);case 9:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),u()(this,"recycle",function(){t.targetList=null,t.itemIndexes=null}),this.targetPageIdx=i,this.fromMove=r,n.length<1?this.doSaveQueue=!1:this.targetList=f.b.convertSinglesToItems(n)}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return S}),n.d(t,"b",function(){return k});var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(35),l=n.n(c),u=n(36),h=n.n(u),d=n(37),p=n.n(d),m=n(43),f=n(3),g=n(47),v=n(42),E=n(424),T=n(143),I=n(327),_=n(121),y=n(189),L=n(142),O=n(45),S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,e),p()(this,"messageList",[]),p()(this,"hasBizAuth",!1);var n=new Date;this.userId=t.email||"guest-".concat(n.getTime()),this.userName=t.name||"guest",this.accountId=t.accountId||e.GUEST_ACCOUNT,this.isEditMode=!1,this.email=t.email||"guest",this.auth=t.currentAuth,this.authStatus=t.authStatus===g.AuthStatus.CONFIRMED,this.isOnlySocial=!0===t.onlySocial,this.emailReception=t.emailReception===g.FlagYesNo.YES,this.admin=t.admin,t.myAuthInfoList&&(this.hasBizAuth=t.myAuthInfoList.some(function(e){return e.authStatus===g.AuthStatus.CONFIRMED&&e.auth===g.Auth.BIZHOWS_MICAN})),this.addUserMessage(t.messageList)}var t,n;return h()(e,[{key:"addUserMessage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach(function(t){return e.messageList.push(new P(e,t))}),this.updateRenderProfile()}},{key:"updateRenderProfile",value:function(){this.profileRenderData={isLogin:this.accountId!==e.GUEST_ACCOUNT,userId:this.userId,userName:this.userName,newMessageCount:this.messageList.filter(function(e){return!1===e.isRead()}).length}}},{key:"getUserProfile",value:function(){return this.profileRenderData}},{key:"notify",value:function(){this.updateRenderProfile()}},{key:"isAdmin",value:function(){return!!this.email&&(this.admin||this.email.indexOf(e.ADMIN_EMAIL_DOMAIN)>-1)}},{key:"isLogin",value:function(){return this.accountId!==e.GUEST_ACCOUNT}},{key:"doLoginAfter",value:(n=s()(r.a.mark(function e(){var t,n=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L.a.setUserId(this.accountId?this.accountId:null),this.printDocument(),e.next=4,this.setAdminEnv();case 4:return e.next=6,T.a.loadUserConfig();case 6:if(_.a.initDataMap(),t=v.a.instance.renderer.messageBox,!this.isLogin()){e.next=14;break}t.setActive(!1),this.scheduledMaintenancePopup||(this.scheduledMaintenancePopup=new f.ScheduledMaintenancePopup("/resources/image/popup/scheduled_maintenance_popup.png","https://miricanvas.zendesk.com/hc/ko/articles/360039384711",function(){var e=new Date(2020,1,16,2);return new Date<e},s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init(n.isLogin());case 2:return e.next=4,t.setActive(!0);case 4:case"end":return e.stop()}},e)})))),this.scheduledMaintenancePopup.open(),e.next=16;break;case 14:return e.next=16,t.init(this.isLogin());case 16:return e.prev=16,e.next=19,I.a.loadPaletteData({});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(16),console.log(e.t0);case 24:case"end":return e.stop()}},e,this,[[16,21]])})),function(){return n.apply(this,arguments)})},{key:"printDocument",value:function(){try{window._unicornUser={isLogin:this.isLogin(),isAdmin:this.isAdmin(),name:this.userName,id:this.userId,email:this.email,auth:this.auth,authStatus:this.authStatus}}catch(e){}}},{key:"setAdminEnv",value:(t=s()(r.a.mark(function e(){var t=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=s()(r.a.mark(function e(n,i){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.isAdmin()){e.next=6;break}return v.a.instance.env.adminMode=!1,v.a.instance.env.devMode=!1,n(),e.abrupt("return");case 6:v.a.dispatch(new O.c(function(){var e=s()(r.a.mark(function e(t,i){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)();case 2:n();case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})}]),e}();p()(S,"ADMIN_EMAIL_DOMAIN","@miridih.com"),p()(S,"GUEST_ACCOUNT",0),function(e){e.ITEM="ITEM",e.DESIGN="DESIGN",e.COLLECTION="COLLECTION",e.NOTICE="NOTICE"}(i||(i={}));var P=function(){function e(t,n){l()(this,e),this.user=t,this.con=n,this.sender=n.sender,this.type=n.type,this.contents=n.contents,this.createDate=new Date(n.createDate),this.read=n.read,this.data=n.data}return h()(e,[{key:"doRead",value:function(){this.read=!0,this.user.notify()}},{key:"isRead",value:function(){return!0===this.read}}]),e}(),k=function(){function e(){l()(this,e)}var t;return h()(e,null,[{key:"make",value:(t=s()(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,n=f.CRM.get(m.a.CHECK_MY_IDENTITY),e.prev=2,e.next=5,g.UnicornApiRequest.get(n,{cache:!1});case 5:t=e.sent,e.next=15;break;case 8:e.prev=8,e.t0=e.catch(2),e.next=14;break;case 14:throw new g.UnicornError(y.a.USER_MAKE);case 15:return e.abrupt("return",new S(t.data));case 16:case"end":return e.stop()}},e,null,[[2,8]])})),function(){return t.apply(this,arguments)})}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(35),l=n.n(c),u=n(36),h=n.n(u),d=n(37),p=n.n(d),m=n(3),f=n(43),g=n(60),v=n(61),E=n(47),T=n(377),I=n(223),_=n(175),y=n(332),L=n(88),O=n(64),S=n(42),P=n(122),k=n(156),A=n(52),R=n(48),C=n(239),b=function(){function e(){l()(this,e)}var t,n,a,o,c,u,d,p,b;return h()(e,null,[{key:"uploadUserFile",value:(b=s()(r.a.mark(function t(n,i){var a,o,s,c,l,u,h,d,p;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n instanceof File)){t.next=13;break}if(this.checkFileValid(n)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,T.a.reserveFileKey();case 5:return a=t.sent.data,t.next=8,T.a.loadThumbnail(n,a);case 8:return t.next=10,T.a.uploadUserFile(n,a);case 10:i&&e.canvasDrop(a),t.next=40;break;case 13:if(!(n instanceof FileList)){t.next=40;break}if(!((o=n.length)>50)){t.next=18;break}return alert("한 번에 첨부할 수 있는 파일은 50개 미만입니다."),t.abrupt("return");case 18:s=[],c=0;case 20:if(!(c<o)){t.next=28;break}if(l=n.item(c),this.checkFileValid(l)){t.next=24;break}return t.abrupt("return");case 24:s.push(l);case 25:c++,t.next=20;break;case 28:u=0,h=s;case 29:if(!(u<h.length)){t.next=40;break}return d=h[u],t.next=33,T.a.reserveFileKey();case 33:return p=t.sent.data,t.next=36,T.a.loadThumbnail(d,p);case 36:T.a.uploadUserFile(d,p);case 37:u++,t.next=29;break;case 40:case"end":return t.stop()}},t,this)})),function(e,t){return b.apply(this,arguments)})},{key:"canvasDrop",value:function(e){var t=S.a.instance,n=t.size,i=n.pageOffsetX*t.zoomScale+n.pageWidth*t.zoomScale/2,a=n.pageOffsetY*t.zoomScale+n.pageHeight*t.zoomScale/2;S.a.dispatch(new P.a(S.a.instance.renderPageIdx,i,a,k.a.getResourceKey(R.a.PHOTO,e,A.a.UNICORN)))}},{key:"checkFileValid",value:function(e){var t=this.getMaxFileSize(),n="파일 크기는 ".concat(this.getSizeDescription(t)," 로 제한됩니다.");return this.checkFileSize(e,t)?!!this.checkFileType(e)||(alert("업로드 중 오류가 발생했습니다.\nJPG, PNG 또는 SVG 파일인지 확인 후 다시 시도해주세요"),!1):(alert(n),!1)}},{key:"checkFileSize",value:function(e,t){return e.size<=t}},{key:"checkFileType",value:function(e){switch(e.type){case i.IMAGE_JPEG:case i.IMAGE_JPG:case i.IMAGE_PNG:case i.IMAGE_SVG_XML:return!0;default:return!1}}},{key:"getMaxFileSize",value:function(){return S.a.getEnv().adminMode?314572800:26214400}},{key:"getCapacity",value:(p=s()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.CRM.get(f.a.CHECK_MY_CAPACITY_V0),e.next=3,E.UnicornApiRequest.get("".concat(n,"?").concat($.param(t)));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)})},{key:"removeFileWidthKey",value:(d=s()(r.a.mark(function e(t){var n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.CRM.get(f.a.REMOVE_WITH_KEY_V0),i=n.replace("${key}",t),e.next=4,E.UnicornApiRequest.delete(i,{traditional:!0});case 4:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)})},{key:"downloadByFileKey",value:function(e,t){var n=m.CRM.get(f.a.COMMON_FILE_DOWNLOAD_API).replace("${uuid}",e),i=document.createElement("a");i.href=E.UnicornApiClient.getURL(n),i.download=v.b.getDesignInfo().getTitle()+(t?".".concat(t):".zip"),document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i)},0)}},{key:"getImgUriToBlob",value:function(e){var t=Object(I.d)(e);return new Blob([t],{type:"text/csv;charset=utf-8;"})}},{key:"uploadXML",value:function(e,t,n){if(null!==e&&""!==e){var i=JSON.stringify({data:e,title:t}),a=m.CRM.get(f.a.DESIGN_IMP_PREFLIGHT_API);$.ajax({type:"POST",url:a,data:i,contentType:"application/json",cache:!1,success:function(e){n&&n(e)},error:function(e){console.error(e.result)}})}}},{key:"uploadSvg",value:(u=s()(r.a.mark(function t(n,i){var a,o,s,c,l,u,h;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=new FormData,o=new Blob([n],{type:e.MIME_TYPE_SVG}),a.append("file",o,i),s=this.parse(n),c=s.getElementsByTagName("svg").item(0),C.a.changeElement(c),t.next=8,this.appendSvgData(a,c);case 8:return l=m.CRM.get(f.a.SVG_HOST)+"/api/v1/svg",t.next=11,this.fileUpload(l,a);case 11:return u=t.sent,h=u.data,t.next=15,g.c.reloadSvgData(h,!0);case 15:return t.abrupt("return",h);case 16:case"end":return t.stop()}},t,this)})),function(e,t){return u.apply(this,arguments)})},{key:"fileUpload",value:(c=s()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.UnicornApiRequest.post(t,{data:n,processData:!1,traditional:!0,contentType:!1}));case 1:case"end":return e.stop()}},e)})),function(e,t){return c.apply(this,arguments)})},{key:"parse",value:function(t){return(new DOMParser).parseFromString(t,e.MIME_TYPE_SVG)}},{key:"appendSvgData",value:(o=s()(r.a.mark(function e(t,n){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=_.a.makeSvgData(n),!_.a.containsWaterPattern(i)){e.next=3;break}throw Error("물방울패턴좀 삭제하고 업로드해주세요");case 3:return e.next=5,_.a.appendSvgInsertData(t,i);case 5:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)})},{key:"uploadImageframe",value:(a=s()(r.a.mark(function t(n,i){var a,o,s,c,l,u,h;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=new FormData,o=new Blob([n],{type:e.MIME_TYPE_SVG}),a.append("file",o,i),s=this.parse(n),c=s.getElementsByTagName("svg").item(0),this.appendImageframeData(a,c),l=m.CRM.get(f.a.SVG_HOST)+"/api/image-frame",t.next=9,this.fileUpload(l,a);case 9:return u=t.sent,h=u.data,t.next=13,L.c.reloadImageframeData(h);case 13:return t.abrupt("return",h);case 14:case"end":return t.stop()}},t,this)})),function(e,t){return a.apply(this,arguments)})},{key:"appendImageframeData",value:function(e,t){var n=y.a.makeImageframeData(t);y.a.appendImageframeInsertData(e,n)}},{key:"getPngToJpgImageData",value:(n=s()(r.a.mark(function e(t,n,i){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){var r=document.createElement("img");r.onload=function(){var i=O.a.createCanvas();i.width=t,i.height=n,i.getContext("2d").drawImage(r,0,0),e(i.toDataURL("image/jpeg"))},r.src=i}));case 1:case"end":return e.stop()}},e)})),function(e,t,i){return n.apply(this,arguments)})},{key:"getSizeDescription",value:function(e){return 1024>e?"".concat(e.toFixed(2)," Bytes"):1024>(e/=1024)?"".concat(e.toFixed(2)," KB"):1024>(e/=1024)?"".concat(e.toFixed(2)," MB"):""}},{key:"getPureFileName",value:function(e){var t=e.lastIndexOf(".");return-1===t?e:e.substring(0,t)}},{key:"getSvgSize",value:(t=s()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.getSvgFileInfo(t.svgData.key);case 2:return n=e.sent,e.abrupt("return",Math.round(n.fileSize/1024));case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),e}();p()(b,"MIME_TYPE_SVG","image/svg+xml"),function(e){e.IMAGE_JPEG="image/jpeg",e.IMAGE_JPG="image/jpg",e.IMAGE_PNG="image/png",e.IMAGE_SVG_XML="image/svg+xml"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(39),c=n.n(s),l=n(38),u=n.n(l),h=n(44),d=n.n(h),p=n(40),m=n.n(p),f=n(37),g=n.n(f),v=n(154),E=n(41),T=n(3),I=n(12),_=function(e){function t(e,n){var i,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return a()(this,t),i=c()(this,u()(t).call(this)),g()(d()(i),"input",document.createElement("input")),i.listener=e,i.placeholder=n,i.globalFocus=r,i.clearListener=o,i.searchMode=s,i}return m()(t,e),o()(t,[{key:"render",value:function(){return this.element.className=E.a.SEARCH_TOOL,this.placeholder&&(this.input.placeholder=this.placeholder),this.element.appendChild(this.input),this.btnSearch=Object(I.setToolsIcon)(this.element,I.ToolsIcon.ZOOM,!0),this.btnClear=Object(I.setToolsIcon)(this.element,I.ToolsIcon.CLOSE,!0),this.addEventListener(),this.element}},{key:"addEventListener",value:function(){var e=this,n=$(this.input);n.on("click",function(n){n.stopPropagation(),e.globalFocus&&($(document.body).off(t.CLOSE_EVENT_NAME).trigger("click"),$(document.body).on(t.CLOSE_EVENT_NAME,function(){$(document.body).off(t.CLOSE_EVENT_NAME),e.keyword===e.input.value||T.StringUtil.isEmpty(e.keyword)&&T.StringUtil.isEmpty(e.input.value)||e.search(e.input.value,!0)}))}).on("focus",function(){e.input.select()}).on("keydown",function(t){if(t.stopPropagation(),13===t.keyCode)return e.search(e.input.value,!0),!1}).on("keyup",function(t){t.stopPropagation(),e.updateUI()}).on("paste",function(t){setTimeout(function(){e.updateUI()},100)}),this.searchMode&&n.on("keyup",function(){return e.search(e.input.value)}),this.btnSearch.addEventListener("click",function(){return blur()}),this.btnClear.addEventListener("click",function(){void 0===e.clearListener?e.search(""):e.clearListener()})}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.updateUI(e),this.listener(this.input.value),this.offCloseEvent(),t&&$(this.input).trigger("blur")}},{key:"offCloseEvent",value:function(){$(document.body).off(t.CLOSE_EVENT_NAME)}},{key:"updateUI",value:function(e){null!=e&&(this.keyword=e,this.input.value=e),T.StringUtil.isEmpty(this.input.value)?this.element.classList.remove(E.a.ACTIVE):this.element.classList.add(E.a.ACTIVE)}},{key:"getKeyword",value:function(){return this.keyword}}]),t}(v.a);g()(_,"CLOSE_EVENT_NAME","click.".concat(T.StringUtil.random()))},function(e,t,n){"use strict";n.d(t,"g",function(){return M}),n.d(t,"j",function(){return B}),n.d(t,"e",function(){return U}),n.d(t,"k",function(){return G}),n.d(t,"h",function(){return F}),n.d(t,"f",function(){return H}),n.d(t,"i",function(){return V}),n.d(t,"d",function(){return W}),n.d(t,"c",function(){return K}),n.d(t,"b",function(){return Y}),n.d(t,"a",function(){return z});var i=n(44),a=n.n(i),r=n(37),o=n.n(r),s=n(0),c=n.n(s),l=n(1),u=n.n(l),h=n(35),d=n.n(h),p=n(36),m=n.n(p),f=n(39),g=n.n(f),v=n(38),E=n.n(v),T=n(40),I=n.n(T),_=n(45),y=n(42),L=n(113),O=n(82),S=n(60),P=n(92),k=n(133),A=n(167),R=n(130),C=n(3),b=n(56),w=n(66),x=n(150),N=n(65),D=n(166),M=function(e){function t(e,n,i,a){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return d()(this,t),(r=g()(this,E()(t).call(this,e,i,a,o,L.c.NO_RENDER_LAYER))).svg=n,r.actionType=_.a.ADD_SVG,r}var n,i;return I()(t,e),m()(t,[{key:"getImageSize",value:(i=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{imgWidth:this.svg.width,imgHeight:this.svg.height});case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"createNewItem",value:(n=u()(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new k.a(t,this.svg,n.left,n.top,n.right,n.bottom));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})}]),t}(P.j),B=function(e){function t(e,n,i,a){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return d()(this,t),(r=g()(this,E()(t).call(this,e,i,a,o,L.c.NO_RENDER_LAYER))).svg=n,r.actionType=_.a.ADD_SVG,r}var n,i;return I()(t,e),m()(t,[{key:"getImageSize",value:(i=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{imgWidth:this.svg.width,imgHeight:this.svg.height});case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"createNewItem",value:(n=u()(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new D.a(t,this.svg,n.left,n.top,n.right,n.bottom));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})}]),t}(P.j),U=function(e){function t(e,n,i,a){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return d()(this,t),(r=g()(this,E()(t).call(this,e,i,a,o))).svg=n,r.actionType=_.a.ADD_SVG,r}var n,i;return I()(t,e),m()(t,[{key:"getImageSize",value:(i=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{imgWidth:this.svg.width,imgHeight:this.svg.height});case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"createNewItem",value:(n=u()(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new A.a(t,this.svg,n.left,n.top,n.right,n.bottom));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})}]),t}(P.j),G=function(e){function t(e,n,i,a){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return d()(this,t),(r=g()(this,E()(t).call(this,e,i,a,o))).svg=n,r.actionType=_.a.ADD_SVG,r}var n,i;return I()(t,e),m()(t,[{key:"getImageSize",value:(i=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{imgWidth:this.svg.width,imgHeight:this.svg.height});case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"createNewItem",value:(n=u()(c.a.mark(function e(t,n){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new x.a(t,this.svg,n.left,n.top,n.right,n.bottom));case 1:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})}]),t}(P.j),F=function(e){function t(e,n,i,a){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return d()(this,t),(r=g()(this,E()(t).call(this,e,i,a,o,L.c.NO_RENDER_LAYER))).svg=n,r.actionType=_.a.ADD_SVG,r}var n,i;return I()(t,e),m()(t,[{key:"getImageSize",value:(i=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{imgWidth:this.svg.width,imgHeight:this.svg.height});case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"createNewItem",value:(n=u()(c.a.mark(function e(t,n){var i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new w.b(t,this.svg,n.left,n.top,n.right,n.bottom),e.next=3,i.initFramePosition();case 3:return e.abrupt("return",i);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})}]),t}(P.j),H=function(e){function t(e,n,i){var r;return d()(this,t),r=g()(this,E()(t).call(this)),o()(a()(r),"actionType",_.a.SVG_LAYER_COLOR_LINK),o()(a()(r),"timeout",3e3),o()(a()(r),"changeDesign",function(){return!0}),o()(a()(r),"renderAuto",!1),o()(a()(r),"commitAction",function(e,t,n){r.doSaveQueue&&(r.props.setCurrentOriginColor(r.originColor),r.props.setColor(r.newColor),r.item.svgElements.changeColor(r.originColor,r.newColor),n.renderCanvas(e,t,[r.item]),n.renderItemTools(e,t,!1,!0))}),o()(a()(r),"rollbackAction",function(e,t,n){r.props.setCurrentOriginColor(r.originColor),r.props.setColor(r.oldColor),r.item.svgElements.changeColor(r.originColor,r.oldColor),n.renderCanvas(e,t,[r.item]),n.renderItemTools(e,t,!1,!0)}),o()(a()(r),"isActionGroupEquals",function(e){return e&&e.actionType===r.actionType&&e instanceof t&&r.item.tbpeId===e.item.tbpeId&&e.commitTime-r.commitTime<=r.timeout}),o()(a()(r),"recycle",function(){r.item=null,r.newColor=null,r.oldColor=null}),r.originColor=e,r.newColor=n,r.item=i,i&&i.props.getColorMap().has(e.toLowerCase())?(r.props=i.props,r.props.setCurrentOriginColor(r.originColor),r.oldColor=r.props.getColor()):r.doSaveQueue=!1,r.commitTime=(new Date).getTime(),r}return I()(t,e),t}(_.b),V=(_.b,function(e){function t(e,n){var i;return d()(this,t),i=g()(this,E()(t).call(this)),o()(a()(i),"actionType",_.a.SVG_PATTERN_SIZE),o()(a()(i),"changeDesign",function(){return!0}),o()(a()(i),"renderAuto",!1),o()(a()(i),"isSameAction",!1),o()(a()(i),"mouseActionMode",N.a.MODE_NONE),o()(a()(i),"oldPatternRatio",0),o()(a()(i),"commitAction",function(e,t,n){i.item&&(i.item.initScaleAndLayers(),i.oldPatternRatio=i.item.props.patternCountRatio,i.item.updatePatternByRatio(i.patternCountRatio),n.renderCanvas(e,t,[i.item]))}),o()(a()(i),"rollbackAction",function(e,t,n){i.item.initScaleAndLayers(),i.item.updatePatternByRatio(i.oldPatternRatio),n.renderCanvas(e,t,[i.item])}),o()(a()(i),"recycle",function(){i.item=null}),o()(a()(i),"isActionGroupEquals",function(e){return!!(e&&e.actionType===i.actionType&&e instanceof t)&&(y.a.instance.mouseAction.mode!==N.a.MODE_NONE&&(i.isSameAction=e.mouseActionMode===N.a.MODE_MOVE_CHANGE_VALUE),i.isSameAction)}),i.item=e,i.patternCountRatio=n,i.mouseActionMode=y.a.instance.mouseAction.mode,i}return I()(t,e),t}(_.b)),W=function(e){function t(e,n){var i;return d()(this,t),i=g()(this,E()(t).call(this)),o()(a()(i),"actionType",_.a.SVG_PATTERN_SIZE),o()(a()(i),"doSaveQueue",!1),o()(a()(i),"renderAuto",!1),o()(a()(i),"changeDesign",function(){return!0}),o()(a()(i),"commitAction",function(){var e=u()(c.a.mark(function e(t,n,a){var r,o,s,l,u,h,d,p,m,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.svgGraphicData,o=i.item.getLTRBCoordinate(),s=o.getWidth(),l=o.getHeight(),u=s/i.item.svgData.width,h=l/i.item.svgData.height,d=Math.min(u,h),C.StringUtil.isEmpty(r.name)&&(r.name=R.a.getPureFileName(i.item.svgData.name)),p=S.c.isSecuritableSvg(r),m=p?new D.a("".concat((new Date).getTime(),"-").concat(C.StringUtil.random()),r,o.left,o.top,o.left+i.item.svgData.width*d,o.top+i.item.svgData.height*d,i.item.props.getRotate()):new k.a("".concat((new Date).getTime(),"-").concat(C.StringUtil.random()),r,o.left,o.top,o.left+i.item.svgData.width*d,o.top+i.item.svgData.height*d,i.item.props.getRotate()),b.a.selectItem(m),a.renderItemTools(t,n),!((f=t.pages[n.renderPageIdx]).items.indexOf(i.item)>-1)){e.next=20;break}return f.addItem(m),f.removeItem(i.item),i.item=null,e.next=19,a.canvasRenderer.renderAuto(t,n);case 19:a.renderHandler(t,n);case 20:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),o()(a()(i),"rollbackAction",function(){}),o()(a()(i),"recycle",function(){}),i.item=e,i.svgGraphicData=n,i}return I()(t,e),t}(_.b),K=function(e){function t(e,n){var i;return d()(this,t),i=g()(this,E()(t).call(this)),o()(a()(i),"actionType",_.a.SVG_PATTERN_SIZE),o()(a()(i),"doSaveQueue",!1),o()(a()(i),"renderAuto",!1),o()(a()(i),"changeDesign",function(){return!1}),o()(a()(i),"commitAction",function(){var e=u()(c.a.mark(function e(t,n,a){var r,o,s,l,u,h,d,p,m;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.imageframeData,o=i.item.getLTRBCoordinate(),s=o.getWidth(),l=o.getHeight(),u=s/i.item.svgData.width,h=l/i.item.svgData.height,d=Math.min(u,h),C.StringUtil.isEmpty(r.name)&&(r.name=R.a.getPureFileName(i.item.svgData.name)),p=new w.b("".concat((new Date).getTime(),"-").concat(C.StringUtil.random()),r,o.left,o.top,o.left+i.item.svgData.width*d,o.top+i.item.svgData.height*d,i.item.props.getRotate()),b.a.selectItem(p),a.renderItemTools(t,n),!((m=t.pages[n.renderPageIdx]).items.indexOf(i.item)>-1)){e.next=20;break}return p.initFramePosition(),m.addItem(p),m.removeItem(i.item),i.item=null,e.next=19,a.canvasRenderer.renderAuto(t,n);case 19:a.renderHandler(t,n);case 20:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),o()(a()(i),"rollbackAction",function(){}),o()(a()(i),"recycle",function(){}),i.item=e,i.imageframeData=n,i}return I()(t,e),t}(_.b),Y=function(e){function t(e){var n;return d()(this,t),n=g()(this,E()(t).call(this)),o()(a()(n),"actionType",_.a.SVG_DATA_UPDATE),o()(a()(n),"doSaveQueue",!1),o()(a()(n),"changeDesign",function(){return!0}),o()(a()(n),"commitAction",function(e){var t=S.c.isSecuritableSvg(n.svgData),i=!0,a=!1,r=void 0;try{for(var o,s=e.pages[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value,l=c.getAllSingleItems(),u=!0,h=!1,d=void 0;try{for(var p,m=l[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){var f=p.value;if(f instanceof O.a&&f.data.key===n.svgData.key){var g=f.svgScale,v=void 0;v=t?new D.a(f.tbpeId,n.svgData,f.props.getLeft(),f.props.getTop(),f.props.getLeft()+n.svgData.width*g,f.props.getTop()+n.svgData.height*g,f.props.getRotate(),f.props.isFlipH(),f.props.isFlipV()):new k.a(f.tbpeId,n.svgData,f.props.getLeft(),f.props.getTop(),f.props.getLeft()+n.svgData.width*g,f.props.getTop()+n.svgData.height*g,f.props.getRotate(),f.props.isFlipH(),f.props.isFlipV());var E=l.indexOf(f);c.removeItem(f),c.addItem(v,E)}}}catch(e){h=!0,d=e}finally{try{u||null==m.return||m.return()}finally{if(h)throw d}}}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}}),o()(a()(n),"rollbackAction",function(){}),o()(a()(n),"recycle",function(){}),n.svgData=e,n}return I()(t,e),t}(_.b),z=function(e){function t(){var e;return d()(this,t),e=g()(this,E()(t).call(this)),o()(a()(e),"actionType",_.a.SVG_DATA_UPDATE),o()(a()(e),"doSaveQueue",!1),o()(a()(e),"changeDesign",function(){return!0}),o()(a()(e),"commitAction",function(){var e=u()(c.a.mark(function e(t,n){var i,a,r,o,s,l,u,h,d,p,m,f,g,v;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=!0,a=!1,r=void 0,e.prev=3,o=t.pages[Symbol.iterator]();case 5:if(i=(s=o.next()).done){e.next=40;break}l=s.value,u=l.getAllSingleItems(),h=!0,d=!1,p=void 0,e.prev=11,m=u[Symbol.iterator]();case 13:if(h=(f=m.next()).done){e.next=23;break}if(!((g=f.value)instanceof D.a)||g.svgElements.svgElement){e.next=20;break}return e.next=18,S.c.getSvgDataByKey(g.data.key,n.env.adminMode);case 18:v=e.sent,g.updateSvgData(v);case 20:h=!0,e.next=13;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(11),d=!0,p=e.t0;case 29:e.prev=29,e.prev=30,h||null==m.return||m.return();case 32:if(e.prev=32,!d){e.next=35;break}throw p;case 35:return e.finish(32);case 36:return e.finish(29);case 37:i=!0,e.next=5;break;case 40:e.next=46;break;case 42:e.prev=42,e.t1=e.catch(3),a=!0,r=e.t1;case 46:e.prev=46,e.prev=47,i||null==o.return||o.return();case 49:if(e.prev=49,!a){e.next=52;break}throw r;case 52:return e.finish(49);case 53:return e.finish(46);case 54:case"end":return e.stop()}},e,null,[[3,42,46,54],[11,25,29,37],[30,,32,36],[47,,49,53]])}));return function(t,n){return e.apply(this,arguments)}}()),o()(a()(e),"rollbackAction",function(){}),o()(a()(e),"recycle",function(){}),e}return I()(t,e),t}(_.b)},,,function(e,t,n){"use strict";var i=n(36),a=n.n(i),r=n(0),o=n.n(r),s=n(1),c=n.n(s),l=n(35),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(44),g=n.n(f),v=n(40),E=n.n(v),T=n(37),I=n.n(T),_=n(45),y=n(42),L=n(50),O=n(126),S=n(56),P=n(322),k=n(59),A=n(257),R=n(101),C=function(){function e(){u()(this,e)}return a()(e,null,[{key:"getConvertedFilterNumberValue",value:function(e,t,n,i){if(!e)return e;var a=i*((e-t)/(n-t));return a>i?i:a}},{key:"getValuesFromProperties",value:function(e){return{brightness:e.getBrightness(),contrast:e.getContrast(),lightness:e.getLightness(),saturation:e.getSaturation(),hue:e.getTint(),colorTone:e.getColorTone(),temperature:e.getTemperature(),blur:e.getBlur(),vignette:e.getVignette(),isActiveBorder:e.isActiveSolidLine(),borderColor:e.getSolidLineColor(),borderThickness:e.getSolidLineThickness(),borderAlpha:e.getSolidLineAlpha(),isActiveShapeMask:e.isActiveBitmapMask(),shapeId:e.getBitmapMaskBitmapId(),isActiveGradationMask:e.isActiveGradationMask(),gradationDirection:e.getGradationMaskDirection(),gradationDepth:e.getGradationMaskDepth()}}}]),e}(),b=n(49),w=n(86),x=n(53),N=n(118),D=n(58),M=n(65);n.d(t,"b",function(){return U}),n.d(t,"e",function(){return G}),n.d(t,"d",function(){return F}),n.d(t,"c",function(){return H}),n.d(t,"a",function(){return V});var B=function(e){function t(e,n){var i;return u()(this,t),i=d()(this,m()(t).call(this)),I()(g()(i),"actionType",_.a.BACKGROUND_CHANGE),I()(g()(i),"renderAuto",!1),I()(g()(i),"changeDesign",function(){return!0}),I()(g()(i),"commitAction",function(){var e=c()(o.a.mark(function e(t,n,a){var r,s,c,l,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.pageIdx<0)&&i.skinItem){e.next=2;break}return e.abrupt("return");case 2:return r=t.pages[i.pageIdx],i.oldSkin=r.background.backgroundItem,r.setSkin(i.skinItem),i.skinItem instanceof L.e&&(s=i.skinItem.itemPosition.clone(),c=r.sheetSize,l=new b.a(0,0,c.width,c.height),i.skinItem.setLTRBCoordinate(l),i.skinItem.itemPosition=s,i.skinItem.photoCrop.isCropped=!0),i.oldSkin&&new w.c(i.oldSkin).commitAction(t,n,a),u=r.sheetSize,e.next=10,a.canvasRenderer.printout.render({pageWrapper:n.pageController.getPageRenderer(r).element,pageId:r.pageId,pageSize:{width:u.width,height:u.height},pageItems:[i.skinItem],domRenderParam:{editScale:r.editScale,printAreaBgColor:r.background.color},forceCheckPageItems:!0});case 10:return S.a.unselectAllItems(),n.pageController.getPageRenderer(r).syncItemRenderers(),e.next=15,a.renderAuto(t,n);case 15:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(i),"rollbackAction",function(){var e=c()(o.a.mark(function e(t,n,a){var r,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pages[i.pageIdx],s=i.oldSkin,r.setSkin(s),s&&S.a.selectItem(s),n.pageController.getPageRenderer(r).syncItemRenderers(),e.next=8,a.renderAuto(t,n);case 8:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(i),"recycle",function(){i.oldSkin=null}),i.pageIdx=e,i.skinItem=n,i}return E()(t,e),t}(_.b),U=function(e){function t(e){var n;return u()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"actionType",_.a.BACKGROUND_CHANGE),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"commitAction",function(){var e=c()(o.a.mark(function e(t,i,a){var r,s,c,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.photo){e.next=3;break}return e.abrupt("return");case 3:if(s=n.backupPage?n.backupPage:n.backupPage=N.a.getItemIncludedPage(t.pages,r)){e.next=6;break}return e.abrupt("return");case 6:return c=s.background,l=c.createNewPhotoBackgroundItem(r.props.getPhotoKey(),r),s.removeItem(r),n.skinChangeAction=new B(s.pageIdx,l),n.skinChangeAction.doSaveQueue=!1,e.next=13,n.skinChangeAction.commitAction(t,i,a);case 13:y.a.dispatch(new w.c(n.photo));case 14:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(){var e=c()(o.a.mark(function e(t,i,a){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.photo,n.backupPage.addItem(r),e.next=4,n.skinChangeAction.rollbackAction(t,i,a);case 4:S.a.selectItem(r);case 5:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"recycle",function(){n.photo=null,n.skinChangeAction.recycle()}),n.photo=e,n}return E()(t,e),t}(_.b),G=function(e){function t(e,n){var i;return u()(this,t),i=d()(this,m()(t).call(this)),I()(g()(i),"actionType",_.a.BACKGROUND_CHANGE),I()(g()(i),"changeDesign",function(){return!0}),I()(g()(i),"commitAction",function(){var e=c()(o.a.mark(function e(t){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.pages[i.pageIdx].background,a=n.createNewSvgBackgroundItem(i.svgData),y.a.dispatch(new B(i.pageIdx,a));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),I()(g()(i),"rollbackAction",function(){}),I()(g()(i),"recycle",function(){}),i.pageIdx=e,i.svgData=n,i.doSaveQueue=!1,i}return E()(t,e),t}(_.b),F=function(e){function t(){var e;return u()(this,t),e=d()(this,m()(t).call(this)),I()(g()(e),"actionType",_.a.BACKGROUND_DELETE),I()(g()(e),"changeDesign",function(){return!0}),I()(g()(e),"commitAction",function(e,t){if(1===t.activeItems.length){var n=N.a.getItemIncludedPage(e.pages,t.activeItems[0]).background.backgroundItem;n&&(S.a.selectItem(n),y.a.dispatch(new O.a))}}),I()(g()(e),"rollbackAction",function(){}),I()(g()(e),"recycle",function(){}),e.doSaveQueue=!1,e}return E()(t,e),t}(_.b),H=function(e){function t(e,n){var i,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return u()(this,t),i=d()(this,m()(t).call(this)),I()(g()(i),"actionType",_.a.BACKGROUND_CHANGE_COLOR),I()(g()(i),"changeDesign",function(){return!0}),I()(g()(i),"isSameAction",!1),I()(g()(i),"mouseActionMode",M.a.MODE_NONE),I()(g()(i),"commitAction",function(){var e=c()(o.a.mark(function e(t,n,a){var r,s,c,l,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.pages[i.pageIdx],s=n.pageController.getPageRenderer(r),c=s.backgroundRenderer,i.oldColor=r.background.color,c.updateColor(i.newColor),(l=r.background.backgroundItem)&&(l.props.updateRevision(!0),i.isForceChangeSkin&&(S.a.selectItem(l),i.itemDeleteAction=new O.a,i.itemDeleteAction.doSaveQueue=!1,i.itemDeleteAction.commit(t,n,n.renderer))),a.leftBar.getMenu(x.b.BACKGROUND_LIB).render(t,n),i.isForceChangeSkin&&(u="#FF".concat(i.newColor.replace("#","")).toUpperCase(),D.a.sendItemUseEvent({type:D.b.BG_ITEM,category:null,keyword:null,customAction:"단색",customLabel:u},null));case 9:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(i),"rollbackAction",function(){var e=c()(o.a.mark(function e(t,n,a){var r,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.pages[i.pageIdx],s=n.pageController.getPageRenderer(r),s.backgroundRenderer.updateColor(i.oldColor),r.background.backgroundItem&&r.background.backgroundItem.props.updateRevision(!0),i.itemDeleteAction&&i.itemDeleteAction.rollback(t,n,a),a.leftBar.getMenu(x.b.BACKGROUND_LIB).render(t,n);case 7:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(i),"recycle",function(){i.itemDeleteAction&&i.itemDeleteAction.recycle()}),I()(g()(i),"concat",function(e){return i.newColor=e.newColor,!0}),I()(g()(i),"isActionGroupEquals",function(e){return!!(e&&e.actionType===i.actionType&&e instanceof t)&&(y.a.instance.mouseAction.mode!==M.a.MODE_NONE&&(i.isSameAction=e.mouseActionMode===M.a.MODE_MOVE_CHANGE_VALUE),i.isSameAction)}),i.pageIdx=e,i.newColor=n,i.isForceChangeSkin=a,i.mouseActionMode=y.a.instance.mouseAction.mode,i}return E()(t,e),t}(_.b),V=function(e){function t(e){var n;return u()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"actionType",_.a.BACKGROUND_PHOTO_USE),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"pageIdx",y.a.instance.renderPageIdx),I()(g()(n),"commitAction",function(){var e=c()(o.a.mark(function e(t,i,a){var r,s,c,l,u;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pages[n.pageIdx],e.next=3,P.a.getData(n.photoIdx);case 3:return s=e.sent,e.next=6,R.a.from(t.getRepositoryType(),!0).getStickerData(n.photoIdx);case 6:return c=e.sent,s||(s={stickerId:n.photoIdx,centerX:Math.floor(c.orgWidth/2),centerY:Math.floor(c.orgHeight/2),originalWidth:c.orgWidth,originalHeight:c.orgHeight,color:"#ffffff",opacity:.8}),e.next=10,k.b.setUrlImage(n.photoIdx,c.thumb800url);case 10:return l=e.sent,u=n.backupPhotoItem?n.backupPhotoItem:n.getPhotoItem(s.stickerId,l,r,s),!1,n.skinChangeSolidColorAction=new H(n.pageIdx,s.color,!1),n.skinChangeAction=new B(n.pageIdx,u),n.skinChangeSolidColorAction.doSaveQueue=!1,n.skinChangeAction.doSaveQueue=!1,e.next=19,n.skinChangeSolidColorAction.commitAction(t,i,a);case 19:return e.next=21,n.skinChangeAction.commitAction(t,i,a);case 21:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(){var e=c()(o.a.mark(function e(t,i,a){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.skinChangeAction){e.next=3;break}return e.next=3,n.skinChangeAction.rollbackAction(t,i,a);case 3:if(!n.skinChangeSolidColorAction){e.next=6;break}return e.next=6,n.skinChangeSolidColorAction.rollbackAction(t,i,a);case 6:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"recycle",function(){n.skinChangeSolidColorAction&&n.skinChangeSolidColorAction.recycle(),n.skinChangeAction&&n.skinChangeAction.recycle()}),n.photoIdx=e,n.renderAuto=!1,n}return E()(t,e),a()(t,[{key:"getPhotoItem",value:function(e,t,n,i){var a=t.width/i.originalWidth,r=i.originalWidth/2*a,o=i.originalHeight/2*a,s=i.centerX*a,c=i.centerY*a,l=A.a.getOffsetRect(n.sheetSize.width,n.sheetSize.height,t.width,t.height,r,o,s,c),u="".concat((new Date).getTime(),"-").concat(Math.random()),h=this.backupPhotoItem=new L.e(u,l.left,l.top,l.right,l.bottom);return h.props.setPhotoKey(e),h.props.setOpacity(C.getConvertedFilterNumberValue(i.opacity,0,1,255)),h.orgType=L.b.BackgroundImage,h.skinRatioId=n.ratioId,h.backgroundState=L.a.ORIGIN,h}}]),t}(_.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(51),c=n(49),l=n(50),u=n(54),h=function(){function e(){a()(this,e)}return o()(e,null,[{key:"getAllSingleItems",value:function(t){var n=[];return t.forEach(function(t){t instanceof s.e?n.push(t):t instanceof u.a&&(n=n.concat(e.getAllSingleItems(t.getMembers())))}),n}},{key:"getItemsLTRBCoordinate",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=Number.MAX_VALUE,a=Number.MAX_VALUE,r=Number.MIN_VALUE,o=Number.MIN_VALUE,h=!0,d=!1,p=void 0;try{for(var m,f=t[Symbol.iterator]();!(h=(m=f.next()).done);h=!0){var g=m.value,v=void 0;g instanceof s.e?v=g.getLTRBCoordinate(n):g instanceof u.a&&(v=e.getItemsLTRBCoordinate(g.getMembers(),n)),g instanceof l.e&&(v.right=Math.ceil(v.right-v.left)+v.left,v.bottom=Math.ceil(v.bottom-v.top)+v.top);var E=v.left,T=v.top,I=v.right,_=v.bottom;i=E<i?E:i,a=T<a?T:a,r=I<r?r:I,o=_<o?o:_}}catch(e){d=!0,p=e}finally{try{h||null==f.return||f.return()}finally{if(d)throw p}}return new c.a(i,a,r,o)}}]),e}()},function(e,t,n){"use strict";n.d(t,"c",function(){return L}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return k});var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(39),l=n.n(c),u=n(38),h=n.n(u),d=n(40),p=n.n(d),m=n(35),f=n.n(m),g=n(36),v=n.n(g),E=n(37),T=n.n(E),I=n(47),_=n(3),y=n(43),L=function(){function e(){f()(this,e),T()(this,"lang","ko"),T()(this,"page",1),T()(this,"perPage",20)}return v()(e,[{key:"setPage",value:function(e){return this.page=e,this}},{key:"setPerPage",value:function(e){return this.perPage=e,this}},{key:"setKeyword",value:function(e){return this.keyword=e,this}},{key:"getKeyword",value:function(){return this.keyword}},{key:"getPageNo",value:function(){return this.page}},{key:"getPerPage",value:function(){return this.perPage}}]),e}(),O=function(e){function t(){return f()(this,t),l()(this,h()(t).apply(this,arguments))}return p()(t,e),v()(t,[{key:"setData",value:function(e){if(void 0!==e.totalHits&&e.totalHits<=0)this._imageInfoList=new Array;else{if(void 0===e.hits)return this._imageInfoList=new Array,void this.getErrorMsg();this.total=e.totalHits,this._imageInfoList=e.hits.map(function(e){return new P(e)})}}},{key:"hasNextPage",value:function(){var e=this.requestOption.data.page,t=this.requestOption.data.per_page;return this.total>e*t}},{key:"imageInfoList",value:function(){return this._imageInfoList}},{key:"getErrorMsg",value:function(){return"Pixabay Image 를 가져오다 에러발생"}},{key:"getTotal",value:function(){return this.total}}]),t}(I.ApiResponse);!function(e){e.GENESIS="GENESIS",e.FETCHING="FETCHING",e.CACHED="CACHED",e.FAIL="FAIL"}(i||(i={}));var S=function(){function e(){f()(this,e)}var t,n,a,o,c,l,u;return v()(e,null,[{key:"fetchImages",value:(u=s()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=I.UnicornApiClient.getURL("".concat(_.CRM.get(y.a.PIXABAY_API_URL),"?").concat($.param(t))),e.next=3,I.ApiRequest.get(O,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},{key:"downloadStatusAll",value:(l=s()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=_.CRM.get(y.a.PIXABAY_DOWNLOAD_STATUS_All_API),e.abrupt("return",I.UnicornApiRequest.get(n,{data:{keys:t}}));case 2:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)})},{key:"downloadComplete",value:(c=s()(r.a.mark(function e(t){var n,a,o,s,c,l,u,h;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.downloadStatusAll(t);case 2:if((n=e.sent).data){e.next=5;break}return e.abrupt("return",!1);case 5:a=!0,o=!1,s=void 0,e.prev=8,c=n.data[Symbol.iterator]();case 10:if(a=(l=c.next()).done){e.next=20;break}if(u=l.value,(h=u.status)!==i.FAIL){e.next=15;break}return e.abrupt("continue",17);case 15:if(h===i.CACHED){e.next=17;break}return e.abrupt("return",!1);case 17:a=!0,e.next=10;break;case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(8),o=!0,s=e.t0;case 26:e.prev=26,e.prev=27,a||null==c.return||c.return();case 29:if(e.prev=29,!o){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(26);case 34:return e.abrupt("return",!0);case 35:case"end":return e.stop()}},e,this,[[8,22,26,34],[27,,29,33]])})),function(e){return c.apply(this,arguments)})},{key:"downloadStatus",value:(o=s()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=_.CRM.get(y.a.PIXABAY_DOWNLOAD_STATUS_API).replace("${key}",t),e.abrupt("return",I.UnicornApiRequest.get(n));case 2:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},{key:"startDownloadCompletePolling",value:(a=s()(r.a.mark(function e(t,n,a){var o,c=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=window.setInterval(s()(r.a.mark(function e(){var s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.downloadStatus(t);case 3:if((s=e.sent).data){e.next=7;break}return window.clearInterval(o),e.abrupt("return");case 7:if(s.data.status!==i.FAIL){e.next=11;break}return a&&a(),window.clearInterval(o),e.abrupt("return");case 11:if(s.data.status!==i.CACHED){e.next=15;break}return n&&n(),window.clearInterval(o),e.abrupt("return");case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(0),a&&a(),window.clearInterval(o),e.abrupt("return");case 22:case"end":return e.stop()}},e,null,[[0,17]])})),2e3),e.abrupt("return",o);case 2:case"end":return e.stop()}},e)})),function(e,t,n){return a.apply(this,arguments)})},{key:"requestToDownloadPixabayImage",value:(n=s()(r.a.mark(function e(t){var n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=k.get(t),i=JSON.stringify(n),e.next=4,I.UnicornApiRequest.post(_.CRM.get(y.a.PIXABAY_IMAGE_API),{data:i,contentType:"application/json"});case 4:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})},{key:"fetchImageInfoById",value:(t=s()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=_.CRM.get(y.a.PIXABAY_IMAGE_INFO_API).replace("${id}",t),e.next=3,I.UnicornApiRequest.get(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),e}(),P=function e(t){f()(this,e),this.id=t.id+"",this.type=t.type,this.tags=t.tags,this.previewURL=t.previewURL,this.webformatURL=t.webformatURL,this.imageURL=t.imageURL,this.imageWidth=t.imageWidth,this.imageHeight=t.imageHeight,this.uploadUser=t.user,k.set(this.id,this)},k=function(){function e(){f()(this,e)}var t;return v()(e,null,[{key:"set",value:function(t,n){e.informationStore.set(t,n)}},{key:"get",value:function(t){return e.informationStore.get(t)}},{key:"fetch",value:(t=s()(r.a.mark(function e(t){var n,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.get(t)){e.next=7;break}return e.next=4,S.fetchImageInfoById(t);case 4:return i=e.sent,this.set(t,i.data),e.abrupt("return",i.data);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();T()(k,"informationStore",new Map)},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(42),d=function(){function e(){c()(this,e)}var t;return u()(e,null,[{key:"selectLeftMenu",value:(t=o()(a.a.mark(function e(t){var n,i=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],e.next=3,h.a.instance.renderer.leftBar.activeMenu(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"showLeftMenu",value:function(){h.a.instance.renderer.leftBar.showLibrary()}},{key:"hideLeftMenu",value:function(){h.a.instance.renderer.leftBar.hideLibrary()}}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n(35),a=n.n(i),r=n(39),o=n.n(r),s=n(38),c=n.n(s),l=n(44),u=n.n(l),h=n(40),d=n.n(h),p=n(37),m=n.n(p),f=function(e){function t(){var e,n;a()(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=o()(this,(e=c()(t)).call.apply(e,[this].concat(r))),m()(u()(n),"renderAuto",!1),m()(u()(n),"changeDesign",function(){return!0}),m()(u()(n),"doSaveQueue",!0),n}return d()(t,e),t}(n(45).b)},function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return c});var i,a,r,o,s,c,l=n(35),u=n.n(l),h=n(36),d=n.n(h),p=n(37),m=n.n(p),f=function(){function e(t,n,i){u()(this,e),this._priority=t,this._value=n,this._viewText=i,e.all.push(this)}return d()(e,[{key:"priority",get:function(){return this._priority}},{key:"value",get:function(){return this._value}},{key:"viewText",get:function(){return this._viewText}}],[{key:"values",value:function(){return this.all}},{key:"valueOf",value:function(e){return this.values().filter(function(t){return t.value===e})[0]}}]),e}();m()(f,"all",[]),m()(f,"READONLY",new f(1,"READONLY","보기만가능")),m()(f,"COPY",new f(2,"COPY","복제가능")),m()(f,"EDITABLE",new f(3,"EDITABLE","편집가능")),function(e){e.ALL="ALL",e.MIRICANVAS="MIRICANVAS",e.BIZHOWS="BIZHOWS"}(i||(i={})),function(e){e.UPDATE_DATE="UPDATE_DATE",e.TITLE="TITLE",e.CREATE_DATE="CREATE_DATE"}(a||(a={})),function(e){e.ASC="ASC",e.DESC="DESC"}(r||(r={})),function(e){e.SHARED_DATE="SHARED_DATE",e.UPDATE_DATE="UPDATE_DATE",e.TITLE="TITLE"}(o||(o={})),function(e){e.ACTIVE="ACTIVE",e.DISABLED="DISABLED",e.DELETED="DELETED",e.PERMANENTLY_DELETE="PERMANENTLY_DELETE"}(s||(s={})),function(e){e.MIRICANVAS="MIRICANVAS",e.BIZHOWS="BIZHOWS"}(c||(c={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=function(){function e(){a()(this,e)}return o()(e,null,[{key:"setUserId",value:function(e){this.userInfo.userId=e,this.setUserInfoText()}},{key:"setDesignIdx",value:function(e){this.userInfo.designIdx=e,this.setUserInfoText()}},{key:"setRefTemplateKey",value:function(e){this.userInfo.refTemplateKey=e,this.setUserInfoText()}},{key:"setTemplateTypeList",value:function(e){this.userInfo.templateTypeList=e,this.setUserInfoText()}},{key:"setIp",value:function(){$.getJSON("https://api.ipify.org?format=json",function(t){e.userInfo.ip=t.ip,e.setUserInfoText()})}},{key:"setUserInfoText",value:function(){window.usrInfoText=JSON.stringify(this.userInfo)}}]),e}();c()(l,"userInfo",{userId:null,designIdx:null,refTemplateKey:null,ip:null,templateTypeList:[]})},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(3),m=n(42),f=n(243),g=n(47),v=n(43),E=n(45),T=n(112),I=function(){function e(){c()(this,e),d()(this,"configMap",new Map)}var t,n;return u()(e,null,[{key:"loadCookieConfig",value:function(){var e=this;T.a.values().forEach(function(t){var n=f.b.make({type:t,value:p.CookieUtil.getCookie(t.key)});null!==n&&(n.applyConfig(null),e.instance.configMap.set(t,n))})}},{key:"loadUserConfig",value:(n=o()(a.a.mark(function e(){var t,n,i,r,o=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=m.a.instance.user)&&t.isLogin()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,g.UnicornApiRequest.get(p.CRM.get(v.a.USER_CONFIG_API));case 5:if(n=e.sent,(i=n.data)&&!p.StringUtil.isEmpty(i.config)){e.next=9;break}return e.abrupt("return");case 9:try{r=JSON.parse(i.config),T.a.values().forEach(function(e){var t=r[e.key];if(t){var n=f.b.make({type:e,value:t});if(null!==n){var i=o.getConfigValue(e);o.instance.configMap.set(e,n),n.applyConfig(i),n.setCookie()}}})}catch(e){console.error("config 파싱 중 오류",e)}case 10:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"setConfig",value:(t=o()(a.a.mark(function e(t,n){var i,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(i=f.b.make({type:t,value:n}))){e.next=13;break}if(r=this.getConfigValue(t),i.applyConfig(r),m.a.dispatch(new E.c(function(e,t,n){return n.renderAll(e,t)})),i.doSave()&&r!==n){e.next=7;break}return e.abrupt("return");case 7:if(this.instance.configMap.set(t,i),i.setCookie(),!(o=m.a.instance.user)||!o.isLogin()){e.next=13;break}return e.next=13,g.UnicornApiRequest.post(p.CRM.get(v.a.USER_CONFIG_API),{data:{config:this.makeConfigParam()}});case 13:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"makeConfigParam",value:function(){var e={};return this.instance.configMap.forEach(function(t,n){t.doSave()&&(e[n.key]=t.value)}),JSON.stringify(e)}},{key:"getConfigValue",value:function(e){var t=this.instance.configMap.get(e);return t?t.value:null}}]),e}();d()(I,"instance",new I)},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(53),m=n(41),f=n(3),g=n(43),v=n(42),E=n(108),T=n(45),I=n(89),_=n(12),y=function(){function e(){c()(this,e),d()(this,"isLoginRequire",!1),d()(this,"isVisibleOnlyAdmin",!1),d()(this,"isVisibleOnlyDev",!1),d()(this,"isLoaded",!1),d()(this,"isActive",!1),d()(this,"itemAccessType",p.a.PUBLIC),this.menuBtn=this.makeMenuBtn(),this.loginView=e.makeLoginView(this.getLoginMsg())}var t;return u()(e,[{key:"makeMenuBtn",value:function(){var e=document.createElement("div"),t=this.getIcon();t&&Object(_.setToolsIcon)(e,t);var n=document.createElement("p");return n.innerText=f.CRM.get(this.getName()),e.appendChild(n),e}},{key:"checkLoginRequire",value:function(){var e=this.isLoginRequire&&!v.a.instance.user.isLogin();return e?this.element.appendChild(this.loginView):$(this.loginView).remove(),e}},{key:"getElement",value:function(){return this.element}},{key:"getMenuBtn",value:function(){return this.menuBtn}},{key:"active",value:function(){return v.a.dispatch(new T.c(function(e,t,n){n&&n.renderItemTools(e,t,!0)})),this.isActive=!0,this.menuBtn.classList.add(m.a.ACTIVE),this.element.classList.add(m.a.ACTIVE),this}},{key:"inactive",value:function(){return this.isActive=!1,this.menuBtn.classList.remove(m.a.ACTIVE),this.element.classList.remove(m.a.ACTIVE),this}},{key:"isVisible",value:function(){var e=v.a.getEnv();return!1===(this.isVisibleOnlyAdmin||this.isVisibleOnlyDev)||(!(!this.isVisibleOnlyAdmin||!e.adminMode)||!(!this.isVisibleOnlyDev||!e.devMode))}},{key:"show",value:function(){return this.menuBtn.classList.remove(m.a.HIDDEN),this.element.classList.remove(m.a.HIDDEN),this}},{key:"hide",value:function(){return this.menuBtn.classList.add(m.a.HIDDEN),this.element.classList.add(m.a.HIDDEN),this}},{key:"getLoginMsg",value:function(){return f.CRM.get(g.a.TOOLS_LIB_LOGIN_NOTI_MSG_DEFAULT)}},{key:"hasContents",value:function(){return!0}},{key:"getGTMItemData",value:function(e){return null}},{key:"getItemUseEventData",value:function(){return null}},{key:"resetMenuListLoadFlag",value:function(){}},{key:"setItemAccessType",value:(t=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.itemAccessType!==t){e.next=2;break}return e.abrupt("return");case 2:return this.itemAccessType=t,this.resetMenuListLoadFlag(),e.next=6,this.load();case 6:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"makeAdminUI",value:function(){var e=this;this.adminUIElement=document.createElement("div"),this.adminUIElement.className=m.a.ADMIN_UI;var t=document.createElement("ul"),n=document.createElement("li");n.className=m.a.ACTIVE,n.setAttribute("data-type",p.a.PUBLIC),n.addEventListener("click",function(){return s(n)}),n.innerText="공개",t.appendChild(n);var i=document.createElement("li");i.setAttribute("data-type",p.a.PRIVATE),i.addEventListener("click",function(){return s(i)}),i.innerText="비공개",t.appendChild(i);var r=document.createElement("li");r.setAttribute("data-type",p.a.DISABLED),r.addEventListener("click",function(){return s(r)}),r.innerText="비활성",t.appendChild(r),this.adminUIElement.appendChild(t);var s=function(){var n=o()(a.a.mark(function n(i){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return $(t).children().removeClass(m.a.ACTIVE),i.classList.add(m.a.ACTIVE),n.next=4,e.setItemAccessType(i.getAttribute("data-type"));case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}();return this.adminUIElement}},{key:"addDesignListItem",value:function(e){}},{key:"updateListItemThumbnail",value:function(e,t){}}],[{key:"makeLoginView",value:function(e){var t=document.createElement("div");t.className=m.a.LOGIN_NOTI_LAYER;var n=document.createElement("div");Object(_.setToolsIcon)(n,_.ToolsIcon.USER_PROFILE);var i=document.createElement("p");i.innerText=e,n.appendChild(i);var a=document.createElement("button");return a.innerText=f.CRM.get(g.a.TOOLS_LIB_LOGIN_BTN),a.addEventListener("click",function(){return E.a.openLoginPopup(I.a.LEFT_MENU)}),n.appendChild(a),t.appendChild(n),t}}]),e}()},,,function(e,t,n){"use strict";n.d(t,"c",function(){return U}),n.d(t,"d",function(){return G}),n.d(t,"a",function(){return F}),n.d(t,"f",function(){return H}),n.d(t,"b",function(){return V}),n.d(t,"g",function(){return W}),n.d(t,"h",function(){return K}),n.d(t,"e",function(){return Y});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(44),g=n.n(f),v=n(40),E=n.n(v),T=n(37),I=n.n(T),_=n(45),y=n(42),L=n(56),O=n(50),S=n(59),P=n(101),k=n(96),A=n(51),R=n(66),C=n(48),b=n(119),w=n(172),x=n(137),N=n(323),D=n(118),M=n(86),B=function(e){function t(e,n,i){var r;return c()(this,t),r=d()(this,m()(t).call(this)),I()(g()(r),"doSaveQueue",!0),I()(g()(r),"actionType",_.a.DELETE_ITEM),I()(g()(r),"isActionGroupEquals",function(e){return!1}),I()(g()(r),"concat",function(e){return!1}),I()(g()(r),"changeDesign",function(){return!0}),I()(g()(r),"rollbackAction",function(){var e=o()(a.a.mark(function e(t,n,i){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.imageframeItem.changePhoto(r.oldPhotoKey,r.oldOrgType,!1,!1,r.oldRatioId);case 2:y.a.dispatch(new M.c(r.imageframeItem)),r.imageframeItem.innerPhotoItem.setLTRBCoordinate(r.backupRect),r.imageframeItem.innerPhotoItem.itemPosition=r.backupImgRect.clone(),r.imageframeItem.setStatus(A.d.CHANGE),i.renderLayerThumb([r.imageframeItem]),i.renderCanvas(t,n);case 8:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(r),"recycle",function(){r.imageframeItem=null}),r.imageframeItem=e,r.photoKey=n,r.resourceType=i,r.oldPhotoKey=e.innerPhotoItem.props.getPhotoKey(),r.oldRatioId=e.innerPhotoItem.skinRatioId,r.backupRect=e.innerPhotoItem.getLTRBCoordinate(),r.backupImgRect=e.innerPhotoItem.itemPosition,r}return E()(t,e),u()(t,[{key:"resourceTypeToOriginType",value:function(e){switch(e){case C.a.PHOTO:return O.b.Photo;case C.a.PIXABAY:return O.b.Pixabay;case C.a.IMAGE:case C.a.BITMAP:return O.b.Sticker;default:return null}}}]),t}(_.b),U=function(e){function t(){var e,n;c()(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),I()(g()(n),"commitAction",function(){var e=o()(a.a.mark(function e(t,i,r){var o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.oldOrgType=n.imageframeItem.innerPhotoItem.orgType,n.resourceType!==C.a.PHOTO){e.next=10;break}if(!S.b.hasData(n.photoKey)){e.next=5;break}e.next=8;break;case 5:return o=k.a.getPhotoUrlWithIdx(n.photoKey),e.next=8,S.b.setUrlImage(n.photoKey,o);case 8:e.next=19;break;case 10:if(n.resourceType!==C.a.BITMAP&&n.resourceType!==C.a.IMAGE){e.next=19;break}if(!S.b.hasData(n.photoKey)){e.next=14;break}e.next=19;break;case 14:return e.next=16,P.a.from(t.getRepositoryType(),!0).getStickerData(n.photoKey);case 16:return s=e.sent.thumb800url,e.next=19,S.b.setUrlImage(n.photoKey,s);case 19:return e.next=21,n.imageframeItem.changePhoto(n.photoKey,n.resourceTypeToOriginType(n.resourceType),!1,!1,n.oldRatioId);case 21:y.a.dispatch(new M.c(n.imageframeItem)),n.imageframeItem.setStatus(A.d.CHANGE),r.renderLayerThumb([n.imageframeItem]),r.renderCanvas(t,i);case 25:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),n}return E()(t,e),t}(B),G=function(e){function t(){var e,n;c()(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),I()(g()(n),"commitAction",function(){var e=o()(a.a.mark(function e(t,i,r){var o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.oldOrgType=n.imageframeItem.innerPhotoItem.orgType,o=w.a.getFileIDWithKey(n.photoKey),e.next=4,x.d.requestToDownloadPixabayImage(o);case 4:if(s=x.b.get(o),S.b.hasData(n.photoKey)){e.next=8;break}return e.next=8,S.b.setUrlImage(n.photoKey,s.webformatURL);case 8:return e.next=10,n.imageframeItem.changePhoto(n.photoKey,O.b.Pixabay,!1,!1,n.oldRatioId);case 10:y.a.dispatch(new M.c(n.imageframeItem)),n.imageframeItem.setStatus(A.d.CHANGE),r.renderLayerThumb([n.imageframeItem]),r.renderCanvas(t,i);case 14:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),n}return E()(t,e),t}(B),F=function(e){function t(e){var n;return c()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"doSaveQueue",!0),I()(g()(n),"actionType",_.a.DELETE_ITEM),I()(g()(n),"isActionGroupEquals",function(e){return!1}),I()(g()(n),"concat",function(e){return!1}),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"commitAction",function(){var e=o()(a.a.mark(function e(t,i,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.backupImgRect=n.imageframeItem.innerPhotoItem.itemPosition.clone(),n.oldPhotoKey=n.imageframeItem.innerPhotoItem.props.getPhotoKey(),n.oldRatioId=n.imageframeItem.innerPhotoItem.skinRatioId,n.oldProps=n.imageframeItem.innerPhotoItem.props.clone(),n.oldOrgType=n.imageframeItem.innerPhotoItem.orgType,e.next=7,n.imageframeItem.changePhoto(n.imageframeItem.DROP_IMAGE_KEY,O.b.Photo,!1,!1,n.oldRatioId);case 7:y.a.dispatch(new M.c(n.imageframeItem)),n.imageframeItem.setStatus(A.d.CHANGE),r.renderCanvas(t,i,[n.imageframeItem]),r.renderLayerThumb([n.imageframeItem]);case 11:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(){var e=o()(a.a.mark(function e(t,i,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.imageframeItem.changePhoto(n.oldPhotoKey,n.oldOrgType,!1,!1,n.oldRatioId);case 2:y.a.dispatch(new M.c(n.imageframeItem)),n.imageframeItem.innerPhotoItem.setProps(n.oldProps.clone()),n.imageframeItem.innerPhotoItem.itemPosition=n.backupImgRect,n.imageframeItem.setStatus(A.d.CHANGE),r.renderLayerThumb([n.imageframeItem]),r.renderCanvas(t,i,[n.imageframeItem]);case 8:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"recycle",function(){n.imageframeItem=null}),n.imageframeItem=e,n}return E()(t,e),t}(_.b),H=function(e){function t(e){var n;return c()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"doSaveQueue",!0),I()(g()(n),"actionType",_.a.DELETE_ITEM),I()(g()(n),"isActionGroupEquals",function(e){return!1}),I()(g()(n),"concat",function(e){return!1}),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"commitAction",function(){var e=o()(a.a.mark(function e(t,i,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.backupImgRect=n.imageframeItem.innerPhotoItem.itemPosition.clone(),n.oldPhotoKey=n.imageframeItem.innerPhotoItem.props.getPhotoKey(),n.oldRatioId=n.imageframeItem.innerPhotoItem.skinRatioId,n.oldProps=n.imageframeItem.innerPhotoItem.props.clone(),n.oldFlipHor=n.imageframeItem.originPhotoFlipHor,n.oldFlipVer=n.imageframeItem.originPhotoFlipVer,e.next=8,n.imageframeItem.changePhoto(n.oldPhotoKey,n.imageframeItem.innerPhotoItem.orgType,!1,!1,n.oldRatioId);case 8:y.a.dispatch(new M.c(n.imageframeItem)),n.imageframeItem.setStatus(A.d.CHANGE),r.renderLayerThumb([n.imageframeItem]),r.renderCanvas(t,i,[n.imageframeItem]);case 12:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(){var e=o()(a.a.mark(function e(t,i,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.imageframeItem.changePhoto(n.oldPhotoKey,n.imageframeItem.innerPhotoItem.orgType,n.oldFlipHor,n.oldFlipVer,n.oldRatioId);case 2:y.a.dispatch(new M.c(n.imageframeItem)),n.imageframeItem.innerPhotoItem.setProps(n.oldProps.clone()),n.imageframeItem.innerPhotoItem.itemPosition=n.backupImgRect,n.imageframeItem.setStatus(A.d.CHANGE),r.renderLayerThumb([n.imageframeItem]),r.renderCanvas(t,i,[n.imageframeItem]);case 8:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"recycle",function(){n.imageframeItem=null}),n.imageframeItem=e,n}return E()(t,e),t}(_.b),V=function(e){function t(e){var n;return c()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"doSaveQueue",!0),I()(g()(n),"actionType",_.a.DELETE_ITEM),I()(g()(n),"isActionGroupEquals",function(e){return!1}),I()(g()(n),"concat",function(e){return!1}),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"commitAction",function(){var e=o()(a.a.mark(function e(t,i,r){var o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.backupPage?n.backupPage:n.backupPage=D.a.getItemIncludedPage(t.pages,n.imageframeItem)){e.next=3;break}return e.abrupt("return");case 3:return o.addItem(n.newPhotoItem),n.oldOrgType=n.imageframeItem.innerPhotoItem.orgType,e.next=7,n.imageframeItem.changePhoto(n.imageframeItem.DROP_IMAGE_KEY,O.b.Photo,!1,!1,"");case 7:y.a.dispatch(new M.c(n.imageframeItem)),n.imageframeItem.setStatus(A.d.CHANGE),L.a.selectItem(n.newPhotoItem),r.renderCanvas(t,i),r.renderHandler(t,i),r.renderLayerThumb([n.imageframeItem]);case 13:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(){var e=o()(a.a.mark(function e(t,i,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.backupPage.removeItem(n.newPhotoItem),e.next=3,n.imageframeItem.changePhoto(n.newPhotoItem.props.getPhotoKey(),n.oldOrgType,n.newPhotoItem.props.isFlipH(),n.newPhotoItem.props.isFlipV(),n.newPhotoItem.skinRatioId);case 3:y.a.dispatch(new M.c(n.imageframeItem)),n.imageframeItem.innerPhotoItem.setProps(n.newPhotoItem.props.clone()),n.imageframeItem.innerPhotoItem.setLTRBCoordinate(n.backupRect),n.imageframeItem.innerPhotoItem.itemPosition=n.backupImgRect.clone(),n.imageframeItem.setStatus(A.d.CHANGE),L.a.selectItem(n.imageframeItem),r.renderCanvas(t,i),r.renderHandler(t,i),r.renderLayerThumb([n.imageframeItem]);case 12:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"recycle",function(){n.imageframeItem=null,n.newPhotoItem=null,n.backupImgRect=null,n.backupRect=null}),n.imageframeItem=e,n.newPhotoItem=n.imageframeItem.innerPhotoItem.clone(),n.newPhotoItem.belongsTo=O.c.INDEPENDENT,n.newPhotoItem.photoCrop.isCropped=!1,n.backupRect=n.newPhotoItem.getLTRBCoordinate(),n.backupImgRect=n.newPhotoItem.itemPosition.clone(),n.newPhotoItem.setLTRBCoordinate(n.backupImgRect),n.newPhotoItem.itemPosition=n.backupImgRect.clone(),n}return E()(t,e),t}(_.b),W=function(e){function t(e){var n;return c()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"doSaveQueue",!1),I()(g()(n),"actionType",_.a.CROP_PHOTO),I()(g()(n),"isActionGroupEquals",function(e){return!1}),I()(g()(n),"concat",function(e){return!1}),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"commitAction",function(){var e=o()(a.a.mark(function e(t,i,r){var o,s,c,l;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.imageframeItem.isDefaultImage()){e.next=2;break}return e.abrupt("return");case 2:return(o=n.imageframeItem.innerPhotoItem).photoCrop.isCropped=!0,s=i.pageController.getItemRenderer(o),e.next=7,s.renderAutoAsync(i.pageEditScale);case 7:c=D.a.getItemIncludedPage(t.pages,n.imageframeItem),i.pageController.getItemRenderer(n.imageframeItem).tempChangeImageDom(""),l=N.a.getImageframeCropParam(i,c),y.a.dispatch(new b.b(o,l)),r.renderCanvas(t,i),r.renderHandler(t,i),n.imageframeItem=null;case 15:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(){var e=o()(a.a.mark(function e(t,n,i){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"recycle",function(){}),n.imageframeItem=e,n}return E()(t,e),t}(_.b),K=function(e){function t(){var e;return c()(this,t),e=d()(this,m()(t).call(this)),I()(g()(e),"doSaveQueue",!1),I()(g()(e),"isPossibleInCropMode",!0),I()(g()(e),"actionType",_.a.CROP_PHOTO_APPLY),I()(g()(e),"isActionGroupEquals",function(e){return!1}),I()(g()(e),"concat",function(e){return!1}),I()(g()(e),"changeDesign",function(){return!0}),I()(g()(e),"commitAction",function(){var t=o()(a.a.mark(function t(n,i,r){var o,s,c,l,u,h,d,p;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:y.a.dispatch(new b.c(e.photoItem)),r.renderHandler(n,i),s=n.pages[i.renderPageIdx],c=!0,l=!1,u=void 0,t.prev=6,h=s.getAllSingleItems()[Symbol.iterator]();case 8:if(c=(d=h.next()).done){t.next=16;break}if(p=d.value,!e.isValieFrame(p)){t.next=13;break}return o=p,t.abrupt("break",16);case 13:c=!0,t.next=8;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(6),l=!0,u=t.t0;case 22:t.prev=22,t.prev=23,c||null==h.return||h.return();case 25:if(t.prev=25,!l){t.next=28;break}throw u;case 28:return t.finish(25);case 29:return t.finish(22);case 30:L.a.selectItem(o),o.setStatus(A.d.CHANGE),r.renderCanvas(n,i,[o]),r.renderHandler(n,i),r.renderLayerThumb([o]),e.photoItem=null;case 36:case"end":return t.stop()}},t,null,[[6,18,22,30],[23,,25,29]])}));return function(e,n,i){return t.apply(this,arguments)}}()),I()(g()(e),"rollbackAction",function(){var e=o()(a.a.mark(function e(t,n,i){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(e),"recycle",function(){}),e.photoItem=y.a.instance.activeItems[0],e}return E()(t,e),u()(t,[{key:"isValieFrame",value:function(e){return e instanceof R.b&&e.innerPhotoItem.tbpeId===this.photoItem.tbpeId}}]),t}(_.b),Y=function(e){function t(e){var n;return c()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"actionType",_.a.SVG_DATA_UPDATE),I()(g()(n),"doSaveQueue",!1),I()(g()(n),"changeDesign",function(){return!0}),I()(g()(n),"commitAction",function(){var e=o()(a.a.mark(function e(t){var i,r,o,s,c,l,u,h,d,p,m,f,g,v,E,T,I;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=!0,r=!1,o=void 0,e.prev=3,s=t.pages[Symbol.iterator]();case 5:if(i=(c=s.next()).done){e.next=48;break}l=c.value,u=l.getAllSingleItems(),h=!0,d=!1,p=void 0,e.prev=11,m=u[Symbol.iterator]();case 13:if(h=(f=m.next()).done){e.next=31;break}if(!((g=f.value)instanceof R.b&&g.data.key===n.svgData.key)){e.next=28;break}return v=g.svgScale,E=new R.b(g.tbpeId,n.svgData,g.props.getLeft(),g.props.getTop(),g.props.getLeft()+n.svgData.width*v,g.props.getTop()+n.svgData.height*v,g.props.getRotate(),g.props.isFlipH(),g.props.isFlipV()),T=u.indexOf(g),I=g.innerPhotoItem,E.initFramePosition(),e.next=23,E.changePhoto(I.props.getPhotoKey(),I.orgType,g.originPhotoFlipHor,g.originPhotoFlipVer,I.skinRatioId);case 23:return y.a.dispatch(new M.c(g)),e.next=26,E.initPhoto();case 26:l.removeItem(g),l.addItem(E,T);case 28:h=!0,e.next=13;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(11),d=!0,p=e.t0;case 37:e.prev=37,e.prev=38,h||null==m.return||m.return();case 40:if(e.prev=40,!d){e.next=43;break}throw p;case 43:return e.finish(40);case 44:return e.finish(37);case 45:i=!0,e.next=5;break;case 48:e.next=54;break;case 50:e.prev=50,e.t1=e.catch(3),r=!0,o=e.t1;case 54:e.prev=54,e.prev=55,i||null==s.return||s.return();case 57:if(e.prev=57,!r){e.next=60;break}throw o;case 60:return e.finish(57);case 61:return e.finish(54);case 62:case"end":return e.stop()}},e,null,[[3,50,54,62],[11,33,37,45],[38,,40,44],[55,,57,61]])}));return function(t){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(){}),I()(g()(n),"recycle",function(){}),n.svgData=e,n}return E()(t,e),t}(_.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return W}),n.d(t,"b",function(){return K});var i=n(39),a=n.n(i),r=n(38),o=n.n(r),s=n(44),c=n.n(s),l=n(40),u=n.n(l),h=n(0),d=n.n(h),p=n(1),m=n.n(p),f=n(35),g=n.n(f),v=n(36),E=n.n(v),T=n(37),I=n.n(T),_=n(45),y=n(42),L=n(263),O=n(3),S=n(43),P=n(152),k=n(111),A=n(78),R=n(218),C=n(52),b=n(56),w=n(117),x=n(48),N=n(58),D=n(128),M=n(142),B=n(164),U=n(124),G=n(86),F=n(267),H=n(155),V=function(){function e(t,n,i){g()(this,e),I()(this,"doSaveQueue",!0),I()(this,"isActionGroupEquals",function(e){return!1}),I()(this,"concat",function(e){return!1}),I()(this,"changeDesign",function(){return!0}),I()(this,"isLastSavedAction",!1),this.targetPageIdx=t,this.originSheetSize=n,this.noChangeGuideline=i}return E()(e,[{key:"commit",value:function(e,t,n){var i=this;if(b.a.unselectAllItems(),this.newPage)return n.canvasRenderer.scrollToPage(this.targetPageIdx),e.pages[this.targetPageIdx]=this.newPage,n.canvasRenderer.updatePagingManager(),void n.renderAll(e,t);this.oldPage=e.pages[this.targetPageIdx],L.a.open(O.CRM.get(S.a.TOOLS_POPUP_DESIGN_LOAD_LOADING_MSG),O.CRM.get(S.a.TOOLS_POPUP_DESIGN_LOAD_LOADING_CANCEL)),this.loadPage(e).then(function(){var t=m()(d.a.mark(function t(a){var r,o;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object.assign({},a.sheetSize),i.originSheetSize&&(a.changeSheetSize(i.originSheetSize,P.a.FIT),e.replacePage(a,i.targetPageIdx),a=e.pages[i.targetPageIdx],r=a.sheetSize),a.changeSheetSize(i.oldPage.sheetSize),i.noChangeGuideline&&(a.guidelineFactoryInfos=i.oldPage.guidelineManager.getGuidelineFactoryInfos()),e.replacePage(a,i.targetPageIdx),L.a.close(),o={beforeSheetSize:r,pageTargetAll:!1,targetPageIdx:i.targetPageIdx},i.oldPage.sheetSize.width/i.oldPage.sheetSize.height!=r.width/r.height){t.next=13;break}return o.selectedType=P.a.FIT,t.next=11,P.b.instance.arrange(o,!0,!1);case 11:t.next=16;break;case 13:return n.canvasRenderer.printout.clearAllAlertGuide(),t.next=16,P.b.instance.render(o,!1);case 16:B.a.loadPageResource(a,i.getRepositoryType()).then(function(){B.a.renderPage(a),B.a.renderOther()}).catch(function(e){return console.error(e)}),y.a.dispatch(new G.e),F.a.containsUnsupportedLicense()&&H.c.showAutoClosePusher();case 19:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){console.error(e),L.a.close()}),b.a.unselectAllItems()}},{key:"rollback",value:function(e,t,n){n.canvasRenderer.scrollToPage(this.targetPageIdx),this.newPage=e.pages[this.targetPageIdx],e.pages[this.targetPageIdx]=this.oldPage,n.canvasRenderer.syncPageRenderers(e.pages),b.a.unselectAllItems(),n.canvasRenderer.updatePagingManager(),n.renderAll(e,t)}},{key:"recycle",value:function(){this.oldPage=null,this.newPage=null}}]),e}(),W=function(e){function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y.a.instance.renderPageIdx,s=arguments.length>3?arguments[3]:void 0;return g()(this,t),i=a()(this,o()(t).call(this,r,s,!0)),I()(c()(i),"actionType",_.a.TEMPLATE_PAGE_LOAD),I()(c()(i),"isPageAction",!0),i.designParam=e,i.templatePageIdx=n,i}var n;return u()(t,e),E()(t,[{key:"loadPage",value:(n=m()(d.a.mark(function e(n){var i,a,r,o,s,c,l,u;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.make(this.designParam).load(!1,U.a.LOADING_ITEM);case 2:return i=e.sent,a=i.pages[this.templatePageIdx],e.next=6,new w.a(a.getAllSingleItems(),this.designParam).commitAction(n);case 6:if(e.prev=6,r=a.reference,o=this.isPageAction?"페이지 선택":"템플릿 선택",s=this.isPageAction?" pageNo: ".concat(a.reference.templatePageNo):"",this.designParam.repositoryType!==C.a.UNICORN){e.next=18;break}if((c=this.designParam).resourceType!==x.a.TEMPLATE){e.next=16;break}return e.next=13,D.a.findOne(c.idx);case 13:l=e.sent,M.a.setTemplateTypeList(l.templateTypeList),M.a.setRefTemplateKey(String(c.idx));case 16:e.next=21;break;case 18:u=this.designParam,M.a.setTemplateTypeList([{id:null,title:"타입없음-비즈하우스"}]),M.a.setRefTemplateKey(String(u.designIdx));case 21:t.copyPageInfoToLoadedPage(this.oldPage,a),N.a.sendEvent("템플릿 선택",o,"".concat(r.templateRepositoryType," - ").concat(r.templateKey).concat(s),!0),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(6);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}},e,this,[[6,25]])})),function(e){return n.apply(this,arguments)})},{key:"setTemplateAction",value:function(){return this.isPageAction=!1,this}},{key:"getRepositoryType",value:function(){return this.designParam.repositoryType}}],[{key:"copyPageInfoToLoadedPage",value:function(e,t){t.title=e.title}}]),t}(V),K=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.a.instance.renderPageIdx;return g()(this,t),n=a()(this,o()(t).call(this,i)),I()(c()(n),"actionType",_.a.TEMPLATE_PAGE_LOAD),n.sheetKey=e,n}var n,i;return u()(t,e),E()(t,[{key:"loadPage",value:(i=m()(d.a.mark(function e(n){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadPageFromSheetKey(n,this.sheetKey,this.targetPageIdx);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getRepositoryType",value:function(){return C.a.UNICORN}}],[{key:"loadPageFromSheetKey",value:(n=m()(d.a.mark(function e(t,n,i){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.a.getSheetData(n);case 2:return a=e.sent,r=R.a.parseUnicornXML([a]).xml[0],e.next=6,t.parsePage(i,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)})),function(e,t,i){return n.apply(this,arguments)})}]),t}(V)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n(42);function a(e,t){var n=i.a.instance;return{offsetX:e/=n.zoomScale,offsetY:t/=n.zoomScale}}},,,function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"a",function(){return i});var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(35),l=n.n(c),u=n(36),h=n.n(u),d=n(37),p=n.n(d),m=n(153),f=n(3),g=n(43),v=n(45),E=n(42),T=n(41),I=n(56),_=n(86),y=function(){function e(t){l()(this,e),this.elementId=t}var t,n;return h()(e,[{key:"makeElement",value:function(){var e=this;function t(e){var t=document.createElement("div"),n=document.createElement("div");n.className=T.a.CHECKBOX_WRAP,n.appendChild(document.createElement("div")),t.appendChild(n);var a=document.createElement("span");return a.innerText=f.CRM.get(function(e){switch(e){case i.FILL:return g.a.ITEM_ARRANGE_TYPE_SELECTOR_FILL;case i.FIT:return g.a.ITEM_ARRANGE_TYPE_SELECTOR_FIT;case i.ORIGINAL:return g.a.ITEM_ARRANGE_TYPE_SELECTOR_ORIGINAL}}(e)),t.appendChild(a),t}this.element=document.getElementById(this.elementId),this.element.addEventListener("mousedown",function(e){return e.stopPropagation()}),this.radioTool=new m.a(function(){return e.arrange()},[{labelElement:t(i.FILL),value:i.FILL},{labelElement:t(i.FIT),value:i.FIT,selected:!0},{labelElement:t(i.ORIGINAL),value:i.ORIGINAL}]),this.element.appendChild(this.radioTool.render())}},{key:"render",value:(n=s()(r.a.mark(function t(n){var i,a=this,o=arguments;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!(o.length>1&&void 0!==o[1])||o[1],t.next=3,this.arrange(n,!0,i);case 3:if(!e.isExistOnlyBackgroundOrNothingItemsOfAllPage()){t.next=6;break}return t.abrupt("return");case 6:this.element.classList.add(T.a.ACTIVE),$(document.body).on(e.CLOSE_EVENT_NAME,function(){a.complete(),$(document.body).off(e.CLOSE_EVENT_NAME)});case 8:case"end":return t.stop()}},t,this)})),function(e){return n.apply(this,arguments)})},{key:"setCurrentActionProp",value:function(e){var t=this;this.arrangeParam=e,this.originalSizeClonePages=[],E.a.dispatch(new v.c(function(e){e.pages.forEach(function(e){return t.originalSizeClonePages.push(e.clone())})})),e.selectedType&&this.radioTool.select(e.selectedType,!1)}},{key:"arrange",value:(t=s()(r.a.mark(function e(t){var n,i,a=this,o=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(o.length>1&&void 0!==o[1])||o[1],i=!(o.length>2&&void 0!==o[2])||o[2],e.abrupt("return",new Promise(function(e,o){try{a.element||a.makeElement(),t&&a.setCurrentActionProp(t),E.a.dispatch(new v.c(function(){var o=s()(r.a.mark(function o(s,c,l){return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a.arrangeParam.pageTargetAll?s.pages.forEach(function(e){a.arrangePage(e)}):a.arrangePage(s.pages[a.arrangeParam.targetPageIdx]),!n){r.next=14;break}return i&&l.canvasRenderer.updateZoomFitAfterRender(),l.handler.updateHandlerPosition(),I.a.unselectAllItems(),l.canvasRenderer.syncPageRenderers(s.pages),l.canvasRenderer.updatePagingManager(),r.next=9,l.renderAll(s,c);case 9:if(t){r.next=12;break}return r.next=12,(new _.d).commitAction(s,c,l);case 12:l.canvasRenderer.scrollToPage(a.arrangeParam.targetPageIdx),e();case 14:case"end":return r.stop()}},o)}));return function(e,t,n){return o.apply(this,arguments)}}()))}catch(e){o()}}));case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"arrangePage",value:function(e){this.rollbackItemPosition(e),e.arrangeItems(this.getSelectedArrangeType(),this.arrangeParam.beforeSheetSize)}},{key:"rollbackItemPosition",value:function(e){var t=this.originalSizeClonePages[e.pageIdx].getAllSingleItems(),n=e.getAllSingleItems(),i=t.find(function(e){return!e.isOnlyOneItem()}),a=n.find(function(e){return!e.isOnlyOneItem()});if(i&&a&&t.length===n.length){var r=i.getLTRBCoordinate(),o=a.getLTRBCoordinate(),s=r.getWidth()/o.getWidth();o.changeScale(s);var c=r.left-o.left,l=r.top-o.top;n.forEach(function(e){e.isOnlyOneItem()||(e.scale(s),e.move(c,l,{forceMove:!0}))})}}},{key:"getSelectedArrangeType",value:function(){return this.radioTool?this.radioTool.getValue():i.FIT}},{key:"complete",value:function(){this.element.classList.remove(T.a.ACTIVE)}},{key:"updateOriginalPagesGuideLineInfo",value:function(){var e=this;E.a.dispatch(new v.c(function(t){t.pages.forEach(function(t,n){var i=e.originalSizeClonePages[n];i&&(i.guidelineFactoryInfos=t.guidelineManager.getGuidelineFactoryInfos())})}))}}],[{key:"isExistOnlyBackgroundOrNothingItemsOfAllPage",value:function(){var e=!1;return E.a.dispatch(new v.c(function(t){var n=!0,i=!1,a=void 0;try{for(var r,o=t.pages[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value,c=s.items.length;if(c>1){e=!1;break}if(1===c){if(!s.background.backgroundItem){e=!1;break}e=!0}else e=!0}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}})),e}}]),e}();p()(y,"instance",new y("itemArrangeTypeSelector")),p()(y,"CLOSE_EVENT_NAME","mousedown.".concat(f.StringUtil.random())),function(e){e.FILL="FILL",e.FIT="FIT",e.ORIGINAL="ORIGINAL"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return _});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(39),c=n.n(s),l=n(38),u=n.n(l),h=n(44),d=n.n(h),p=n(40),m=n.n(p),f=n(37),g=n.n(f),v=n(154),E=n(41),T=n(3),I=n(58),_=function(e){function t(e,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.a.RADIO_TOOL;return a()(this,t),i=c()(this,u()(t).call(this)),g()(d()(i),"disabled",!1),i.changeAction=e,i.className=r,i.init(n),i}return m()(t,e),o()(t,[{key:"init",value:function(e){var t=this;this.element.classList.add(this.className),$(this.element).off("click").on("click","button",function(e){var n=e.currentTarget.getAttribute("data-value");t.disabled||t.selectedValue&&t.selectedValue===n||t.select(n)}),T.ArrayUtil.isEmpty(e)||e.forEach(function(e){return t.addBtn(e)})}},{key:"addBtn",value:function(e){var n=t.renderBtn(e);return e.selected&&(this.clearSelect(),this.selectedValue=e.value,n.classList.add(E.a.ACTIVE)),this.element.appendChild(n),this}},{key:"updateUI",value:function(e){this.element.innerHTML="";var t=!0,n=!1,i=void 0;try{for(var a,r=e[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;this.addBtn(o)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"render",value:function(){return this.element}},{key:"clearSelect",value:function(){this.selectedValue="",$(this.element).children("button").removeClass(E.a.ACTIVE)}},{key:"getValue",value:function(){return this.selectedValue}},{key:"select",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$(this.element).find('button[data-value="'.concat(e,'"]'));0!==n.length&&(this.clearSelect(),n.addClass(E.a.ACTIVE),this.selectedValue=e,t&&this.changeAction(this.selectedValue))}},{key:"setDisable",value:function(){this.element.classList.add(E.a.DISABLE),this.disabled=!0}},{key:"hideButton",value:function(e){var t=$(this.element).find('button[data-value="'.concat(e,'"]'));0!==t.length&&t.hide()}},{key:"showButton",value:function(e){var t=$(this.element).find('button[data-value="'.concat(e,'"]'));0!==t.length&&t.show()}},{key:"setGtmData",value:function(e){for(var t=0,n=this.element.childElementCount;t<n;t++)I.a.setGTMValue(this.element.children.item(t),e)}}],[{key:"renderBtn",value:function(e){var t=document.createElement("button");return t.type="button",e.labelElement?t.appendChild(e.labelElement):t.innerText=e.label,t.setAttribute("data-value",e.value),t}}]),t}(v.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(35),a=n.n(i),r=n(37),o=n.n(r),s=function e(){a()(this,e),o()(this,"element",document.createElement("div"))}},function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=n(47),u=function(){function e(){a()(this,e),this.pusher||this.makePusher()}return o()(e,[{key:"getCustomTypeElement",value:function(){return e.instance.customTypeElement.cloneNode(!0)}},{key:"getPusherParam",value:function(){return{type:l.PusherPopupType.CUSTOM,customTypeElement:e.instance.getCustomTypeElement(),title:e.PUSHER_TITLE,content:e.PUSHER_CONTENTS}}},{key:"makePusher",value:function(){this.pusher=new l.NotificationPusher({allowSameType:!1});var e=this.customTypeElement=document.createElement("span");e.classList.add("unsupported_license");var t=document.createElement("div");t.classList.add("unsupported_license_alert_icon"),e.appendChild(t)}}],[{key:"hidePusher",value:function(){e.instance.pusher.closeAll()}},{key:"showPusher",value:function(){var t=e.instance;t.pusher.pushNotification(t.getPusherParam())}},{key:"showAutoClosePusher",value:function(){var t=e.instance;t.pusher.pushNotification(t.getPusherParam(),5e3)}}]),e}();c()(u,"instance",new u),c()(u,"PUSHER_TITLE","라이센스 미지원 요소"),c()(u,"PUSHER_CONTENTS","해당 요소는 라이센스 지원이 종료되어 사용이 불가능한 요소입니다. 다른 요소로 교체하여 사용해주세요.");var h,d=function(){function e(){a()(this,e),this.contents="라이센스 미지원 요소를 사용하였습니다. 미지원 요소를 삭제하거나 다른 요소로 교체 후 다시 시도해주세요."}return o()(e,[{key:"hidePopup",value:function(){e.pusher&&e.pusher.closeAll()}},{key:"showFailedActionPopup",value:function(t){var n=document.createElement("span");n.classList.add("unsupported_license");var i=document.createElement("div");i.classList.add("unsupported_license_alert_icon"),n.appendChild(i);var a=e.pusher;a||(a=e.pusher=new l.NotificationPusher({allowSameType:!0,maxNum:1}));var r={type:l.PusherPopupType.CUSTOM,customTypeElement:n,title:t,content:this.contents};a.pushNotification(r)}}]),e}();!function(e){e.NONE="",e.SAVE="저장이 불가능합니다.",e.DOWNLOAD="다운로드가 불가능합니다.",e.PRESENTATION="슬라이드 쇼가 불가능합니다.",e.SHARE="공유가 불가능합니다.",e.ADD_CART="장바구니 추가가 불가능합니다.",e.COPY_DESIGN="복사본 만들기가 불가능합니다."}(h||(h={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=function(){function e(){a()(this,e)}return o()(e,null,[{key:"getResourceKey",value:function(t,n,i){var a=t+e.DELIMITER+n;return null!=i&&(a+=e.DELIMITER+i),a}},{key:"parseResourceKey",value:function(t){var n=t.split(e.DELIMITER);return n&&n.length>1?{resourceType:n[0],key:n[1],repositoryType:n.length>2?n[2]:null}:null}}]),e}();c()(l,"DELIMITER","__abcd__")},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(3),c=function(){function e(t){a()(this,e),this.target=t}return o()(e,[{key:"show",value:function(e){this.element||this.render(),this.element.style.zIndex=e?String(e):"",$(this.target).prepend(this.element)}},{key:"render",value:function(){this.element=document.createElement("div"),this.element.id=s.StringUtil.random(),this.element.className="loading",this.element.innerHTML="<div><span></span><span></span><span></span><span></span><span></span></div>"}},{key:"hide",value:function(){$(this.element).remove()}}]),e}()},,,function(e,t,n){"use strict";var i,a,r,o;n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),function(e){e.JPG="jpg",e.PNG="png",e.PNG_TRANSPARENT="png_transparent",e.PDF="pdf"}(i||(i={})),function(e){e.QUICK="quick",e.HIGH_RESOLUTION="high_resolution"}(a||(a={})),function(e){e.WEB="web",e.PRINT="print"}(r||(r={})),function(e){e.WIDTH="width",e.HEIGHT="height"}(o||(o={}))},,function(e,t,n){"use strict";var i=n(73),a=n.n(i),r=n(0),o=n.n(r),s=n(1),c=n.n(s),l=n(35),u=n.n(l),h=n(36),d=n.n(h),p=n(39),m=n.n(p),f=n(44),g=n.n(f),v=n(38),E=n.n(v),T=n(46),I=n.n(T),_=n(40),y=n.n(_),L=n(37),O=n.n(L),S=n(41),P=n(3),k=n(156),A=n(42),R=n(122),C=n(43),b=n(108),w=n(268),x=n(177),N=n(89),D=n(12),M=n(120),B=function(){function e(){u()(this,e),O()(this,"initList",!1),O()(this,"pageSize",30),O()(this,"doJustify",!0),this.element=document.createElement("div")}var t,n,i;return d()(e,[{key:"isOnlyVisibleInAdminMode",value:function(){return!1}},{key:"isOnlyVisibleInDevMode",value:function(){return!1}},{key:"getElement",value:function(){return this.element}},{key:"makeListItem",value:function(t){var n=this,i=e.getResourceKey(t),a=k.a.getResourceKey(t.key.resourceType,t.key.referenceKey,t.key.repositoryType),r=document.createElement("li");r.draggable=!0,r.id=P.StringUtil.random(),r.setAttribute(e.ATTRIBUTE_RESOURCE_KEY,i),r.setAttribute(e.ATTRIBUTE_MY_COLLECTION_KEY,a),r.addEventListener("click",function(){n.clickListItem(t,r)}),t.myCollectionIdx&&$(r).addClass(S.a.MY_COLLECTION).data(e.DATA_MY_COLLECTION_IDX,String(t.myCollectionIdx));var o=this.makeListItemThumb(t);r.appendChild(o),this.doJustify||(o.onload=function(){o.height<x.a.SHORT_HEIGHT&&r.classList.add(S.a.SHORT)});var s=P.ArrayUtil.isEmpty(t.thumbList)?null:t.thumbList[0],c=this.makeHoverLayer(t,r);return s&&(c.style.backgroundImage="url(".concat(o.src,")")),r.appendChild(c),r}},{key:"getJustifiedListToolOption",value:function(){return{rowWidth:312,defaultRowHeight:124,horizonMargin:8}}},{key:"clickListItem",value:function(t,n){var i=A.a.instance,a=i.size,r=a.pageOffsetX*i.zoomScale+a.pageWidth*i.zoomScale/2,o=a.pageOffsetY*i.zoomScale+a.pageHeight*i.zoomScale/2;A.a.dispatch(new R.a(A.a.instance.renderPageIdx,r,o,e.getResourceKey(t)))}},{key:"makeHoverLayer",value:function(e,t){var n=document.createElement("div");return n.className=S.a.BTN_LAYER,n.draggable=!0,n.addEventListener("dragstart",function(e){$(t).addClass("dragging"),e.dataTransfer.setData("text",t.id)}),n.addEventListener("dragend",function(){$(t).removeClass("dragging")}),n}},{key:"makeListItemThumb",value:function(e){var t=P.ArrayUtil.isEmpty(e.thumbList)?null:e.thumbList[0],n=M.a.getImageElementWithReplaceableThumbnail();return n.src=t,n}},{key:"checkLogin",value:function(e){this.loginNotiLayer||this.makeLoginNotiLayer(e);var t=A.a.instance.user.isLogin();return t?$(this.loginNotiLayer).remove():this.element.appendChild(this.loginNotiLayer),t}},{key:"makeLoginNotiLayer",value:function(e){var t=this.loginNotiLayer=document.createElement("div");t.className=S.a.LOGIN_NOTI_LAYER;var n=document.createElement("div");Object(D.setToolsIcon)(n,D.ToolsIcon.USER_PROFILE);var i=document.createElement("p");i.innerText=this.getLoginNotiMsg(),n.appendChild(i);var a=document.createElement("button");a.innerText=P.CRM.get(C.a.TOOLS_LIB_LOGIN_BTN),a.addEventListener("click",function(){b.a.openLoginPopup(N.a.TEMP,e)}),n.appendChild(a),t.appendChild(n)}},{key:"getLoginNotiMsg",value:function(){return P.CRM.get(C.a.TOOLS_LIB_LOGIN_NOTI_MSG_DEFAULT)}},{key:"isInitList",value:function(){return this.initList}},{key:"updateUI",value:function(e,t){this.paginationListTool&&this.paginationListTool.setPaginationMode(t.config.leftMenuPaginationMode),this.initList=!1,this.isSelected()&&this.loadList()}},{key:"isSelected",value:function(){return this.element.classList.contains(S.a.ACTIVE)}},{key:"loadList",value:(i=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.initList=!0,!this.paginationListTool){e.next=4;break}return e.next=4,this.paginationListTool.initList();case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"makePaginationListTool",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.paginationListTool=new w.a(function(t){return e.requestPaginationListAction(t)},{listItemRenderAction:function(t){return e.makeListItem(t)},justifyOption:t?this.getJustifiedListToolOption():null},this.pageSize,A.a.instance.config.leftMenuPaginationMode),this.paginationListTool}},{key:"requestPaginationListAction",value:(n=c()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{listItemParams:[],totalRow:0});case 1:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})},{key:"preload",value:function(){}},{key:"init",value:(t=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})}],[{key:"getResourceKey",value:function(e){var t=e.key.resourceType,n=e.key.repositoryType,i=e.key.referenceKey,a=e.dropEventKey?e.dropEventKey:i;return k.a.getResourceKey(t,a,n)}},{key:"makeEmptyListView",value:function(){var e=document.createElement("div");e.className=S.a.EMPTY_LIST_NOTI_LAYER;var t=document.createElement("div");Object(D.setToolsIcon)(t,D.ToolsIcon.ZOOM);var n=document.createElement("p");n.classList.add(S.a.TITLE),n.innerHTML=P.CRM.get(C.a.TOOLS_LIB_LIST_EMPTY_MESSAGE),t.appendChild(n);var i=document.createElement("p");return i.innerHTML=P.CRM.get(C.a.TOOLS_LIB_LIST_EMPTY_MESSAGE_2),t.appendChild(i),e.appendChild(t),e}}]),e}();O()(B,"ATTRIBUTE_MY_COLLECTION_KEY","data-my-collection-key"),O()(B,"ATTRIBUTE_RESOURCE_KEY","data-resource-key"),O()(B,"DATA_MY_COLLECTION_IDX","myCollectionIdx");var U,G,F=n(48),H=n(52),V=n(130),W=n(47),K=n(193),Y=n(59),z=n(377),X=n(269),j=n(50),Z=n(45),q=n(56),Q=n(113),J=n(72),ee=n(231);!function(e){e.MY_COLLECTION="MY_COLLECTION",e.DESIGN_TYPE="DESIGN_TYPE",e.SVG="SVG",e.DOCUMENT="DOCUMENT"}(U||(U={})),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e.PERMANENTLY_INACTIVE="PERMANENTLY_INACTIVE"}(G||(G={}));var te=function(){function e(){u()(this,e);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];this.menus=n||[],this.element=document.createElement("div"),this.element.className="menu_list",this.element.addEventListener("click",function(e){return e.stopPropagation()}),this.show()}return d()(e,[{key:"clearAll",value:function(){this.menus=[]}},{key:"render",value:function(){return this.updateUI(),this.element}},{key:"updateUI",value:function(){var e=this;this.element.innerHTML="",this.menus.forEach(function(t){e.element.appendChild(t.render())})}},{key:"addMenu",value:function(e){return this.menus.push(e),this}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isHide=!1,this.element.style.display="",t&&$(document.body).on("click.menuListPopup",function(){return e.hide()})}},{key:"hide",value:function(){this.isHide=!0,this.element.style.display="none",$(document.body).off("click.menuListPopup")}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isHide?this.show(e):this.hide()}}]),e}(),ne=function(e){function t(){return u()(this,t),m()(this,E()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"getSelectedMenu",value:function(){return this.menus.filter(function(e){return e.isSelected()})[0]}},{key:"setSelectMenu",value:function(e){return this.menus.forEach(function(t){return t.setSelect(e===t.getValue())}),this.menus.some(function(t){return t.getValue()===e})}}]),t}(te),ie=function(){function e(t){var n=this;u()(this,e),O()(this,"listener",[]),this.element=document.createElement("div"),this.element.className="menu_checkbox",this.radio=document.createElement("input"),this.radio.type="radio",this.radio.name=t.name||"",this.radio.value=t.value||"",this.radio.checked=t.checked,this.radio.addEventListener("change",function(){n.listener.forEach(function(e){return e(n)})}),this.value=this.radio.value,this.text=t.text;var i=document.createElement("label");i.appendChild(this.radio),Object(D.setToolsIcon)(i,D.ToolsIcon.CHECK,!0),i.appendChild(document.createTextNode(t.text)),this.element.appendChild(i)}return d()(e,[{key:"select",value:function(){this.radio.checked=!0}},{key:"deselect",value:function(){this.radio.checked=!1}},{key:"setSelect",value:function(e){e?this.select():this.deselect()}},{key:"isSelected",value:function(){return this.radio.checked}},{key:"getValue",value:function(){return this.value}},{key:"getText",value:function(){return this.text}},{key:"addChangeListener",value:function(e){this.listener.push(e)}},{key:"render",value:function(){return this.element}}]),e}(),ae=function(){function e(t,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];u()(this,e),O()(this,"listener",[]),this.element=document.createElement("div"),this.element.className="radio_select_tool",this.selectedText=document.createElement("div"),this.selectedText.className="selected_text",this.element.appendChild(this.selectedText),this.radioListTool=new ne,this.updateUI(t,n),this.radioListTool.hide(),this.element.appendChild(this.radioListTool.render()),this.element.addEventListener("click",function(e){e.stopPropagation(),i.radioListTool.toggle(a)}),Object(D.setToolsIcon)(this.element,D.ToolsIcon.CARET,!0)}return d()(e,[{key:"addChangeEventListener",value:function(e){this.listener.push(e)}},{key:"getSelectedMenu",value:function(){return this.radioListTool.getSelectedMenu()}},{key:"setSelectMenu",value:function(e){this.radioListTool.setSelectMenu(e.value)&&this.updateSelectedText(e.text)}},{key:"updateSelectedText",value:function(e){this.selectedText.innerText=e}},{key:"render",value:function(){return this.element}},{key:"updateUI",value:function(e,t){var n=this;this.radioListTool.clearAll();for(var i=t.filter(function(e){return e.isSelected}),a=i.length>0?i[i.length-1]:null,r=0;r<t.length;r++){var o=t[r],s=new ie({name:e,value:o.value,text:o.text,checked:a?a===o:0===r});s.isSelected()&&this.updateSelectedText(s.getText()),s.addChangeListener(function(e){n.updateSelectedText(e.getText()),n.listener.forEach(function(t){return t(e)}),n.radioListTool.hide()}),this.radioListTool.addMenu(s)}this.radioListTool.updateUI()}}]),e}(),re=function(){function e(t){u()(this,e),O()(this,"normalModeButtons",[]),O()(this,"selectModeButtons",[]),O()(this,"recycleBinButtons",[]),this.uploadLib=t,this.element=document.createElement("div"),this.element.classList.add("upload_header"),this.buttonsRightWrap=document.createElement("div"),this.buttonsRightWrap.classList.add("upload_header_right_button_wrap"),this.buttonsLeftWrap=document.createElement("div"),this.buttonsLeftWrap.classList.add("upload_header_left_button_wrap"),this.titleElem=document.createElement("div"),this.titleElem.className="header_title_wrap",this.element.appendChild(this.titleElem),this.element.appendChild(this.buttonsLeftWrap),this.element.appendChild(this.buttonsRightWrap),this.renderTitleWrap(),this.makeButtons(),this.renderNormalButtons(),this.makeTooltips(),this.makeSelectCountLayer(),this.makeOrderButtonWrap()}return d()(e,[{key:"makeTooltips",value:function(){J.a.createTooltip(this.moveBtn,J.b.T,{title:{name:"폴더이동"}}),J.a.createTooltip(this.selectBtn,J.b.T,{title:{name:"선택모드"}}),J.a.createTooltip(this.deleteBtn,J.b.T,{title:{name:"휴지통에 넣기"}}),J.a.createTooltip(this.restoreBtn,J.b.T,{title:{name:"복원하기"}}),J.a.createTooltip(this.permanentDelBtn,J.b.T,{title:{name:"영구삭제"}})}},{key:"renderTitleWrap",value:function(){var e=this;this.backBtn=this.makeButton(D.ToolsIcon.MOVE_LEFT,null,"back_button",c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.uploadLib.showDefault();case 2:case"end":return t.stop()}},t)}))),this.titleElem.appendChild(this.backBtn);var t=document.createElement("span");t.className="folder_title",this.titleElem.appendChild(t),$(this.titleElem).hide()}},{key:"showDefault",value:function(){$(this.titleElem).hide(),$(this.selectCntElem).hide(),this.uncheckAllSelectBtn()}},{key:"makeOrderButtonWrap",value:function(){var e=this;this.orderBtnWrap=document.createElement("div"),this.orderBtnWrap.className="order_btn_wrap";var t=new ae("orderField",[{value:we.CREATE_DATE,text:"등록일",isSelected:!0},{value:we.NAME,text:"이름"},{value:we.SIZE,text:"크기"}],!0);this.orderBtnWrap.appendChild(t.render());var n=Object(D.setToolsIcon)(this.orderBtnWrap,D.ToolsIcon.ARROW_DOWN,!0);n.addEventListener("click",c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return $(n).toggleClass("asc"),$(n).hasClass("asc")?e.uploadLib.orderBy=xe.ASC:e.uploadLib.orderBy=xe.DESC,t.next=4,e.uploadLib.loadList();case 4:case"end":return t.stop()}},t)}))),t.addChangeEventListener(function(){var t=c()(o.a.mark(function t(i){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i.getValue()){t.next=3;break}return t.abrupt("return");case 3:t.t0=a,t.next=t.t0===we.NAME?6:t.t0===we.CREATE_DATE?9:t.t0===we.SIZE?9:12;break;case 6:return n.classList.add("asc"),e.uploadLib.orderBy=xe.ASC,t.abrupt("break",12);case 9:return n.classList.remove("asc"),e.uploadLib.orderBy=xe.DESC,t.abrupt("break",12);case 12:return e.uploadLib.orderField=a,t.next=15,e.uploadLib.loadList();case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.buttonsLeftWrap.appendChild(this.orderBtnWrap)}},{key:"showOrderSelectBtn",value:function(){$(this.orderBtnWrap).show()}},{key:"hideOrderSelectBtn",value:function(){$(this.orderBtnWrap).hide()}},{key:"makeButtons",value:function(){var e=this;this.moveBtn=this.makeButton(D.ToolsIcon.MOVE_FOLDER_OUTLINE,null,"upload_header_button",c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.uploadLib.openFolderListPopup();case 1:case"end":return t.stop()}},t)}))),this.moveBtn.classList.add("disabled"),this.buttonsRightWrap.appendChild(this.moveBtn),this.selectBtn=this.makeButton(D.ToolsIcon.CHECK_BOX,null,"upload_header_button",function(){e.uploadLib.changeModeAndRenderLib(new ee.d)}),this.buttonsRightWrap.appendChild(this.selectBtn),this.deleteBtn=this.makeButton(D.ToolsIcon.DELETE_OUTLINE,null,"upload_header_button",function(){e.uploadLib.updateStatusCheckedData(G.INACTIVE,new ee.b)}),this.deleteBtn.classList.add("disabled"),this.buttonsRightWrap.appendChild(this.deleteBtn),this.cancelBtn=this.makeButton(D.ToolsIcon.CLOSE,null,"upload_header_button",function(){$(e.cancelBtn).hide(),e.uncheckAllSelectBtn(),e.uploadLib.changeModeAndRenderLib(new ee.b)}),this.cancelBtn.classList.add("cancel"),this.buttonsRightWrap.appendChild(this.cancelBtn),this.restoreBtn=this.makeButton(D.ToolsIcon.RESTORE,null,"upload_header_button",function(){e.uploadLib.updateStatusCheckedData(G.ACTIVE,new ee.a)}),this.restoreBtn.classList.add("disabled"),this.buttonsRightWrap.appendChild(this.restoreBtn),this.permanentDelBtn=this.makeButton(D.ToolsIcon.DELETE_OUTLINE,null,"upload_header_button",function(){e.uploadLib.openPermanentlyDelPopup()}),this.permanentDelBtn.classList.add("disabled"),this.buttonsRightWrap.appendChild(this.permanentDelBtn),this.normalModeButtons=[this.selectBtn],this.selectModeButtons=[this.moveBtn,this.cancelBtn,this.deleteBtn],this.recycleBinButtons=[this.restoreBtn,this.permanentDelBtn]}},{key:"makeButton",value:function(e,t,n,i){var a=document.createElement("div");if(a.classList.add(n),t){var r=document.createElement("span");r.innerText=t,a.appendChild(r)}return null!=e&&Object(D.setToolsIcon)(a,e),a.addEventListener("click",function(){i&&i()}),a}},{key:"renderBackButtonWithName",value:function(e){$(this.titleElem).show();var t=this.titleElem.getElementsByClassName("folder_title")[0];t&&(t.innerHTML=Ve.beautifyFolderName(e,14))}},{key:"renderSelectButtons",value:function(e){var t=this;this.selectModeButtons.forEach(function(n){e!==W.TeamScope.TEAM||n!==t.copyToTeamScope?e!==W.TeamScope.INDIVIDUAL||n!==t.copyToIndividualScope?$(n).show():$(t.copyToIndividualScope).hide():$(t.copyToTeamScope).hide()}),this.normalModeButtons.forEach(function(e){return $(e).hide()}),this.recycleBinButtons.forEach(function(e){return $(e).hide()})}},{key:"renderNormalButtons",value:function(){this.normalModeButtons.forEach(function(e){$(e).show()}),this.selectModeButtons.forEach(function(e){return $(e).hide()}),this.recycleBinButtons.forEach(function(e){return $(e).hide()})}},{key:"renderRecycleBinButtons",value:function(){this.selectModeButtons.forEach(function(e){return $(e).hide()}),this.normalModeButtons.forEach(function(e){return $(e).hide()}),this.recycleBinButtons.forEach(function(e){return $(e).show()})}},{key:"makeSelectCountLayer",value:function(){var e=this;this.selectCntElem=document.createElement("div"),this.allSelectBtn=Object(D.setToolsIcon)(this.selectCntElem,D.ToolsIcon.CHECK,!0),this.allSelectBtn.classList.add("all_select"),this.allSelectBtn.addEventListener("click",function(){e.allSelectBtn.classList.contains("checked_icon")?(e.allSelectBtn.classList.remove("checked_icon"),e.uploadLib.uncheckAll()):(e.allSelectBtn.classList.add("checked_icon"),e.uploadLib.checkAll())}),this.countSpan=document.createElement("span"),this.countSpan.className="count_info",this.selectCntElem.appendChild(this.countSpan),this.buttonsLeftWrap.appendChild(this.selectCntElem)}},{key:"render",value:function(){return this.element}},{key:"updateClickCount",value:function(e,t){0!==e&&e===t&&this.checkAllSelectBtn(),0===e&&this.uncheckAllSelectBtn(),0===t?(this.uncheckAllSelectBtn(),this.disableAllSelectBtn()):this.enableAllSelectBtn(),this.showSelectCountElem(),this.countSpan.innerHTML="".concat(e,"개")}},{key:"updateSelectModeButtonsByCheckCount",value:function(e){var t=this;0!==e?this.selectModeButtons.forEach(function(e){e.classList.remove("disabled")}):this.selectModeButtons.forEach(function(e){$(e).is(t.cancelBtn)||e.classList.add("disabled")})}},{key:"updateRecycleBinButtonsByCheckCount",value:function(e){var t=this;0!==e?this.recycleBinButtons.forEach(function(e){e.classList.remove("disabled")}):this.recycleBinButtons.forEach(function(e){$(e).is(t.cancelBtn)||e.classList.add("disabled")})}},{key:"hideSelectCount",value:function(){$(this.selectCntElem).hide()}},{key:"showSelectCountElem",value:function(){$(this.selectCntElem).show()}},{key:"checkAllSelectBtn",value:function(){this.allSelectBtn.classList.add("checked_icon")}},{key:"uncheckAllSelectBtn",value:function(){this.allSelectBtn.classList.remove("checked_icon")}},{key:"updateSelectBtnByTotal",value:function(e){0!==e?this.selectBtn.classList.remove("disabled"):this.selectBtn.classList.add("disabled")}},{key:"disableAllSelectBtn",value:function(){this.allSelectBtn.classList.add("disabled")}},{key:"enableAllSelectBtn",value:function(){this.allSelectBtn.classList.remove("disabled")}},{key:"renderNormalModeBeforeLoad",value:function(){this.showOrderSelectBtn(),this.renderNormalButtons(),this.hideSelectCount(),this.updateSelectBtnByTotal(0)}},{key:"renderNormalModeAfterLoad",value:function(e){this.updateSelectBtnByTotal(e)}},{key:"renderPhotosInFolder",value:function(e){this.renderBackButtonWithName(e)}},{key:"renderInRecycleBinBeforeLoad",value:function(){this.hideOrderSelectBtn(),this.renderRecycleBinButtons(),this.updateClickCount(0,0)}},{key:"renderInRecycleBinAfterLoad",value:function(e,t){this.updateClickCount(e,t)}},{key:"toggleCopyBtn",value:function(e){if(this.copyToTeamScope&&this.copyToIndividualScope){if(e===W.TeamScope.INDIVIDUAL)return $(this.copyToTeamScope).show(),void $(this.copyToIndividualScope).hide();$(this.copyToTeamScope).hide(),$(this.copyToIndividualScope).show()}}},{key:"makeCopyFileButtons",value:function(){var e=this;this.copyToTeamScope=this.makeButton(D.ToolsIcon.GROUP_OUTLINE,null,"upload_header_button",function(){e.uploadLib.openCopyUserResourcePopup()}),$(this.copyToTeamScope).hide(),this.buttonsRightWrap.prepend(this.copyToTeamScope),this.copyToIndividualScope=this.makeButton(D.ToolsIcon.RECEIVE,null,"upload_header_button",function(){e.uploadLib.openCopyUserResourcePopup()}),$(this.copyToIndividualScope).hide(),this.buttonsRightWrap.prepend(this.copyToIndividualScope),this.selectModeButtons.push(this.copyToIndividualScope),this.selectModeButtons.push(this.copyToTeamScope),J.a.createTooltip(this.copyToTeamScope,J.b.T,{title:{name:"팀 파일로 복제"}}),J.a.createTooltip(this.copyToIndividualScope,J.b.T,{title:{name:"내 파일로 복제"}})}}]),e}(),oe=function(){function e(){u()(this,e)}var t,n,i,a,r,s,l,h;return d()(e,null,[{key:"movePhotosToFolder",value:function(e,t,n,i){var a={resourceKeys:e,toFolderIdx:t,teamIdx:n.teamIdx,teamScope:n.teamScope},r=P.CRM.get(C.a.USER_MOVE_PHOTO_TO_FOLDER);W.UnicornApiRequest.post(r,{data:JSON.stringify(a),contentType:"application/json"}).then(function(e){i(e.data)})}},{key:"withdrawPhotos",value:function(e,t,n,i){var a={resourceKeys:e,teamIdx:n.teamIdx,teamScope:n.teamScope},r=P.CRM.get(C.a.USER_MOVE_PHOTO_TO_FOLDER);W.UnicornApiRequest.delete(r,{data:JSON.stringify(a),contentType:"application/json"}).then(function(e){i(e.data)})}},{key:"updateStatusFoldersAndPhotos",value:(h=c()(o.a.mark(function e(t,n,i,a){var r,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P.CRM.get(C.a.USER_FOLDERS_PHOTOS_UPDATE_STATUS),s={foldersPhotosParams:t,status:n,teamIdx:i.teamIdx,teamScope:i.teamScope},e.next=4,W.UnicornApiRequest.post(r,{data:JSON.stringify(s),contentType:"application/json"});case 4:e.sent,a();case 7:case"end":return e.stop()}},e)})),function(e,t,n,i){return h.apply(this,arguments)})},{key:"updateStatusAll",value:(l=c()(o.a.mark(function e(t,n,i){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=P.CRM.get(C.a.USER_FOLDERS_PHOTOS_UPDATE_STATUS_ALL),e.next=3,W.UnicornApiRequest.post(a,{data:{status:t,teamIdx:n.teamIdx,teamScope:n.teamScope}});case 3:e.sent,i();case 6:case"end":return e.stop()}},e)})),function(e,t,n){return l.apply(this,arguments)})},{key:"changeName",value:(s=c()(o.a.mark(function e(t,n,i){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=P.CRM.get(C.a.USER_FOLDER_CHANGE_NAME),e.next=4,W.UnicornApiRequest.post(a,{data:t});case 4:(r=e.sent).success?n(r.data):i(r.code),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i(e.t0.statusCode);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e,t,n){return s.apply(this,arguments)})},{key:"createFolder",value:(r=c()(o.a.mark(function e(t,n,i){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=P.CRM.get(C.a.USER_NEW_FOLDER),e.next=4,W.UnicornApiRequest.post(a,{data:t});case 4:r=e.sent,console.log(r),r.success?n(r.data):i(r.code),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i(e.t0.statusCode);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),function(e,t,n){return r.apply(this,arguments)})},{key:"userFolders",value:(a=c()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=P.CRM.get(C.a.USER_FOLDERS),e.next=3,W.UnicornApiRequest.get("".concat(n,"?").concat($.param(t)));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},{key:"photosAndFolders",value:(i=c()(o.a.mark(function e(t,n,i){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.mergeParam(t,n,i),r=P.CRM.get(C.a.USER_FOLDERS_PHOTOS),e.abrupt("return",W.UnicornApiRequest.get("".concat(r,"?").concat($.param(a,!0))));case 3:case"end":return e.stop()}},e,this)})),function(e,t,n){return i.apply(this,arguments)})},{key:"getPhotos",value:(n=c()(o.a.mark(function e(t,n,i){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.mergeParam(t,n,i),r=P.CRM.get(C.a.USER_RESOURCES),e.abrupt("return",W.UnicornApiRequest.get("".concat(r,"?").concat($.param(a,!0))));case 3:case"end":return e.stop()}},e,this)})),function(e,t,i){return n.apply(this,arguments)})},{key:"getPhotosInFolder",value:function(e,t,n,i){var a=this.mergeParam(t,n,i),r=P.CRM.get(C.a.USER_PHOTO_IN_FOLDER).replace("${folderIdx}",String(e));return W.UnicornApiRequest.get("".concat(r,"?").concat($.param(a,!0)))}},{key:"copy",value:(t=c()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=P.CRM.get(C.a.USER_RESOURCES_COPY),e.abrupt("return",W.UnicornApiRequest.post(n,{data:JSON.stringify(t),contentType:"application/json"}));case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"mergeParam",value:function(e,t,n){return{type:t.types,status:t.status,orderBy:t.orderBy,orderField:t.orderField,searchKeyword:t.keyword,teamIdx:n.teamIdx,teamScope:n.teamScope,page:e.page,pageSize:e.pageSize}}}]),e}(),se=n(176),ce=n(63),le=n(57),ue=n(232),he=function(e){function t(){var e;u()(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return m()(this,(e=E()(t)).call.apply(e,[this].concat(i)))}return y()(t,e),d()(t,[{key:"updateUI",value:function(e){I()(E()(t.prototype),"updateUI",this).call(this),this.menus.forEach(function(t){e&&(t===e?t.selectUI():t.unSelectUI())})}}]),t}(te),de=function(){function e(t,n){var i=this;u()(this,e),O()(this,"listener",[]),this.folder=t,this.element=document.createElement("div"),this.element.className="folder_menu",void 0!==n&&n===t.idx&&this.element.classList.add("selected");var a=document.createElement("div");a.className="folder_thumb_warp";var r=M.a.getImageElementWithReplaceableThumbnail();r.className="folder_thumb",void 0!==this.folder.folderThumbnailInfo&&null!==this.folder.folderThumbnailInfo?ue.a.instance.thumbnailMaker(this.folder.folderThumbnailInfo.type).setThumbnail(this.folder.folderThumbnailInfo.key,this.folder.folderThumbnailInfo.thumb300Url,r):r.src=Ve.defaultFolderImg,a.appendChild(r);var o=document.createElement("span");o.className="folder_name",o.innerHTML=Ve.beautifyFolderName(this.folder.name,8);var s=document.createElement("div");if(s.className="folder_info",s.appendChild(o),void 0!==t.folderStoreInfo){var c=document.createElement("span");c.className="file_count",c.innerHTML="파일 ".concat(t.folderStoreInfo.fileCount),s.appendChild(c)}else o.classList.add("default_folder");this.element.appendChild(a),this.element.appendChild(s),this.checkIcon=Object(D.setToolsIcon)(this.element,D.ToolsIcon.CHECK,!0),this.element.addEventListener("click",function(){i.listener.forEach(function(e){e(i)})})}return d()(e,[{key:"render",value:function(){return this.element}},{key:"addListener",value:function(e){this.listener.push(e)}},{key:"getData",value:function(){return this.folder}},{key:"selectUI",value:function(){this.element.classList.add("selected"),$(this.checkIcon).show()}},{key:"unSelectUI",value:function(){this.element.classList.remove("selected"),$(this.checkIcon).hide()}}]),e}(),pe=function(){function e(t){var n=this;u()(this,e),O()(this,"listener",[]),this.element=document.createElement("div"),this.element.className="menu_checkbox",this.checkbox=document.createElement("input"),this.checkbox.type="checkbox",this.checkbox.name=t.name||"",this.checkbox.value=t.value||"",this.checkbox.checked=t.checked,this.checkbox.addEventListener("change",function(){n.listener.forEach(function(e){return e(n)})});var i=document.createElement("label");i.appendChild(this.checkbox),Object(D.setToolsIcon)(i,D.ToolsIcon.CHECK,!0),t.text&&i.appendChild(document.createTextNode(t.text)),this.element.appendChild(i)}return d()(e,[{key:"addChangeListener",value:function(e){this.listener.push(e)}},{key:"render",value:function(){return this.element}},{key:"select",value:function(){this.checkbox.checked=!0}},{key:"deselect",value:function(){this.checkbox.checked=!1}},{key:"isSelected",value:function(){return this.checkbox.checked}},{key:"getValue",value:function(){return this.checkbox.value}}]),e}(),me=function(e){function t(){var e;return u()(this,t),(e=m()(this,E()(t).call(this))).content=document.createElement("div"),e.title=document.createElement("div"),e.subTitle=document.createElement("div"),e.cancelBtn=document.createElement("div"),e.confirmBtn=document.createElement("div"),e.directoriesElem=document.createElement("div"),e.selectedDirectoryNameElem=document.createElement("div"),e.scrollElement=new le.a(!1,!0,"280px"),e.checkbox=new pe({text:"폴더 설정하기"}),e.listMenuTool=new he,e.initDom(),e.initEvent(),e}var n,i,a;return y()(t,e),d()(t,[{key:"initDom",value:function(){this.title.className="title",this.content.appendChild(this.title),this.subTitle.className="sub_title",this.content.appendChild(this.subTitle),this.content.appendChild(this.checkbox.render()),this.selectedDirectoryNameElem.innerText="폴더를 선택해주세요.",this.selectedDirectoryNameElem.className="name",this.directoriesElem.className="directories",this.directoriesElem.appendChild(this.selectedDirectoryNameElem),this.directoriesElem.appendChild(this.scrollElement.render()),this.content.appendChild(this.directoriesElem);var e=document.createElement("div");e.className="button_wrap",this.cancelBtn.innerText="취소",this.confirmBtn.innerText="복제하기",e.appendChild(this.cancelBtn),e.appendChild(this.confirmBtn),this.content.appendChild(e)}},{key:"initEvent",value:function(){var e=this;this.cancelBtn.addEventListener("click",function(){return e.close()}),this.confirmBtn.addEventListener("click",c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.param.folderIdx=e.getSelectedIdx(),oe.copy(e.param).then(function(){e.close(),alert("".concat(e.getScopeString(),"로 복제되었습니다."))}).catch(function(){e.close(),alert("복제에 실패했습니다. 잠시후 다시 시도해주세요.")}),e.complete();case 3:case"end":return t.stop()}},t)}))),this.checkbox.addChangeListener(function(){e.showDirectories(e.checkbox.isSelected())})}},{key:"getContents",value:function(){return this.content}},{key:"getId",value:function(){return"copyUserResourcePopup"}},{key:"updateUI",value:function(){this.title.innerText="".concat(this.getScopeString(),"로 복제"),this.subTitle.innerText="".concat(this.param.fileKeys.length,"개의 파일을 ").concat(this.getScopeString(),"로 복제하시겠습니까?"),this.scrollElement.contents.innerHTML="",this.scrollElement.contents.appendChild(this.listMenuTool.render())}},{key:"initData",value:(a=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.selectedDirectoryNameElem.innerText="폴더를 선택해주세요.",this.selectedCategoryIdx=0,this.checkbox.deselect(),this.showDirectories(!1),e.next=6,this.updateDirectories();case 6:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"updateDirectories",value:(i=c()(o.a.mark(function e(){var t,n,i,a,r,s,c,l,u,h=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ve.instance.selectedTeamData.teamIdx,e.next=3,oe.userFolders({teamIdx:t,teamScope:this.param.scopeToCopy});case 3:for(n=e.sent,this.listMenuTool.clearAll(),i=!0,a=!1,r=void 0,e.prev=8,s=n.data[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,u=new de(l),this.listMenuTool.addMenu(u),u.addListener(function(e){h.select(e)});e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),a=!0,r=e.t0;case 16:e.prev=16,e.prev=17,i||null==s.return||s.return();case 19:if(e.prev=19,!a){e.next=22;break}throw r;case 22:return e.finish(19);case 23:return e.finish(16);case 24:this.listMenuTool.updateUI(),this.listMenuTool.show();case 26:case"end":return e.stop()}},e,this,[[8,12,16,24],[17,,19,23]])})),function(){return i.apply(this,arguments)})},{key:"select",value:function(e){this.selectedCategoryIdx=e.getData().idx,this.selectedDirectoryNameElem.innerText=e.getData().name,this.listMenuTool.updateUI(e),this.updateUI()}},{key:"getScopeString",value:function(){return this.param.scopeToCopy===W.TeamScope.TEAM?"팀 파일":"개인 파일"}},{key:"showDirectories",value:function(e){this.directoriesElem.style.display=e?"":"none"}},{key:"getSelectedIdx",value:function(){return this.checkbox.isSelected()?this.selectedCategoryIdx:0}}],[{key:"open",value:(n=c()(o.a.mark(function e(t,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.instance.param=t,this.instance.complete=n,e.next=4,this.instance.initData();case 4:this.instance.open();case 5:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})}]),t}(ce.a);O()(me,"instance",new me);var fe=function(e){function t(e){var n;return u()(this,t),(n=m()(this,E()(t).call(this))).success=e,n.input=document.createElement("input"),n.input.type="text",n.input.maxLength=25,n.input.placeholder=t.EMPTY_DIRECTORY_NAME,n.input.value="",n.content=document.createElement("div"),n.cancelBtn=document.createElement("div"),n.confirmBtn=document.createElement("div"),n.descArea=document.createElement("div"),n.initEvent(),n}var n;return y()(t,e),d()(t,[{key:"getContents",value:function(){var e=document.createElement("div");e.className="title",e.innerText="새 폴더 만들기",this.content.appendChild(e);var t=document.createElement("div");t.className="input_wrap",t.appendChild(this.input),this.content.appendChild(t),this.descArea.className="desc_area",this.content.appendChild(this.descArea),this.hideDesc();var n=document.createElement("div");return n.className="button_wrap",this.cancelBtn.innerText="취소",this.confirmBtn.innerText="확인",n.appendChild(this.cancelBtn),n.appendChild(this.confirmBtn),this.content.appendChild(n),this.content}},{key:"showDesc",value:function(e){this.descArea.innerText=e,this.descArea.style.display="block"}},{key:"hideDesc",value:function(){this.descArea.style.display="none"}},{key:"updateUI",value:function(){}},{key:"getId",value:function(){return"createFolderPopup"}},{key:"initEvent",value:function(){var e=this;this.cancelBtn.addEventListener("click",function(){return e.close()}),this.confirmBtn.addEventListener("click",function(){e.input.value?e.createDirectory():e.showDesc("* ".concat(t.EMPTY_DIRECTORY_NAME))}),this.input.addEventListener("keyup",function(t){"Enter"===t.key&&e.confirmBtn.click()})}},{key:"createDirectory",value:(n=c()(o.a.mark(function e(){var t,n,i=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.input.value,n=Ve.instance.selectedTeamData,oe.createFolder({name:t,teamIdx:n.teamIdx,teamScope:n.teamScope},function(e){i.success(e),i.close()},function(e){i.errorHandleByStatusCode(e)});case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"errorHandleByStatusCode",value:function(e){switch(e){case 409:this.showDesc("* 동일한 이름의 폴더가 있습니다. 다른 이름을 입력해주세요.");break;case 403:case 401:this.showDesc("* 로그인 세션이 만료되었습니다. 새로고침을 하고 다시 시도해주시기 바랍니다.");break;default:alert("잠시 후에 다시 시도해주시기 바랍니다.")}}},{key:"open",value:function(e){return I()(E()(t.prototype),"open",this).call(this,e),A.a.isIOS()||this.input.focus(),this}}]),t}(ce.a);O()(fe,"EMPTY_DIRECTORY_NAME","폴더명을 입력해주세요.");var ge=function(e){function t(e,n,i){var a;return u()(this,t),(a=m()(this,E()(t).call(this,i))).folderIdx=e,a.folderName=n,a.originalName=n,a.input.value=n,a}var n;return y()(t,e),d()(t,[{key:"createDirectory",value:(n=c()(o.a.mark(function e(){var t,n,i,a=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.input.value,n=Ve.instance.selectedTeamData,this.originalName!==t){e.next=5;break}return this.close(),e.abrupt("return");case 5:i={idx:this.folderIdx,name:t,teamIdx:n.teamIdx,teamScope:n.teamScope},oe.changeName(i,function(e){a.success(e),a.close()},function(e){a.errorHandleByStatusCode(e)});case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getContents",value:function(){var e=document.createElement("div");e.className="title",e.innerText="폴더 이름 바꾸기",this.content.appendChild(e);var t=document.createElement("div");t.className="input_wrap",t.appendChild(this.input),this.content.appendChild(t),this.descArea.className="desc_area",this.content.appendChild(this.descArea),this.hideDesc();var n=document.createElement("div");return n.className="button_wrap",this.cancelBtn.innerText="취소",this.confirmBtn.innerText="확인",n.appendChild(this.cancelBtn),n.appendChild(this.confirmBtn),this.content.appendChild(n),this.content}}]),t}(fe),ve=n(178),Ee=n(157),Te=function(e){function t(){return u()(this,t),m()(this,E()(t).apply(this,arguments))}var n;return y()(t,e),d()(t,[{key:"justifyRow",value:(n=c()(o.a.mark(function e(t){var n,i,a,r,s,c,l,u,h,d,p,m=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,t){if(void 0===t)return e.li.classList.contains("folder");var n=e.li.classList.contains("folder"),i=t.li.classList.contains("folder");return n&&!i},i=[],0!==t.length){e.next=4;break}return e.abrupt("return",i);case 4:a=0,r=0,s=!1,l=x.a.MIN_WIDTH/this.option.defaultRowHeight;case 8:if(P.ArrayUtil.isEmpty(t)){e.next=41;break}return u=t.shift(),h=void 0,e.prev=11,e.next=14,x.a.makeListItem(u,l);case 14:h=e.sent,e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(11),console.error(e.t0),e.abrupt("continue",8);case 21:if(c){e.next=27;break}return a=(c=h).ratio*this.option.defaultRowHeight,s=this.option.rowWidth<a,i.push(c),e.abrupt("continue",8);case 27:if(!n(i[i.length-1],h)){e.next=30;break}return t.unshift(u),e.abrupt("break",41);case 30:if(i.push(h),d=h.ratio*this.option.defaultRowHeight,a+=d,r+=this.option.horizonMargin,!(this.option.rowWidth<a+r)){e.next=39;break}return s=!0,a+r-this.option.rowWidth>(d+this.option.horizonMargin)/2&&(t.unshift(u),i.pop(),a-=d,r-=this.option.horizonMargin),e.abrupt("break",41);case 39:e.next=8;break;case 41:return p=s?(this.option.rowWidth-r)/a*this.option.defaultRowHeight:this.option.defaultRowHeight,i.forEach(function(e){var t=m.option.horizonMargin;e===c?(t=0,e.li.classList.add(S.a.CLEAR_BOTH)):e.li.classList.remove(S.a.CLEAR_BOTH);var n=p*e.ratio,i=p.toFixed(3),a="width:".concat(n.toFixed(3),"px; height:").concat(i,"px; margin-right:0; margin-left:").concat(t,"px");e.li.setAttribute("style",a),Number(i)<x.a.SHORT_HEIGHT&&e.li.classList.add(S.a.SHORT)}),e.abrupt("return",i);case 44:case"end":return e.stop()}},e,this,[[11,17]])})),function(e){return n.apply(this,arguments)})},{key:"appendAndReOrder",value:function(e){var t=this.liRenderFunc(e),n=[t],i=[],a=[],r=null;if(this.option){for(var o=0;o<this.ul.children.length;o++){var s=this.ul.children.item(o);s.classList.contains("folder")?i.push(s):(null===r&&(r=s),a.push(s))}var c=i.concat(n).concat(a);this._justify(c,!1)}null!==r?r.before(t):$(this.ul).append(t)}}]),t}(x.a),Ie=function(e){function t(e,n,i,a,r,o){var s;return u()(this,t),(s=m()(this,E()(t).call(this,e,n,i,a,null,o))).requestAction=e,s.listToolInitParam=n,s.pageSize=i,s.paginationMode=a,s.currentUploadLibMode=r,s.endRequsetAction=o,s}var n,i;return y()(t,e),d()(t,[{key:"makeElement",value:function(){var e=this;this.element=document.createElement("div"),this.element.className=S.a.PAGINATION_TOOL,this.scrollElement=new le.a(!1,!0,"100%"),this.listTool=new Te(this.listToolInitParam.listItemRenderAction,this.listToolInitParam.justifyOption),this.element.appendChild(this.scrollElement.render(this.listTool.render())),this.pagination=new ve.a(function(){var t=c()(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.paginationParam=n,t.next=3,e.doRequestAction();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.pageSize),this.element.appendChild(this.pagination.render()),this.loadingUI=new Ee.a(this.element)}},{key:"appendPhoto",value:function(e){$(this.element).children("."+S.a.EMPTY_LIST_NOTI_LAYER).remove(),this.listTool.appendAndReOrder(e)}},{key:"prependItem",value:(i=c()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(this.element).children("."+S.a.EMPTY_LIST_NOTI_LAYER).remove(),e.next=3,this.listTool.prependItem(t);case 3:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"doRequestAction",value:(n=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(this.element).children("."+S.a.EMPTY_LIST_NOTI_LAYER).remove(),e.next=3,I()(E()(t.prototype),"doRequestAction",this).call(this);case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"getCurrnetPaginationParam",value:function(){return this.pagination.getPaginationParam()}},{key:"renderEmptyListView",value:function(e){1===this.paginationParam.page&&0===e&&this.element.appendChild(this.currentUploadLibMode().emptyListView)}}]),t}(w.a),_e=function(){function e(){u()(this,e)}return d()(e,null,[{key:"makeUserFolderDiv",value:function(e,t,n){var i=document.createElement("div");i.className="background_wrap";var a=document.createElement("div");a.className="background",a.classList.add("one");var r=document.createElement("div");r.className="background",r.classList.add("two");var o=document.createElement("div");o.className="background",o.classList.add("three"),e.className="thumb_nail",t&&e.classList.add("default");var s=document.createElement("div");s.className="thumb_nail_cover",s.classList.add("background");var c=document.createElement("span");return c.className="file_count",c.innerHTML="".concat(n),o.appendChild(e),o.appendChild(s),void 0!==n&&o.appendChild(c),i.appendChild(a),i.appendChild(r),i.appendChild(o),i}}]),e}(),ye=function(){function e(t){u()(this,e),this.folderIdx=t}var t;return d()(e,[{key:"load",value:(t=c()(o.a.mark(function e(t,n,i){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.status=G.ACTIVE,e.prev=1,e.next=4,oe.getPhotosInFolder(this.folderIdx,t,n,i);case 4:return a=e.sent,e.abrupt("return",{photos:a.data.list||[],total:a.data.pagination.totalRow||0});case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this,[[1,8]])})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),Le=function(){function e(){u()(this,e)}var t;return d()(e,[{key:"load",value:(t=c()(o.a.mark(function e(t,n,i){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.status=G.ACTIVE,e.next=3,oe.getPhotos(t,n,i);case 3:return a=e.sent,e.abrupt("return",{photos:a.data.list||[],total:a.data.pagination.totalRow||0});case 5:case"end":return e.stop()}},e)})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),Oe=function(){function e(){u()(this,e)}var t;return d()(e,[{key:"load",value:(t=c()(o.a.mark(function e(t,n,i){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.status=G.ACTIVE,e.next=4,oe.photosAndFolders(t,n,i);case 4:return a=e.sent,e.abrupt("return",{folders:a.data.folders||[],photos:a.data.photos||[],recycleBinCount:a.data.recycleBinCount||0,recycleBinSize:a.data.recycleBinSize||0,total:a.data.pagination.totalRow||0});case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),Se=function(){function e(){u()(this,e)}var t;return d()(e,[{key:"load",value:(t=c()(o.a.mark(function e(t,n,i){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.status=G.INACTIVE,n.orderField=we.CREATE_DATE,n.orderBy=xe.DESC,e.next=6,oe.photosAndFolders(t,n,i);case 6:return a=e.sent,e.abrupt("return",{folders:a.data.folders||[],photos:a.data.photos||[],recycleBinCount:a.data.recycleBinCount||0,total:a.data.pagination.totalRow||0});case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),Pe=function(){function e(){u()(this,e)}return d()(e,[{key:"loader",value:function(e,t){return P.StringUtil.isEmpty(t)||0!==e?e>0?new ye(e):-1===e?new Se:new Oe:new Le}}]),e}();O()(Pe,"instance",new Pe);var ke=function(){function e(){u()(this,e)}return d()(e,null,[{key:"makeProfileElem",value:function(e){var t=document.createElement("div");t.className="shared_info";var n=document.createElement("span");return n.className="account_name",n.innerText=e,Object(D.setToolsIcon)(n,D.ToolsIcon.USER_PROFILE),t.appendChild(n),t}},{key:"makeInfoDetailElem",value:function(e){var t=document.createElement("span");return t.innerText=e,t}}]),e}(),Ae=function(){function e(){u()(this,e)}return d()(e,[{key:"makeInfoLayer",value:function(t,n){var i=JSON.parse(t.fileMeta),a=document.createElement("div");a.className=S.a.FILE_INFO_LAYER,a.appendChild(e.makeThumbnailWrap(t));var r=document.createElement("div");r.className=S.a.FILE_INFO;var s=document.createElement("header");if(s.innerText=Ve.beautifyFileName(t.filename),r.appendChild(s),i&&i.width&&i.height){var l="".concat(i.width," px × ").concat(i.height," px / ").concat(V.a.getSizeDescription(t.fileSize));r.appendChild(ke.makeInfoDetailElem(l))}n&&r.appendChild(ke.makeProfileElem(t.accountName));var u=document.createElement("div");u.className=S.a.FILE_MENU,Object(D.setToolsIcon)(u,D.ToolsIcon.DOWNLOAD);var h=document.createElement("span");h.innerText="원본 다운로드",u.appendChild(h),u.addEventListener("click",function(){try{V.a.downloadByFileKey(t.uuidKey)}catch(e){console.warn(e)}});var d=document.createElement("div");d.className=S.a.FILE_MENU,Object(D.setToolsIcon)(d,D.ToolsIcon.DELETE);var p=document.createElement("span");return p.innerText="휴지통에 넣기",d.appendChild(p),d.addEventListener("click",c()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type===K.a.USER_IMAGE?F.a.PHOTO:F.a.SVG,e.next=3,Ve.instance.updateStatus([{key:t.uuidKey,type:n}],G.INACTIVE);case 3:Ve.instance.removeUserFile(t);case 4:case"end":return e.stop()}},e)}))),a.appendChild(r),a.appendChild(u),a.appendChild(d),a}}],[{key:"makeThumbnailWrap",value:function(e){var t=document.createElement("div");t.className="file_thumb_wrap";var n=M.a.getImageElementWithReplaceableThumbnail();if(n.className="file_thumb",e.uuidKey){var i=e.uuidKey;ue.a.instance.thumbnailMaker(e.type).setThumbnail(i,e.thumb300Url,n)}else n.src=Ve.defaultFolderImg;return t.appendChild(n),t}}]),e}(),Re=function(){function e(){u()(this,e)}return d()(e,[{key:"makeInfoLayer",value:function(t,n){var i=document.createElement("div");i.className=S.a.FILE_INFO_LAYER;var a=document.createElement("div");a.className=S.a.FILE_INFO,a.appendChild(e.makeThumbnailWrap(t));var r=document.createElement("header");if(r.innerText=Ve.beautifyFolderName(t.name,14),a.appendChild(r),t.folderStoreInfo){var s=V.a.getSizeDescription(t.folderStoreInfo.fileSize),l="".concat(t.folderStoreInfo.fileCount,"개의 파일 / ").concat(s);a.appendChild(ke.makeInfoDetailElem(l))}n&&t.accountName&&a.appendChild(ke.makeProfileElem(t.accountName));var u=document.createElement("div");u.className=S.a.FILE_MENU,Object(D.setToolsIcon)(u,D.ToolsIcon.PENCIL);var h=document.createElement("span");h.innerText="이름 변경",u.appendChild(h),u.addEventListener("click",c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:new ge(t.idx,t.name,c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ve.instance.changeMode(new ee.b),e.next=3,Ve.instance.loadList();case 3:case"end":return e.stop()}},e)}))).open();case 2:case"end":return e.stop()}},e)})));var d=document.createElement("div");d.className=S.a.FILE_MENU,Object(D.setToolsIcon)(d,D.ToolsIcon.DELETE);var p=document.createElement("span");return p.innerText="휴지통에 넣기",d.appendChild(p),d.addEventListener("click",c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ve.instance.updateStatus([{key:String(t.idx),type:F.a.USER_FOLDER}],G.INACTIVE,new ee.b);case 1:case"end":return e.stop()}},e)}))),i.appendChild(a),i.appendChild(u),i.appendChild(d),i}}],[{key:"makeThumbnailWrap",value:function(e){var t=document.createElement("div");t.className="folder_thumb_wrap";var n=M.a.getImageElementWithReplaceableThumbnail();if(n.className="folder_thumb",void 0!==e.folderThumbnailInfo&&null!==e.folderThumbnailInfo){var i=e.folderThumbnailInfo.key;ue.a.instance.thumbnailMaker(e.folderThumbnailInfo.type).setThumbnail(i,e.folderThumbnailInfo.thumb300Url,n)}else n.src=Ve.defaultFolderImg;return t.appendChild(n),t}}]),e}(),Ce=function(){function e(){u()(this,e)}return d()(e,[{key:"makeInfoLayer",value:function(e,t){var n=document.createElement("div");n.className=S.a.FILE_INFO_LAYER;var i=document.createElement("div");i.className=S.a.FILE_INFO;var a=document.createElement("header");if(a.innerText=Ve.beautifyFolderName(e.name,14),i.appendChild(a),e.folderStoreInfo){var r=V.a.getSizeDescription(e.folderStoreInfo.fileSize),s="".concat(e.folderStoreInfo.fileCount,"개의 파일 / ").concat(r);i.appendChild(ke.makeInfoDetailElem(s))}var l=document.createElement("div");l.className=S.a.FILE_MENU,Object(D.setToolsIcon)(l,D.ToolsIcon.RESTORE);var u=document.createElement("span");u.innerText="전체 복원하기",l.appendChild(u),l.addEventListener("click",c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ve.instance.updateStatusAll(G.ACTIVE,new ee.b);case 1:case"end":return e.stop()}},e)})));var h=document.createElement("div");h.className=S.a.FILE_MENU,Object(D.setToolsIcon)(h,D.ToolsIcon.DELETE_OUTLINE);var d=document.createElement("span");return d.innerText="전체 영구삭제",h.appendChild(d),h.addEventListener("click",c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ve.instance.openPermanentlyDelPopup(!0);case 1:case"end":return e.stop()}},e)}))),n.appendChild(i),n.appendChild(l),n.appendChild(h),n}}]),e}(),be=function(){function e(){u()(this,e)}return d()(e,[{key:"maker",value:function(e){return e.extraData.isRecycleBin?new Ce:e.key.resourceType===F.a.USER_FOLDER?new Re:new Ae}}]),e}();O()(be,"instance",new be);var we,xe,Ne=n(131),De=n(95),Me=n(53),Be=n(138),Ue=n(179),Ge=n(167),Fe=n(175),He=function(e){function t(e,n,i,a,r){var o;return u()(this,t),o=m()(this,E()(t).call(this)),O()(g()(o),"selectedFolderNameSpan",document.createElement("span")),O()(g()(o),"currentFolderNameSpan",document.createElement("span")),o.currentFolderIdx=e,o.photos=n,o.isInFolder=i,o.success=a,o.scrollElement=new le.a(!1,!0,"calc(100% - 152px)"),o.contents=document.createElement("div"),o.contents.className="folder_contents",o.titleElem=document.createElement("div"),o.titleElem.className="folder_title_wrap",o.currentFolderName=r,o.currentFolderNameSpan.className="current_folder",o.selectedFolderNameSpan.className="select_folder",o.currentFolderNameSpan.innerHTML=o.currentFolderName?Ve.beautifyFolderName(o.currentFolderName):"폴더를 선택해주세요.",o.titleElem.appendChild(o.currentFolderNameSpan),o.makeBtnClose=!1,o.currentFolderName?Object(D.setToolsIcon)(o.titleElem,D.ToolsIcon.GREATER_THAN,!0):($(o.currentFolderNameSpan).hide(),o.selectedFolderNameSpan.innerHTML="폴더를 선택해주세요."),o.titleElem.appendChild(o.selectedFolderNameSpan),o.listMenuTool=new he,o.initElements(),o.updateUI(),o}var n;return y()(t,e),d()(t,[{key:"initElements",value:function(){this.contents.appendChild(this.makeHeaderWrap()),this.contents.appendChild(this.titleElem),this.contents.appendChild(this.scrollElement.render(this.makeList())),this.contents.appendChild(this.createFooterBtnWrap())}},{key:"makeList",value:function(){var e=document.createElement("div");return e.className="upload_directory_list",e.appendChild(this.createMakeDirectoryBtn()),e.appendChild(this.listMenuTool.render()),e}},{key:"makeHeaderWrap",value:function(){var e=this,t=document.createElement("div");t.className="header_wrap",Object(D.setToolsIcon)(t,D.ToolsIcon.GREATER_THAN,!0,"left",180).addEventListener("click",function(){return e.close()});var n=document.createElement("div");return n.innerText="폴더 설정",t.appendChild(n),t}},{key:"createFooterBtnWrap",value:function(){var e=document.createElement("div");return e.className="footer_btn_wrap",e.appendChild(this.createCancelBtn()),e.appendChild(this.createConfirmBtn()),e}},{key:"makeWithdrawMenu",value:function(){var e=this,t={idx:0,name:"기본 보관함",accountId:A.a.instance.user.accountId,parentIdx:-1},n=new de(t);return this.listMenuTool.addMenu(n),n.addListener(function(n){e.selectedFolderNameSpan.innerHTML=t.name,e.listMenuTool.updateUI(n),e.selectedFolder=t}),n}},{key:"updateDirectories",value:(n=c()(o.a.mark(function e(t){var n,i=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Ve.instance.selectedTeamData,oe.userFolders(n).then(function(e){i.listMenuTool.clearAll(),i.isInFolder&&i.listMenuTool.addMenu(i.makeWithdrawMenu());var n=!0,a=!1,r=void 0;try{for(var o,s=e.data[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var c=o.value,l=new de(c,i.currentFolderIdx);i.listMenuTool.addMenu(l),l.addListener(function(e){i.select(e)}),void 0!==t&&t.idx===c.idx&&(i.select(l,c),i.scrollElement.setScrollY(99999999))}}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}i.listMenuTool.updateUI(),i.listMenuTool.show()});case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})},{key:"select",value:function(e,t){this.selectedFolder=void 0!==t?t:e.getData(),this.selectedFolderNameSpan.innerHTML=Ve.beautifyFolderName(this.selectedFolder.name),this.confirmBtn.classList.add(S.a.ACTIVE),this.listMenuTool.updateUI(e)}},{key:"getContents",value:function(){return this.contents}},{key:"getId",value:function(){return"folderListPopup"}},{key:"updateUI",value:function(){this.updateDirectories()}},{key:"createMakeDirectoryBtn",value:function(){var e=this,t=document.createElement("div");t.className="create_directory";var n=document.createElement("div");n.className="create_directory_icon",Object(D.setToolsIcon)(n,D.ToolsIcon.ADD),t.appendChild(n);var i=document.createElement("div");return i.className="create_directory_label",i.innerText="새 폴더 만들기",t.appendChild(i),t.addEventListener("click",function(){var t=new fe(function(n){e.updateDirectories(n),t.close()});t.open()}),t}},{key:"createCancelBtn",value:function(){var e=this,t=document.createElement("div");return t.className="cancel_btn",t.innerText="취소",t.addEventListener("click",function(){return e.close()}),t}},{key:"createConfirmBtn",value:function(){var e=this,t=this.confirmBtn=document.createElement("div");return t.className="confirm_btn",t.innerText="확인",t.addEventListener("click",c()(o.a.mark(function t(){var n,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Array.from(e.photos.values()).map(function(e){return e.referenceKey}),e.selectedFolder&&e.selectedFolder.idx!==e.currentFolderIdx){t.next=4;break}return e.close(),t.abrupt("return");case 4:if(i=Ve.instance.selectedTeamData,0!==e.selectedFolder.idx){t.next=8;break}return oe.withdrawPhotos(n,e.currentFolderIdx,i,e.success),t.abrupt("return");case 8:oe.movePhotosToFolder(n,e.selectedFolder.idx,i,e.success);case 9:case"end":return t.stop()}},t)}))),t}}]),t}(ce.a);n.d(t,"c",function(){return we}),n.d(t,"b",function(){return xe}),n.d(t,"a",function(){return Ve}),n.d(t,"d",function(){return We}),n.d(t,"e",function(){return Ke}),function(e){e.CREATE_DATE="CREATE_DATE",e.NAME="NAME",e.SIZE="SIZE"}(we||(we={})),function(e){e.DESC="DESC",e.ASC="ASC"}(xe||(xe={}));var Ve=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=m()(this,(e=E()(t)).call.apply(e,[this].concat(a))),O()(g()(n),"checkedData",new Map),O()(g()(n),"folders",[]),O()(g()(n),"photos",[]),O()(g()(n),"selectedFolderIdx",0),O()(g()(n),"currentTotal",0),O()(g()(n),"fileBuffer",new Array),O()(g()(n),"isInit",!1),O()(g()(n),"_orderField",we.CREATE_DATE),O()(g()(n),"_orderBy",xe.DESC),n}var n,i,r,s,l,h,p,f,v,T,_,L,k,R,w;return y()(t,e),d()(t,[{key:"init",value:(w=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.render();case 2:case"end":return e.stop()}},e,this)})),function(){return w.apply(this,arguments)})},{key:"render",value:(R=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.mode=new ee.b,$(this.element).empty(),this.element.classList.add(S.a.LIBRARY_UPLOAD),this.makeBtnUpload(),this.makeSearchTool(),this.makeHeader(),e.next=8,this.makeTeamScopeTab();case 8:this.makeSearchResultSpan(),this.makeListTool(),this.makeDragToUploadLayer(),this.folderEmptyListView=t.makeFolderEmptyListNotiLayer();case 12:case"end":return e.stop()}},e,this)})),function(){return R.apply(this,arguments)})},{key:"makeTeamScopeTab",value:(k=c()(o.a.mark(function e(){var t,n,i,a,r=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkLogin()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,De.a.getDefaultSelectedTeamData();case 4:return this._selectedTeamData=e.sent,t=function(e){var t=e===W.TeamScope.INDIVIDUAL?D.ToolsIcon.USER_OUTLINE:D.ToolsIcon.GROUP_OUTLINE,n=e===W.TeamScope.INDIVIDUAL?"개인 업로드":"팀 업로드",i=document.createElement("li");i.setAttribute("data-type",e),i.addEventListener("click",c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a(i));case 1:case"end":return e.stop()}},e)}))),Object(D.setToolsIcon)(i,t,!0);var s=document.createElement("span");return s.innerText=n,i.appendChild(s),r._selectedTeamData.teamScope===e&&i.classList.add(S.a.ACTIVE),i},e.next=8,De.a.getSelectedTeam();case 8:if(!(e.sent.memberList.length<2)){e.next=11;break}return e.abrupt("return");case 11:this.header.makeCopyFileButtons(),(n=document.createElement("div")).className="team_scope_tab",n.classList.add(S.a.ACTIVE),(i=document.createElement("ul")).appendChild(t(W.TeamScope.INDIVIDUAL)),i.appendChild(t(W.TeamScope.TEAM)),n.appendChild(i),this.element.prepend(n),a=function(){var e=c()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(i).children().removeClass(S.a.ACTIVE),t.classList.add(S.a.ACTIVE),n=t.getAttribute("data-type"),r.header.toggleCopyBtn(n),r._selectedTeamData.teamScope=n,e.next=7,r.showDefault();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();case 21:case"end":return e.stop()}},e,this)})),function(){return k.apply(this,arguments)})},{key:"makeSearchResultSpan",value:function(){this.searchResultSpan=document.createElement("span"),this.searchResultSpan.className="search_result",$(this.searchResultSpan).hide(),this.element.appendChild(this.searchResultSpan)}},{key:"makeSearchTool",value:function(){var e=this;this.searchTool=new Ne.a(function(){var t=c()(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.searchKeyword=P.StringUtil.nvl(n),P.StringUtil.isEmpty(e.searchKeyword)?e.changeMode(new ee.b):e.changeMode(new ee.c),t.next=4,e.loadList();case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),P.CRM.get(C.a.TOOLS_LIB_KEYWORD_PLACEHOLDER),!0,c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.searchKeyword="",e.searchTool.updateUI(""),e.searchTool.offCloseEvent(),e.hideSearchResult(),e.changeModeAndRenderLib(new ee.b),t.next=7,e.loadList();case 7:case"end":return t.stop()}},t)}))),this.element.appendChild(this.searchTool.render())}},{key:"makeHeader",value:function(){this.header=new re(this),this.element.appendChild(this.header.render())}},{key:"makeHoverLayer",value:function(e,n){var i=I()(E()(t.prototype),"makeHoverLayer",this).call(this,e,n);if(e.key.resourceType===F.a.PHOTO||e.key.resourceType===F.a.SVG){var a=Object(D.setToolsIcon)(i,D.ToolsIcon.SETTINGS,!0);a.addEventListener("click",function(){var t=c()(o.a.mark(function t(n){var i,a,r,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.stopPropagation(),i=e.key,e.key.resourceType!==F.a.PHOTO){t.next=9;break}(r=new j.e("",0,0,0,0)).props.setPhotoKey(i.referenceKey),r.orgType=j.b.Photo,a=r,t.next=13;break;case 9:return t.next=11,Fe.a.makeSvgDataFromFileKey(i.referenceKey);case 11:s=t.sent,a=new Ge.a("",s,0,0,0,0);case 13:A.a.dispatch(new Z.c(function(e,t,n){q.a.unselectAllItems(),n.renderHandler(e,t),n.renderItemToolsByItem([a],t,{type:Q.b.ADMIN})}));case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),i.appendChild(a)}var r=e.key.resourceType===F.a.USER_FOLDER?t.folderMap.get(Number(e.key.referenceKey)):t.imageMap.get(e.key.referenceKey),s=document.createElement("div");s.className="checked_layer";var l=this.mode.makeCheckBox(this,s,e);if(l&&(i.appendChild(s),i.appendChild(l)),!this.isInRecycleBin()&&r&&!e.extraData.isAddFolderBin){var u=this._selectedTeamData.teamScope===W.TeamScope.TEAM,h=this.makeUserImageHandleButton(be.instance.maker(e).makeInfoLayer(r,u));i.appendChild(h)}return i}},{key:"updateUI",value:function(e,n){A.a.getEnv().adminMode?this.paginationListTool.element.classList.add(S.a.ADMIN_MODE):this.paginationListTool.element.classList.remove(S.a.ADMIN_MODE),I()(E()(t.prototype),"updateUI",this).call(this,e,n)}},{key:"requestPaginationListAction",value:(L=c()(o.a.mark(function e(n){var i,a,r,s,c,l,u,h,d,p,m,f,g,v,E;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A.a.instance.config.leftMenuPaginationMode===Ue.b.BUTTON&&(this.header.uncheckAllSelectBtn(),this.mode instanceof ee.a?this.changeModeAndRenderLib(new ee.a):this.changeModeAndRenderLib(new ee.b)),i={keyword:this.searchKeyword,orderField:this._orderField,orderBy:this._orderBy,types:[K.a.USER_IMAGE,K.a.USER_SVG]},e.next=4,Pe.instance.loader(this.selectedFolderIdx,this.searchKeyword).load(n,i,this._selectedTeamData);case 4:a=e.sent,this.currentTotal=a.total||0,this.renderSearchResult(),this.isSelectFolder()&&!this.isInRecycleBin()&&(this.mode.emptyListView=this.folderEmptyListView),t.reCycleBin.folderStoreInfo.fileCount=a.recycleBinCount||0,t.reCycleBin.folderStoreInfo.fileSize=a.recycleBinSize||0,this.folders=a.folders||[],this.photos=a.photos||[],this.shouldRenderRecycleBin(n.page)&&(this.folders.unshift(t.reCycleBin),this.folders.unshift(t.addFolderBin)),r=!0,s=!1,c=void 0,e.prev=16,l=this.photos[Symbol.iterator]();case 18:if(r=(u=l.next()).done){e.next=27;break}if(h=u.value,t.imageMap.set(h.uuidKey,h),h.type!==K.a.USER_SVG){e.next=24;break}return e.next=24,ue.b.setSvgThumbnailData(h.uuidKey,h.thumb300Url);case 24:r=!0,e.next=18;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(16),s=!0,c=e.t0;case 33:e.prev=33,e.prev=34,r||null==l.return||l.return();case 36:if(e.prev=36,!s){e.next=39;break}throw c;case 39:return e.finish(36);case 40:return e.finish(33);case 41:d=!0,p=!1,m=void 0,e.prev=44,f=this.folders[Symbol.iterator]();case 46:if(d=(g=f.next()).done){e.next=56;break}if(v=g.value,t.folderMap.set(v.idx,v),!v.folderThumbnailInfo||v.folderThumbnailInfo.type!==K.a.USER_SVG){e.next=53;break}return E=v.folderThumbnailInfo.key,e.next=53,ue.b.setSvgThumbnailData(E,v.folderThumbnailInfo.thumb300Url);case 53:d=!0,e.next=46;break;case 56:e.next=62;break;case 58:e.prev=58,e.t1=e.catch(44),p=!0,m=e.t1;case 62:e.prev=62,e.prev=63,d||null==f.return||f.return();case 65:if(e.prev=65,!p){e.next=68;break}throw m;case 68:return e.finish(65);case 69:return e.finish(62);case 70:return e.abrupt("return",{listItemParams:this.userResourceToListItemParam(),totalRow:this.currentTotal});case 71:case"end":return e.stop()}},e,this,[[16,29,33,41],[34,,36,40],[44,58,62,70],[63,,65,69]])})),function(e){return L.apply(this,arguments)})},{key:"shouldRenderRecycleBin",value:function(e){return 1===e&&0===this.selectedFolderIdx&&P.StringUtil.isEmpty(this.searchKeyword)}},{key:"userResourceToListItemParam",value:function(){var e=this.folders.map(function(e){return t.makeFolderListItemParam(e)});return e=e.concat(this.photos.map(function(e){return t.makePhotoListItemParam(e)}))}},{key:"makeListItem",value:function(e){if(e.key.resourceType===F.a.USER_FOLDER)return this.makeFolderListItem(e);var n=e.key.referenceKey,i=t.imageMap.get(n),a=I()(E()(t.prototype),"makeListItem",this).call(this,e);if($(a).data("key",e.key),i){var r=JSON.parse(i.fileMeta);r&&r.width>0&&r.height>0&&a.setAttribute("data-ratio",String(Number(r.width)/Number(r.height)))}a.classList.add("user_rsc");var o=z.a.map.get(z.a.generateUploadKey(n));return void 0!==o&&o.addRoot(a),a}},{key:"makeFolderDivWithThumbnail",value:function(e,n){var i=e.extraData;if(i.isRecycleBin){var a=document.createElement("img");return a.src="/resources/image/common/recycle_bin.png",_e.makeUserFolderDiv(a,!0,n)}if(i.isAddFolderBin){var r=document.createElement("div");return r.className="icon_wrapper",Object(D.setToolsIcon)(r,D.ToolsIcon.ADD),r}if(i.hasThumbnail){var o=e.thumbList[0],s=i.thumbnailKey,c=e.extraData.thumbnailType,l=this.makeListItemThumbProcess(s,o,c);return _e.makeUserFolderDiv(l,!1,n)}var u=document.createElement("img"),h=this._selectedTeamData.teamScope===W.TeamScope.INDIVIDUAL;return t.defaultFolderImg=h?"/resources/image/common/folder_default.png":"/resources/image/common/team_folder_default.png",u.src=t.defaultFolderImg,_e.makeUserFolderDiv(u,h,n)}},{key:"makeFolderListItem",value:function(e){var n=this,i=e.key.referenceKey,a=t.folderMap.get(+i),r=this.makeFolderDivWithThumbnail(e,a.folderStoreInfo.fileCount),o=document.createElement("li");o.draggable=!1,o.className="user_rsc",o.classList.add("folder"),$(o).data("key",e.key),e.extraData.isRecycleBin&&o.classList.add("recyclebin"),o.appendChild(r),o.appendChild(this.makeHoverLayer(e,o)),o.setAttribute("data-ratio","0.83"),e.extraData.isAddFolderBin?(o.classList.add("add_folder_bin"),o.addEventListener("click",function(){new fe(function(e){n.addUserFolder(e)}).open()})):o.addEventListener("click",function(){n.mode.folderClickHandler(n,a,o)});var s=document.createElement("span");return s.classList.add("title"),s.innerHTML=t.beautifyFolderName(t.folderMap.get(+i).name,6),o.appendChild(s),o}},{key:"showPhotosInFolder",value:(_=c()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.selectedFolderIdx=t.idx,this.header.renderPhotosInFolder(t.name),e.next=4,this.loadList();case 4:case"end":return e.stop()}},e,this)})),function(e){return _.apply(this,arguments)})},{key:"showDefault",value:(T=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.selectedFolderIdx=0,this.header.showDefault(),this.hideSearchResult(),this.changeMode(new ee.b),this.searchKeyword="",this.searchTool.updateUI(""),e.next=8,this.loadList();case 8:case"end":return e.stop()}},e,this)})),function(){return T.apply(this,arguments)})},{key:"btnLoadClickEvent",value:function(){var e=this;b.a.openLoginPopup(N.a.UPLOAD,c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.mode=new ee.b,$(e.fileInput).trigger("click");case 2:case"end":return t.stop()}},t)})))}},{key:"makeBtnUpload",value:function(){var e=this,n=document.createElement("button");n.className=S.a.BTN_IMAGE_UPLOAD,n.innerText="내 이미지 사용",n.addEventListener("click",function(){e.mode=new ee.b,$(r).trigger("click")});var i=document.createElement("div");i.className=S.a.BUTTON_WRAP,i.appendChild(n);var a=t.makeCapacityInfoButton();i.appendChild(a),this.element.appendChild(i),a.addEventListener("click",function(){var n=c()(o.a.mark(function n(i){var r,s;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.stopPropagation(),r=$(a).offset(),n.next=4,V.a.getCapacity(e._selectedTeamData);case 4:s=n.sent.data,X.a.open(t.makeCapacityInfoLayer(s),a,r);case 6:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}());var r=this.fileInput=document.createElement("input");r.type="file",r.multiple=!0,r.accept="image/png, image/jpeg, image/jpg, image/svg+xml",$(r).on("change",c()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.files){t.next=13;break}return t.prev=1,t.next=4,e.uploadUserFile(r.files);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0);case 9:return t.prev=9,e.paginationListTool.loadingUI.hide(),r.value="",t.finish(9);case 13:case"end":return t.stop()}},t,null,[[1,6,9,13]])}))),this.element.appendChild(r)}},{key:"bufferUserFilesDto",value:function(e){this.fileBuffer.push(e)}},{key:"bufferClear",value:function(){var e=this;this.fileBuffer.forEach(function(t){t&&e.addUserFilesDto(t)}),this.fileBuffer=new Array}},{key:"addUserFilesDto",value:(v=c()(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInRecycleBin()){e.next=2;break}return e.abrupt("return");case 2:if(this.isInit){e.next=5;break}return this.bufferUserFilesDto(n),e.abrupt("return");case 5:if(t.imageMap.set(n.uuidKey,n),this.photos.unshift(n),this.currentTotal=this.photos.length,this.header.updateSelectBtnByTotal(this.currentTotal),!this.isSelectFolder()){e.next=12;break}return this.paginationListTool.prependItem(t.makePhotoListItemParam(n)),e.abrupt("return");case 12:this.paginationListTool.appendPhoto(t.makePhotoListItemParam(n)),this.paginationListTool.loadingUI.hide();case 14:case"end":return e.stop()}},e,this)})),function(e){return v.apply(this,arguments)})},{key:"movePhotosToFolder",value:(f=c()(o.a.mark(function e(n){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSelectFolder()){e.next=2;break}return e.abrupt("return");case 2:i=t.imageMap.get(n),oe.movePhotosToFolder([i.uuidKey],this.selectedFolderIdx,this._selectedTeamData,function(e){0});case 4:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"addUserFolder",value:(p=c()(o.a.mark(function e(n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.folderMap.set(n.idx,n),this.folders.unshift(n),e.next=4,this.paginationListTool.prependItem(t.makeFolderListItemParam(n));case 4:this.paginationListTool.loadingUI.hide(),this.loadList();case 6:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"removeUserFile",value:function(e){Y.b.deleteData(e.uuidKey),t.imageMap.delete(e.uuidKey);var n=this.photos.indexOf(e);this.photos=[].concat(a()(this.photos.slice(0,n)),a()(this.photos.slice(n+1)))}},{key:"makePaginationListTool",value:function(){var e=this;return this.paginationListTool=new Ie(function(t){return e.requestPaginationListAction(t)},{listItemRenderAction:function(t){return e.makeListItem(t)},justifyOption:{defaultRowHeight:118,horizonMargin:8,rowWidth:312}},this.pageSize,A.a.instance.config.leftMenuPaginationMode,function(){return e.mode},function(){e.isInit=!0,e.bufferClear()}),this.paginationListTool}},{key:"makeListTool",value:function(){this.element.appendChild(this.makePaginationListTool().render())}},{key:"makeListItemThumb",value:function(e){var t=P.ArrayUtil.isEmpty(e.thumbList)?null:e.thumbList[0];return this.makeListItemThumbProcess(e.key.referenceKey,t,e.key.resourceType)}},{key:"makeListItemThumbProcess",value:function(e,n,i){var a=ue.a.instance.thumbnailMaker(i).makeThumbnail(e,n);return a.onload=function(){var n=t.imageMap.get(e);n&&(n.fileMeta=JSON.stringify({width:a.width,height:a.height}))},a}},{key:"makeDragToUploadLayer",value:function(){var e=this.dragToUploadLayer=document.createElement("div");e.className=S.a.DRAG_TO_UPLOAD_LAYER,e.style.zIndex="10",e.style.opacity="0.8";var t=document.createElement("div");Object(D.setToolsIcon)(t,D.ToolsIcon.UPLOAD_CLOUD);var n=document.createElement("p");n.classList.add(S.a.TITLE),n.innerHTML=P.CRM.get(C.a.TOOLS_LIB_UPLOAD_GUIDE_TITLE),t.appendChild(n);var i=document.createElement("p");i.innerHTML=P.CRM.get(C.a.TOOLS_LIB_UPLOAD_GUIDE_EMPTY_LIST_MSG_1),t.appendChild(i);var a=document.createElement("p");a.innerHTML=P.CRM.get(C.a.TOOLS_LIB_UPLOAD_GUIDE_EMPTY_LIST_MSG_2),t.appendChild(a),e.appendChild(t),e.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()}),e.addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation()})}},{key:"showUploadLayer",value:function(){this.paginationListTool.element.appendChild(this.dragToUploadLayer)}},{key:"removeUploadLayer",value:function(){$(this.dragToUploadLayer).remove()}},{key:"uploadUserFile",value:(h=c()(o.a.mark(function e(t){var n,i=this,a=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!(t instanceof FileList&&0===t.length)){e.next=3;break}return e.abrupt("return");case 3:return this.removeUploadLayer(),e.next=6,Be.a.selectLeftMenu(Me.b.UPLOAD_LIB,!1);case 6:if(!this.isInRecycleBin()&&t&&(t instanceof File||t instanceof FileList&&t.length>0)&&(A.a.instance.user.isLogin()||!n)&&A.a.isDefaultMode()){e.next=8;break}return e.abrupt("return");case 8:b.a.openLoginPopup(N.a.UPLOAD,c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.showLoadingUi(!0),e.prev=1,e.next=4,V.a.uploadUserFile(t,n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:return e.prev=9,i.showLoadingUi(!1),e.finish(9);case 12:case"end":return e.stop()}},e,null,[[1,6,9,12]])})));case 9:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"getLoginNotiMsg",value:function(){return P.CRM.get(C.a.TOOLS_LIB_LOGIN_NOTI_MSG_DEFAULT)}},{key:"loadList",value:(l=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkLogin()){e.next=2;break}return e.abrupt("return");case 2:if(this._selectedTeamData){e.next=6;break}return e.next=5,De.a.getDefaultSelectedTeamData();case 5:this._selectedTeamData=e.sent;case 6:return this.paginationListTool.setListEmptyView(this.mode.emptyListView),this.mode.renderBeforeLoadListLib(this),e.next=10,I()(E()(t.prototype),"loadList",this).call(this);case 10:this.mode.renderAfterLoadListLib(this);case 11:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"isSelectFolder",value:function(){return 0!==this.selectedFolderIdx}},{key:"makeUserImageHandleButton",value:function(e){var t=document.createElement("div");return t.className=S.a.DDDOT_WRAP,Object(D.setToolsIcon)(t,D.ToolsIcon.DDDOT),this.mode instanceof ee.d||t.classList.add(S.a.ACTIVE),document.createElement("div").className=S.a.TOOLS_TAB,t.addEventListener("click",function(n){n.stopPropagation();var i=$(t).offset();X.a.open(e,t,i)}),t}},{key:"renderSelectMode",value:function(){this.disabledUploadBtnAndSearchTool(),this.header.hideOrderSelectBtn(),this.header.renderSelectButtons(this._selectedTeamData.teamScope),this.header.updateSelectModeButtonsByCheckCount(this.checkedData.size),this.header.updateClickCount(this.checkedData.size,this.currentTotal),this.setActiveDottedIcon(!1);var e=!0,t=!1,n=void 0;try{for(var i,a=this.element.getElementsByClassName("user_rsc")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var r=i.value;if(r.classList.contains("recyclebin")||r.classList.contains("add_folder_bin"))r.classList.add("disabled");else{var o=r.getElementsByClassName("user_lib_checkbox")[0];$(o).css("visibility","visible")}}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}},{key:"renderAllSelectMode",value:(s=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestAll();case 2:this.disabledUploadBtnAndSearchTool(),this.header.renderSelectButtons(this._selectedTeamData.teamScope),this.header.updateSelectModeButtonsByCheckCount(this.checkedData.size),this.header.updateClickCount(this.checkedData.size,this.currentTotal),this.allSelectLi();case 7:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"renderAllSelectInRecycleBinMode",value:(r=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestAll();case 2:this.header.renderRecycleBinButtons(),this.header.updateRecycleBinButtonsByCheckCount(this.checkedData.size),this.header.updateClickCount(this.checkedData.size,this.currentTotal),this.allSelectLi();case 6:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"allSelectLi",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,a=this.element.getElementsByClassName("user_rsc")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var r=i.value;if(r.classList.contains("recyclebin")||r.classList.contains("add_folder_bin"))r.classList.add("disabled");else{var o=r.getElementsByClassName("user_lib_checkbox")[0],s=r.getElementsByClassName("checked_layer")[0],c=$(r).data("key").referenceKey;this.checkedData.has(c)?this.renderCheckBox(o,s):this.renderUnCheckBox(o,s)}}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}},{key:"setActiveDottedIcon",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=this.element.getElementsByClassName("user_rsc")[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(!o.classList.contains("recyclebin")&&!o.classList.contains("add_folder_bin")){var s=o.getElementsByClassName(S.a.DDDOT_WRAP)[0];s&&(e?s.classList.add(S.a.ACTIVE):s.classList.remove(S.a.ACTIVE))}}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"renderInRecycleBinBeforeLoad",value:function(){this.checkedData.clear(),this.disabledUploadBtnAndSearchTool(),this.header.updateRecycleBinButtonsByCheckCount(this.checkedData.size),this.header.renderInRecycleBinBeforeLoad()}},{key:"renderInRecycleBinAfterLoad",value:function(){this.header.renderInRecycleBinAfterLoad(this.checkedData.size,this.currentTotal);var e=!0,t=!1,n=void 0;try{for(var i,a=this.element.getElementsByClassName("user_rsc")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var r=i.value,o=r.getElementsByClassName("user_lib_checkbox")[0],s=r.getElementsByClassName("checked_layer")[0];this.renderUnCheckBox(o,s),$(o).css("visibility","visible")}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}},{key:"renderNormalModeBeforeLoad",value:function(){this.checkedData.clear(),this.enabledUploadBtnAndSearchTool(),this.header.renderNormalModeBeforeLoad(),this.setActiveDottedIcon(!0)}},{key:"renderNormalModeAfterLoad",value:function(){this.header.renderNormalModeAfterLoad(this.currentTotal);var e=!0,t=!1,n=void 0;try{for(var i,a=this.element.getElementsByClassName("user_rsc")[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var r=i.value;if(r.classList.contains("recyclebin")||r.classList.contains("add_folder_bin"))r.classList.remove("disabled");else{var o=r.getElementsByClassName("user_lib_checkbox")[0],s=r.getElementsByClassName("checked_layer")[0];this.renderUnCheckBox(o,s),$(o).css("visibility","")}}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}},{key:"updateCheckState",value:function(e,t,n){this.checkedData.has(n.referenceKey)?(this.renderUnCheckBox(e,t),this.checkedData.delete(n.referenceKey)):(this.renderCheckBox(e,t),this.checkedData.set(n.referenceKey,n))}},{key:"selectCheckBox",value:function(e,t,n){var i=A.a.instance.config.leftMenuPaginationMode===Ue.b.BUTTON?this.paginationListTool.getCurrnetPaginationParam().pageSize:this.currentTotal;this.updateCheckState(e,t,n),this.header.updateSelectModeButtonsByCheckCount(this.checkedData.size),this.header.updateClickCount(this.checkedData.size,i),0===this.checkedData.size&&this.changeModeAndRenderLib(new ee.b)}},{key:"selectTrashCheckBox",value:function(e,t,n){var i=A.a.instance.config.leftMenuPaginationMode===Ue.b.BUTTON?this.paginationListTool.getCurrnetPaginationParam().pageSize:this.currentTotal;this.updateCheckState(e,t,n),this.header.uncheckAllSelectBtn(),this.header.updateRecycleBinButtonsByCheckCount(this.checkedData.size),this.header.updateClickCount(this.checkedData.size,i)}},{key:"makeCheckBox",value:function(e,t){var n=this,i=document.createElement("div");return i.className="user_lib_checkbox",Object(D.setToolsIcon)(i,D.ToolsIcon.CHECK),i.addEventListener("click",function(a){a.stopPropagation(),n.header.uncheckAllSelectBtn(),n.mode.checkBoxClickHandler(n,i,t,e.key)}),i}},{key:"makeCheckBoxInAllSelectMode",value:function(e,t){var n=this.makeCheckBoxInSelectMode(e,t);return this.renderCheckBox(n,t),n}},{key:"renderCheckBox",value:function(e,t){var n=e.getElementsByClassName("icon_check")[0];n&&(t.classList.add("checked"),n.classList.add("checked_icon"))}},{key:"renderUnCheckBox",value:function(e,t){var n=e.getElementsByClassName("icon_check")[0];n&&(t.classList.remove("checked"),n.classList.remove("checked_icon"))}},{key:"makeCheckBoxInSelectMode",value:function(e,t){var n=this.makeCheckBox(e,t);return $(n).css("visibility","visible"),n}},{key:"getIcon",value:function(){return D.ToolsIcon.ADD_PHOTO_OUTLINE}},{key:"getName",value:function(){return"업로드"}},{key:"updateStatus",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;oe.updateStatusFoldersAndPhotos(e,t,this._selectedTeamData,function(){n.mode=i,n.loadList()})}},{key:"updateStatusCheckedData",value:function(e,t){var n=Array.from(this.checkedData.values()).map(function(e){return{key:e.referenceKey,type:e.resourceType}});this.updateStatus(n,e,t)}},{key:"clickListItem",value:function(e,n){this.mode instanceof ee.d?this.triggerClickCheckBoxInItem(n):I()(E()(t.prototype),"clickListItem",this).call(this,e,n)}},{key:"triggerClickCheckBoxInItem",value:function(e){var t=e.getElementsByClassName("user_lib_checkbox")[0];t&&$(t).trigger("click")}},{key:"includeFolder",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,a=this.checkedData.values()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){if(i.value.resourceType===F.a.USER_FOLDER)return!0}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}return!1}},{key:"openFolderListPopup",value:function(){var e=this;if(this.includeFolder())se.a.open({title:"폴더 이동 불가",subTitle:"폴더는 이동할 수 없습니다. 폴더 선택을 해제하고 다시 시도해주세요."});else{var n=t.folderMap.get(this.selectedFolderIdx)?t.folderMap.get(this.selectedFolderIdx).name:null,i=new He(this.selectedFolderIdx,this.checkedData,this.isSelectFolder(),function(t){e.mode=new ee.b,e.loadList(),i.close()},n);i.open({top:160,left:370})}}},{key:"openCopyUserResourcePopup",value:function(){var e=this;if(this.includeFolder())se.a.open({title:"폴더 복제 불가",subTitle:"폴더는 복제할 수 없습니다. 폴더 선택을 해제하고 다시 시도해주세요."});else{var t={fileKeys:Array.from(this.checkedData.values()).map(function(e){return e.referenceKey}),teamData:this._selectedTeamData,scopeToCopy:this._selectedTeamData.teamScope===W.TeamScope.TEAM?W.TeamScope.INDIVIDUAL:W.TeamScope.TEAM,folderIdx:0};me.open(t,function(){e.changeModeAndRenderLib(new ee.b)})}}},{key:"showLoadingUi",value:function(e){e?this.paginationListTool.loadingUI.show():this.paginationListTool.loadingUI.hide()}},{key:"changeModeAndRenderLib",value:function(e){this.mode=e,this.mode.renderBeforeLoadListLib(this),this.mode.renderAfterLoadListLib(this)}},{key:"changeMode",value:function(e){this.mode=e}},{key:"requestAll",value:(i=c()(o.a.mark(function e(){var n,i,a,r=this;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={keyword:this.searchKeyword,orderField:this._orderField,orderBy:this._orderBy,types:[K.a.USER_IMAGE,K.a.USER_SVG]},i=A.a.instance.config.leftMenuPaginationMode===Ue.b.BUTTON?this.paginationListTool.getCurrnetPaginationParam():{page:1,pageSize:this.currentTotal,blockSize:0},e.next=4,Pe.instance.loader(this.selectedFolderIdx,this.searchKeyword).load(i,n,this._selectedTeamData);case 4:((a=e.sent).folders||[]).forEach(function(e){var n=t.makeFolderListItemParam(e).key;r.checkedData.set(String(e.idx),n)}),(a.photos||[]).forEach(function(e){var n=t.makePhotoListItemParam(e).key;r.checkedData.set(e.uuidKey,n)});case 7:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"updateStatusAll",value:function(e,t){var n=this;oe.updateStatusAll(e,this._selectedTeamData,function(){n.mode=t,n.loadList()})}},{key:"disabledUploadBtnAndSearchTool",value:function(){var e=this.element.getElementsByClassName("team_scope_tab")[0];e&&e.classList.add("disabled");var t=this.element.getElementsByClassName("button_wrap")[0];this.searchTool.element.classList.add("disabled"),t.classList.add("disabled")}},{key:"enabledUploadBtnAndSearchTool",value:function(){var e=this.element.getElementsByClassName("team_scope_tab")[0];e&&e.classList.remove("disabled");var t=this.element.getElementsByClassName("button_wrap")[0];this.searchTool.element.classList.remove("disabled"),t.classList.remove("disabled")}},{key:"isInRecycleBin",value:function(){return this.mode instanceof ee.a}},{key:"checkAll",value:function(){this.isInRecycleBin()?this.changeModeAndRenderLib(new ee.a(!0)):this.changeModeAndRenderLib(new ee.d(!0))}},{key:"uncheckAll",value:function(){this.isInRecycleBin()?this.changeModeAndRenderLib(new ee.a):this.changeModeAndRenderLib(new ee.b)}},{key:"renderSearchResult",value:function(){if(this.isSelectFolder()){var e=t.folderMap.get(this.selectedFolderIdx).name;this.searchResultSpan.innerHTML="'".concat(e,"' 폴더의 검색 결과 ").concat(this.currentTotal,"개")}else this.searchResultSpan.innerHTML="전체 검색 결과 ".concat(this.currentTotal,"개")}},{key:"showSearchResult",value:function(){$(this.searchResultSpan).show()}},{key:"hideSearchResult",value:function(){$(this.searchResultSpan).hide()}},{key:"openPermanentlyDelPopup",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=n?t.reCycleBin.folderStoreInfo.fileCount:this.checkedData.size;se.a.open({title:"영구 삭제",subTitle:"삭제된 파일 및 폴더는 다시 복원할 수 없습니다. ".concat(i,"개의 항목을 정말 삭제하시겠습니까?"),confirmAction:function(){n?e.updateStatusAll(G.PERMANENTLY_INACTIVE,new ee.b):e.updateStatusCheckedData(G.PERMANENTLY_INACTIVE,new ee.a)}})}},{key:"fileUpdateComplete",value:function(e){for(var t=this.fileBuffer.slice(),n=0;n<t.length;n++){t[n].filename===e&&this.fileBuffer.splice(n,1)}}},{key:"justifyList",value:(n=c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.paginationListTool.justifyList();case 2:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"setJustifyRequire",value:function(){this.paginationListTool.setJustifyRequire()}},{key:"isJustifyRequire",value:function(){return this.paginationListTool.isJustifyRequire()}},{key:"isInitComplete",value:function(){return!0===this.isInit}},{key:"getBufferLen",value:function(){return this.fileBuffer.length}},{key:"orderBy",set:function(e){this._orderBy=e}},{key:"orderField",set:function(e){this._orderField=e}},{key:"selectedTeamData",get:function(){return this._selectedTeamData}}],[{key:"makeFolderListItemParam",value:function(e){var n=void 0!==e.folderThumbnailInfo&&null!==e.folderThumbnailInfo,i={hasThumbnail:n,thumbnailKey:n?e.folderThumbnailInfo.key:null,thumbnailType:n?e.folderThumbnailInfo.type:null,isRecycleBin:-1===e.idx,isAddFolderBin:-2===e.idx};return{key:{referenceKey:String(e.idx),resourceType:F.a.USER_FOLDER,repositoryType:H.a.UNICORN},thumbList:[n?e.folderThumbnailInfo.thumb300Url:t.defaultFolderImg],extraData:i}}},{key:"makePhotoListItemParam",value:function(e){var t=e.type===K.a.USER_IMAGE?F.a.PHOTO:F.a.SVG;return{key:{referenceKey:e.uuidKey,resourceType:t,repositoryType:H.a.UNICORN},thumbList:[e.thumb300Url],extraData:{isRecycleBin:!1,isAddFolderBin:!1}}}},{key:"reset",value:function(){t.instance=new t}},{key:"makeEmptyListNotiLayer",value:function(){var e=document.createElement("div");e.className=S.a.EMPTY_LIST_NOTI_LAYER;var t=document.createElement("div");Object(D.setToolsIcon)(t,D.ToolsIcon.ITEM_PHOTO,!0);var n=document.createElement("p");n.classList.add(S.a.TITLE),n.innerHTML=P.CRM.get(C.a.TOOLS_LIB_UPLOAD_EMPTY_LIST_MSG),t.appendChild(n);var i=document.createElement("p");return i.innerHTML=P.CRM.get(C.a.TOOLS_LIB_UPLOAD_EMPTY_LIST_MSG_2),t.appendChild(i),e.appendChild(t),e.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()}),e.addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation()}),e}},{key:"makeFolderEmptyListNotiLayer",value:function(){var e=document.createElement("div");e.className=S.a.EMPTY_LIST_NOTI_LAYER;var t=document.createElement("div");Object(D.setToolsIcon)(t,D.ToolsIcon.FOLDER_OUTLINE,!0);var n=document.createElement("p");n.classList.add(S.a.TITLE),n.innerHTML="폴더가 비어있어요.",t.appendChild(n);var i=document.createElement("p");return i.innerHTML="내 이미지 사용 버튼을 클릭하여</br>사진, SVG 파일을 올려보세요!",t.appendChild(i),e.appendChild(t),e}},{key:"makeRecyclebinEmptyListNotiLayer",value:function(){var e=document.createElement("div");e.className=S.a.EMPTY_LIST_NOTI_LAYER;var t=document.createElement("div"),n=(Object(D.setToolsIcon)(t,D.ToolsIcon.DELETE_OUTLINE,!0),document.createElement("p"));n.classList.add(S.a.TITLE),n.innerHTML="휴지통이 비어있어요.",t.appendChild(n);var i=document.createElement("p");return i.innerHTML="휴지통에 버려지면 30일간 보관 후</br>자동으로 삭제돼요!",t.appendChild(i),e.appendChild(t),e}},{key:"showDragToUploadLayer",value:function(){Be.a.showLeftMenu(),Be.a.selectLeftMenu(Me.b.UPLOAD_LIB).catch(function(e){return console.error(e)}),t.instance.isInRecycleBin()||t.instance.showUploadLayer()}},{key:"removeDragToUploadLayer",value:function(){t.instance.removeUploadLayer()}},{key:"beautifyFileName",value:function(e){var t=e.length;return t<20?e:"".concat(e.substring(0,8)," ... ").concat(e.substring(t-8,t))}},{key:"beautifyFolderName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=e.length;return n<t+1?e:"".concat(e.substring(0,t),"...")}},{key:"makeCapacityInfoButton",value:function(){var e=document.createElement("button");return e.className=S.a.BTN_CAPACITY_INFO,e.type="button",Object(D.setToolsIcon)(e,D.ToolsIcon.OUTLINE),e}},{key:"makeCapacityInfoLayer",value:function(e){var t=document.createElement("div");Object(D.setToolsIcon)(t,D.ToolsIcon.CLOSE),t.className=S.a.UPLOAD_INFO_LAYER;var n=document.createElement("header");n.innerText="업로드 정보",t.appendChild(n);var i=document.createElement("div");i.className=S.a.STORAGE_INFO;var a=document.createElement("span");a.innerText="저장 공간";var r=document.createElement("span");r.innerText="".concat(V.a.getSizeDescription(e)," / 1GB"),i.appendChild(a),i.appendChild(r),t.appendChild(i);var o=document.createElement("div");o.className=S.a.FILE_GUIDE;var s=document.createElement("div");s.className=S.a.FILE_GUIDE_WRAP;var c=document.createElement("span");c.innerText="파일 포맷";var l=document.createElement("span");l.innerText="JPG, PNG, SVG",s.appendChild(c),s.appendChild(l),o.appendChild(s);var u=document.createElement("div");u.className=S.a.FILE_GUIDE_WRAP;var h=document.createElement("span");h.innerText="파일 크기";var d=document.createElement("span");return d.innerText="25MB 이하",u.appendChild(h),u.appendChild(d),o.appendChild(u),t.appendChild(o),t}}]),t}(B);function We(e){var t=e.dataTransfer.items[0];t&&"file"===t.kind&&Ye(t.type)&&!document.contains(e.relatedTarget)&&(Ve.removeDragToUploadLayer(),e.stopPropagation(),e.preventDefault())}function Ke(e){var t=e.dataTransfer.items[0];t&&"file"===t.kind&&Ye(t.type)&&(Ve.showDragToUploadLayer(),e.stopPropagation(),e.preventDefault())}function Ye(e){return"image/png"===e||"image/jpeg"===e||"image/jpg"===e||"image/svg+xml"===e}O()(Ve,"defaultFolderImg","/resources/image/common/folder_default.png"),O()(Ve,"reCycleBin",{idx:-1,name:"휴지통",accountId:-1,parentIdx:-1,folderStoreInfo:{fileCount:0,fileSize:0}}),O()(Ve,"addFolderBin",{idx:-2,name:"새 폴더",accountId:-2,parentIdx:-2,folderStoreInfo:{fileCount:0,fileSize:0}}),O()(Ve,"instance",new Ve),O()(Ve,"imageMap",new Map),O()(Ve,"folderMap",new Map)},function(e,t,n){"use strict";var i=n(168),a=n.n(i),r=n(0),o=n.n(r),s=n(1),c=n.n(s),l=n(35),u=n.n(l),h=n(36),d=n.n(h),p=n(37),m=n.n(p),f=n(42),g=n(45),v=n(225),E=n(97),T=n(50),I=n(59),_=n(64),y=n(49),L=n(101),O=n(3),S=n(118),P=n(261),k=n(43),A=(n(421),n(61)),R=n(56),C=n(331),b=n(54),w=n(87),x=n(47),N=n(293),D=n(96),M=n(66),B=n(167),U=n(172),G=n(137),F=n(203),H=n(240),V=n(136),W=n(55),K=n(79),Y=n(53),z=n(160),X=n(325),j=n(71),Z=n(62),q=n(133),$=n(150),Q=n(75),J=function(){function e(){u()(this,e)}return d()(e,null,[{key:"isSrcSizeBiggerEitherDstWidthOrHeight",value:function(e,t){return e.width>t.width||e.height>t.height}}]),e}(),ee=function(){function e(){u()(this,e)}return d()(e,null,[{key:"isApplicableItem",value:function(e,t){return!e.isResourceLoadFail()&&this.isBigSize(e,t)}},{key:"isBigSize",value:function(e,t){if(!e.getImageElement())return!1;var n=this.getImageSizeInfo(e),i=n.photoLTRBSize,a=n.srcSize;return!!J.isSrcSizeBiggerEitherDstWidthOrHeight(t,a)&&J.isSrcSizeBiggerEitherDstWidthOrHeight(i,a)}},{key:"getImageSizeInfo",value:function(e){var t=e.getImageElement(),n=e.itemPosition;return{srcSize:{width:t.width,height:t.height},photoLTRBSize:{width:n.getWidth(),height:n.getHeight()}}}}]),e}(),te=function(){function e(){u()(this,e)}return d()(e,null,[{key:"isApplicableItem",value:function(e){return!e.isDefaultImage()}}]),e}(),ne=n(166),ie=n(73),ae=n.n(ie),re=function(){function e(){u()(this,e)}return d()(e,null,[{key:"isApplicableItem",value:function(e){return this.existTextSizeLessThanMinSize(e)}},{key:"existTextSizeLessThanMinSize",value:function(e){for(var t=e.props.getSizes(),n=0;n<t.length;n++){if(Math.min.apply(Math,ae()(t[n]))<this.MIN_SIZE_PT)return!0}return!1}}]),e}();m()(re,"MIN_SIZE_PT",14);var oe=function(){function e(){u()(this,e)}return d()(e,null,[{key:"isAcceptable",value:function(e,t){var n=this,i=!1;return e.forEach(function(e){n.existAcceptableItemInPage(e,t)&&(i=!0)}),i}},{key:"existAcceptableItemInPage",value:function(e,t){var n=!0,i=!1,a=void 0;try{for(var r,o=e.getAllSingleItems()[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;if(!this.isNotApplicableItemType(s)&&this.existInEachItemType(s,t))return!0}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return!1}},{key:"existInEachItemType",value:function(e,t){var n,i={width:0,height:0};if(e instanceof M.b){var a=e.innerPhotoItem;return n=t.has(a.tbpeId)?t.get(a.tbpeId):i,te.isApplicableItem(e)&&ee.isApplicableItem(a,n)}return e instanceof T.e?(n=t.has(e.tbpeId)?t.get(e.tbpeId):i,ee.isApplicableItem(e,n)):e instanceof ne.a||e instanceof Z.b&&re.isApplicableItem(e)}},{key:"isAcceptableOld",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=e[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value,s=!0,c=!1,l=void 0;try{for(var u,h=o.getAllSingleItems()[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;if(this.isNotApplicableItemType(d))return!1}}catch(e){c=!0,l=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return!0}},{key:"isNotApplicableItemType",value:function(e){return e instanceof B.a||e instanceof q.a||e instanceof $.a||e instanceof Q.b}}]),e}(),se=n(58),ce=n(164),le=n(39),ue=n.n(le),he=n(38),de=n.n(he),pe=n(44),me=n.n(pe),fe=n(40),ge=n.n(fe),ve=n(296),Ee=n(46),Te=n.n(Ee),Ie=n(90),_e=n(210),ye=n(211),Le=function(){function e(){u()(this,e)}return d()(e,[{key:"makeElement",value:function(){var e=document.createElement("div");e.className=Ie.a.CHARACTER_VIEW;var t=this.character=document.createElement("div");return t.classList.add(Ie.a.CHARACTER,Ie.a.EMAIL_RECEIVE_SUCCESS_CHARACTER),t.addEventListener("click",function(){return ye.a.clickElement(t)}),e.appendChild(t),e}}]),e}(),Oe=function(e){function t(){var e;return u()(this,t),e=ue()(this,de()(t).call(this)),m()(me()(e),"characterView",new Le),e.initialize(),e}return ge()(t,e),d()(t,[{key:"initialize",value:function(){Te()(de()(t.prototype),"initialize",this).call(this),this.popup.classList.add(Ie.a.EMAIL_RECEIVE_SUCCESS)}},{key:"makeContentElement",value:function(){var e=Te()(de()(t.prototype),"makeContentElement",this).call(this);return e.appendChild(this.characterView.makeElement()),e.appendChild(t.makeTitleElement()),e.appendChild(this.makeSubTitleElement()),e.appendChild(this.makeButtonAreaElement()),e}},{key:"makeSubTitleElement",value:function(){var e=this.subTitle=document.createElement("div");return e.className=Ie.a.SUB_TITLE,e.innerText=O.CRM.get(k.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_SUCCESS_SUB_TITLE),e}},{key:"makeButtonAreaElement",value:function(){var e=this,t=this.btnArea=document.createElement("div");t.className=Ie.a.BTN_AREA;var n=document.createElement("button");return n.className=Ie.a.BTN_CONFIRM,n.innerText=O.CRM.get(k.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_SUCCESS_BTN_CONFIRM),n.addEventListener("click",function(){return e.close()}),t.appendChild(n),t}},{key:"setActionSet",value:function(e){this.actionSet=e}},{key:"updateUI",value:function(){this.updateSubTitle()}},{key:"updateSubTitle",value:function(){var e=O.CRM.get(k.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_SUCCESS_SUB_TITLE),t=this.subTitle;this.actionSet.isMobileMode()?t.innerText=e.replace("\n"," "):t.innerText=e}}],[{key:"makeTitleElement",value:function(){var e=document.createElement("div");return e.className=Ie.a.MAIN_TITLE,e.innerText=O.CRM.get(k.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_SUCCESS_TITLE),e}},{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(_e.a),Se=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=ue()(this,(e=de()(t)).call.apply(e,[this].concat(a))),m()(me()(n),"actionType",g.a.ONE_TIME),m()(me()(n),"doSaveQueue",!1),m()(me()(n),"renderAuto",!1),m()(me()(n),"changeDesign",function(){return!1}),m()(me()(n),"commitAction",function(e,t,i){n.meta=e,n.store=t,n.renderer=i;var a=Oe.instance,r={isMobileMode:function(){return f.a.isMobileMode()},isDevMode:function(){return f.a.getEnv().devMode}};a.setActionSet(r),a.open()}),m()(me()(n),"rollbackAction",function(){}),m()(me()(n),"recycle",function(){}),n}return ge()(t,e),t}(g.b),Pe=function(){function e(){u()(this,e)}return d()(e,[{key:"makeElement",value:function(){var e=document.createElement("div");e.className=Ie.a.CHARACTER_VIEW;var t=this.character=document.createElement("div");return t.classList.add(Ie.a.CHARACTER,Ie.a.EMAIL_RECEIVE_FAILURE_CHARACTER),t.addEventListener("click",function(){return ye.a.clickElement(t)}),e.appendChild(t),e}}]),e}(),ke=n(12),Ae=n(212),Re=function(e){function t(){var e;return u()(this,t),e=ue()(this,de()(t).call(this)),m()(me()(e),"characterView",new Pe),e.initialize(),e}return ge()(t,e),d()(t,[{key:"initialize",value:function(){Te()(de()(t.prototype),"initialize",this).call(this),this.popup.classList.add(Ie.a.EMAIL_RECEIVE_FAILURE)}},{key:"makeContentElement",value:function(){var e=Te()(de()(t.prototype),"makeContentElement",this).call(this);return e.appendChild(this.characterView.makeElement()),e.appendChild(t.makeTitleElement()),e.appendChild(this.makeSubTitleElement()),e.appendChild(this.makeCertificationInfoElement()),e.appendChild(this.makeButtonAreaElement()),e}},{key:"makeSubTitleElement",value:function(){var e=this.subTitle=document.createElement("div");return e.className=Ie.a.SUB_TITLE,e.innerText=O.CRM.get(k.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_FAILURE_SUB_TITLE),e}},{key:"makeCertificationInfoElement",value:function(){var e=this.information=document.createElement("div");e.className=Ie.a.INFORMATION_WRAP;var t=O.CRM.get(k.a.MYSPACE_USER_INFO);e.addEventListener("click",function(){return Ae.a.openByNewTab(t)});var n=document.createElement("div");n.className=Ie.a.INFORMATION,n.innerText=O.CRM.get(k.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_FAILURE_CERTIFICATION_INFO);return Object(ke.setToolsIcon)(n,ke.ToolsIcon.EMAIL,!1,"left"),e.appendChild(n),e}},{key:"makeButtonAreaElement",value:function(){var e=this,t=this.btnArea=document.createElement("div");t.className=Ie.a.BTN_AREA;var n=document.createElement("button");return n.className=Ie.a.BTN_CONFIRM,n.innerText=O.CRM.get(k.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_FAILURE_BTN_CONFIRM),n.addEventListener("click",function(){return e.close()}),t.appendChild(n),t}},{key:"updateUI",value:function(){}}],[{key:"makeTitleElement",value:function(){var e=document.createElement("div");return e.className=Ie.a.MAIN_TITLE,e.innerText=O.CRM.get(k.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_EMAIL_RECEIVE_FAILURE_TITLE),e}},{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(_e.a),Ce=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=ue()(this,(e=de()(t)).call.apply(e,[this].concat(a))),m()(me()(n),"actionType",g.a.ONE_TIME),m()(me()(n),"doSaveQueue",!1),m()(me()(n),"renderAuto",!1),m()(me()(n),"changeDesign",function(){return!1}),m()(me()(n),"commitAction",function(e,t,i){n.meta=e,n.store=t,n.renderer=i,Re.instance.open()}),m()(me()(n),"rollbackAction",function(){}),m()(me()(n),"recycle",function(){}),n}return ge()(t,e),t}(g.b),be=function(e){function t(){var e,n;u()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=ue()(this,(e=de()(t)).call.apply(e,[this].concat(a))),m()(me()(n),"actionType",g.a.ONE_TIME),m()(me()(n),"doSaveQueue",!1),m()(me()(n),"renderAuto",!1),m()(me()(n),"changeDesign",function(){return!1}),m()(me()(n),"commitAction",function(e,i,a){n.meta=e,n.store=i,n.renderer=a;var r=ve.a.instance;r.setDividePageInfoUrl("https://bo.miricanvas.com/s/23");r.setTipProps([{content:"저작권이 궁금하시죠? 자세한 저작권 규정을 확인해보세요.",highlightText:"저작권",linkUrl:"https://bo.miricanvas.com/s/25"},{content:"포토샵 없이 워터마크, 블로그 서명을 만들어보세요.",highlightText:"워터마크, 블로그 서명",linkUrl:"https://bo.miricanvas.com/s/26"},{content:"내가 가진 이미지를 사용하고 싶다면? 업로드 메뉴를 이용해보세요.",highlightText:"내가 가진 이미지",linkUrl:"https://bo.miricanvas.com/s/27"},{content:"밝은 화면에 눈이 피로하신가요? 다크모드로 변경하여 작업해보세요.",highlightText:"다크모드",linkUrl:"https://bo.miricanvas.com/s/28"}]);var o={isMobileMode:function(){return f.a.isMobileMode()},isDevMode:function(){return f.a.getEnv().devMode},isDownloadMultipleFile:function(){return t.isDownloadMultipleFile()},receiveDesignFileByEmail:function(){return n.receiveDesignFileByEmail()}};r.setActionSet(o),r.open()}),m()(me()(n),"rollbackAction",function(){}),m()(me()(n),"recycle",function(){}),n}var n;return ge()(t,e),d()(t,[{key:"receiveDesignFileByEmail",value:(n=c()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.user||!this.store.user.authStatus){e.next=6;break}return e.next=3,N.a.sendHQImageFileByEmail();case 3:t=new Se,e.next=8;break;case 6:N.a.cancel(),t=new Ce;case 8:ve.a.instance.close(),f.a.dispatch(t);case 10:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})}],[{key:"isDownloadMultipleFile",value:function(){var e=N.a.getLastImageProcessDownloadProperty();return e&&e.pageIdxList.length>1&&!(e.isImgCombine||e.fileExt===z.b.PDF)}}]),t}(g.b),we=function(){function e(){u()(this,e)}return d()(e,null,[{key:"resizeBySize",value:function(e,t){var n=V.a.getItemsLTRBCoordinate(e,!0),i=new y.a(0,0,t.width,t.height);this.isRightAndBottomInner(n,i)||(this.moveItems(V.a.getAllSingleItems(e),n),n=V.a.getItemsLTRBCoordinate(e,!0),this.isRightAndBottomInner(n,i)||this.resizeItems(V.a.getAllSingleItems(e),n,i))}},{key:"moveItems",value:function(e,t){var n=-t.left,i=-t.top;e.forEach(function(e){return e.move(n,i)})}},{key:"resizeItems",value:function(e,t,n){var i=this.getResizeScaleByPageSize(t,n);e.forEach(function(e){return e.setLTRBCoordinate(e.getLTRBCoordinate().changeScale(i))})}},{key:"getResizeScaleByPageSize",value:function(e,t){return e.right-t.right>=e.bottom-t.bottom?t.right/e.right:t.bottom/e.bottom}},{key:"isRightAndBottomInner",value:function(e,t){return e.right<=t.right&&e.bottom<=t.bottom}}]),e}();function xe(e){return!!e.length&&e.every(function(e){return!(e.isResourceLoadFail()||e instanceof B.a||e instanceof T.e&&e.orgType===T.b.Photo)})}n.d(t,"c",function(){return Ne}),n.d(t,"e",function(){return Me}),n.d(t,"d",function(){return Be}),n.d(t,"b",function(){return Ue}),n.d(t,"a",function(){return Ge});var Ne=function(){function e(t,n){u()(this,e),m()(this,"doSaveQueue",!1),m()(this,"actionType",g.a.PRESET_SAVE),m()(this,"isActionGroupEquals",function(){return!1}),m()(this,"concat",function(e){return!1}),m()(this,"changeDesign",function(){return!1}),m()(this,"isLastSavedAction",!1),this.param=t,this.isDefaultTextSave=n}var t;return d()(e,[{key:"commit",value:function(t,n,i){var a=this;xe(n.activeItems)?e.makeThumb().then(function(){var n=c()(o.a.mark(function n(r){var s,c;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=C.a.makeMockXml(t.sheets.version),n.next=3,E.a.create({name:O.StringUtil.nvl(a.param.name),thumb:r,xml:encodeURIComponent((new XMLSerializer).serializeToString(s)),type:a.param.type,status:a.param.status,designerId:a.param.designerId,keywordList:a.param.keywordList,memo:O.StringUtil.nvl(a.param.memo)});case 3:n.sent,c=e.getLeftMenuType(a.param.type),i.leftBar.getMenu(c).load(),alert(O.CRM.get(a.isDefaultTextSave?k.a.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_SAVE_DEFAULT_TEXT_SUCCESS_MSG:k.a.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_SAVE_SUCCESS_MSG)),i.leftBar.activeMenu(c);case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()).catch(function(e){alert(O.CRM.get(k.a.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_CREATE_FAIL_MSG)),console.error(e)}):alert(O.CRM.get(k.a.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_INVALID_RESOURCE_MSG))}},{key:"rollback",value:function(e,t){}},{key:"recycle",value:function(){}}],[{key:"getLeftMenuType",value:function(e){return e===E.c.MOCKUP_GRID?Y.b.GRID_LIB:Y.b.TEXT_LIB}},{key:"makeThumb",value:(t=c()(o.a.mark(function e(){var t,n,i=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:this.THUMB_SIZE_DEFAULT,n=i.length>1?i[1]:void 0,e.abrupt("return",new Promise(function(){var e=c()(o.a.mark(function e(i){var a,r,s,c,l,u,h,d,p,m,g,v,E,T;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=V.a.getItemsLTRBCoordinate(n||f.a.instance.activeItems,!0),r=new y.c(a.left,a.top),s=Math.max(a.getWidth(),a.getHeight()),c=s>t?t/s:1,(l=_.a.createCanvas()).width=Math.ceil(a.right*c)-Math.floor(a.left*c),l.height=Math.ceil(a.bottom*c)-Math.floor(a.top*c),u=l.getContext("2d"),h=n||f.a.instance.activeItems,d=!0,p=!1,m=void 0,e.prev=12,g=h[Symbol.iterator]();case 14:if(d=(v=g.next()).done){e.next=23;break}return E=v.value,(T=E.clone()).move(-r.x,-r.y),e.next=20,T.renderThumbnail(u,c);case 20:d=!0,e.next=14;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(12),p=!0,m=e.t0;case 29:e.prev=29,e.prev=30,d||null==g.return||g.return();case 32:if(e.prev=32,!p){e.next=35;break}throw m;case 35:return e.finish(32);case 36:return e.finish(29);case 37:i(l.toDataURL());case 38:case"end":return e.stop()}},e,null,[[12,25,29,37],[30,,32,36]])}));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}();m()(Ne,"THUMB_SIZE_DEFAULT",400),m()(Ne,"FAIL_COUNT",0);var De,Me=function(){function e(t,n){u()(this,e),m()(this,"doSaveQueue",!1),m()(this,"actionType",g.a.PRESET_SAVE),m()(this,"isActionGroupEquals",function(){return!1}),m()(this,"concat",function(e){return!1}),m()(this,"changeDesign",function(){return!1}),m()(this,"isLastSavedAction",!1),this.idx=t,this.param=n}var t;return d()(e,[{key:"commit",value:(t=c()(o.a.mark(function e(t,n,i){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.update(this.idx,{name:O.StringUtil.nvl(this.param.name),type:this.param.type,status:this.param.status,designerId:this.param.designerId,keywordList:this.param.keywordList,memo:O.StringUtil.nvl(this.param.memo)});case 3:a=Ne.getLeftMenuType(this.param.type),i.leftBar.getMenu(a).load(),alert(O.CRM.get(k.a.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_UPDATE_SUCCESS_MSG)),i.leftBar.activeMenu(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),alert(O.CRM.get(k.a.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_UPDATE_FAIL_MSG)),console.error(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,9]])})),function(e,n,i){return t.apply(this,arguments)})},{key:"rollback",value:function(){}},{key:"recycle",value:function(){}}]),e}(),Be=function(){function e(t){u()(this,e),m()(this,"doSaveQueue",!1),m()(this,"actionType",g.a.PRESET_SAVE),m()(this,"isActionGroupEquals",function(){return!1}),m()(this,"concat",function(e){return!1}),m()(this,"changeDesign",function(){return!1}),m()(this,"isLastSavedAction",!1),this.idx=t}return d()(e,[{key:"commit",value:function(e,t,n){var i=this,a=e.pages[t.renderPageIdx],r=a.background.backgroundItem,s=a.getAllSingleItems().filter(function(e){return e!==r});xe(s)?Ne.makeThumb(Ne.THUMB_SIZE_DEFAULT,e.pages[t.renderPageIdx].getAllSingleItems()).then(function(){var t=c()(o.a.mark(function t(a){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=C.a.makeMockXml(e.sheets.version,s),t.next=3,E.a.updateSheet(i.idx,{thumb:a,xml:encodeURIComponent((new XMLSerializer).serializeToString(r))});case 3:t.sent,n.leftBar.getMenu(Y.b.TEXT_LIB).load(),alert(O.CRM.get(k.a.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_UPDATE_SUCCESS_MSG));case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){alert(O.CRM.get(k.a.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_UPDATE_FAIL_MSG)),console.error(e)}):alert(O.CRM.get(k.a.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_INVALID_RESOURCE_MSG))}},{key:"rollback",value:function(){}},{key:"recycle",value:function(){}}]),e}(),Ue=function(){function e(t,n,i,a){var r=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];u()(this,e),m()(this,"doSaveQueue",!0),m()(this,"actionType",g.a.PRESET_PASTE),m()(this,"isActionGroupEquals",function(){return!1}),m()(this,"concat",function(e){return!1}),m()(this,"changeDesign",function(){return!0}),m()(this,"isLastSavedAction",!1),m()(this,"rollback",function(){var e=c()(o.a.mark(function e(t,n,i){var a,s,c,l,u,h,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.pages[r.pageIdx],s=!0,c=!1,l=void 0,e.prev=4,u=r.newItems[Symbol.iterator]();!(s=(h=u.next()).done);s=!0)d=h.value,a.removeItem(d);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),c=!0,l=e.t0;case 12:e.prev=12,e.prev=13,s||null==u.return||u.return();case 15:if(e.prev=15,!c){e.next=18;break}throw l;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.next=22,i.renderAuto(t,n);case 22:case"end":return e.stop()}},e,null,[[4,8,12,20],[13,,15,19]])}));return function(t,n,i){return e.apply(this,arguments)}}()),this.pageIdx=t,this.templateDesignIdx=n,this.offsetX=i,this.offsetY=a,this.isDragging=s,this.isMockUp=l}var t,n,i,r,s;return d()(e,[{key:"commit",value:(s=c()(o.a.mark(function t(n,i,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.loadToPage(this.templateDesignIdx,this.pageIdx,this.newItems,this.offsetX,this.offsetY,!1,this.isDragging,this.isMockUp);case 3:this.newItems=t.sent,t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),alert(O.CRM.get(k.a.TOOLS_POPUP_TEMPLATE_DESIGN_SAVE_LOAD_FAIL_MSG)),console.error(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,6]])})),function(e,t,n){return s.apply(this,arguments)})},{key:"recycle",value:function(){this.newItems=null}}],[{key:"loadToPage",value:(r=c()(o.a.mark(function e(t,n,i){var a,r,s,l,u,h=this,d=arguments;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:0,r=d.length>4&&void 0!==d[4]?d[4]:0,s=!(d.length>5&&void 0!==d[5])||d[5],l=d.length>6&&void 0!==d[6]&&d[6],u=d.length>7&&void 0!==d[7]&&d[7],e.abrupt("return",new Promise(function(e,d){f.a.dispatch(new g.c(function(){var p=c()(o.a.mark(function c(p,m,f){var g,v;return o.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,E.a.getSheetData(t);case 3:return g=o.sent,o.next=6,h.paste(g,n,p,m,f,i,a,r,s,l,u);case 6:return v=o.sent,o.next=9,P.a.addIdx(t);case 9:e(v),o.next=15;break;case 12:o.prev=12,o.t0=o.catch(0),d(o.t0);case 15:case"end":return o.stop()}},c,null,[[0,12]])}));return function(e,t,n){return p.apply(this,arguments)}}()))}));case 6:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)})},{key:"paste",value:(i=c()(o.a.mark(function t(n,i,a,r,s,c){var l,u,h,d,p,m,f,g,E,I,_,y,L,O,S,P,k,A,C,w,x,N,D,B,U,G,F,H,W,K,Y=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=Y.length>6&&void 0!==Y[6]?Y[6]:0,u=Y.length>7&&void 0!==Y[7]?Y[7]:0,h=!(Y.length>8&&void 0!==Y[8])||Y[8],d=Y.length>9&&void 0!==Y[9]&&Y[9],p=Y.length>10&&void 0!==Y[10]&&Y[10],m=!(Y.length>11&&void 0!==Y[11])||Y[11],f=Y.length>12&&void 0!==Y[12]&&Y[12],g=a.pages[i],E=g.sheetSize,_=[],!c){t.next=15;break}I=V.a.getAllSingleItems(c),_=c,t.next=69;break;case 15:return y=v.a.build(n).SHEET,L=y.SHEETSIZE,O=L["@cx"],S=L["@cy"],P=y.GROUP,t.next=22,a.parseItems(y,null);case 22:for((I=t.sent).length<2&&(p=!1),k=new Map,e.renameGroupId(k,P),A=!0,C=!1,w=void 0,t.prev=29,x=I[Symbol.iterator]();!(A=(N=x.next()).done);A=!0)(D=N.value).groupId&&(D.groupId=k.get(D.groupId));t.next=37;break;case 33:t.prev=33,t.t0=t.catch(29),C=!0,w=t.t0;case 37:t.prev=37,t.prev=38,A||null==x.return||x.return();case 40:if(t.prev=40,!C){t.next=43;break}throw w;case 43:return t.finish(40);case 44:return t.finish(37);case 45:B=(new X.a).parse(P),_=b.b.parseSingleItemsByGroups(I,B),p&&_.length>1&&(U=new b.a,_.forEach(function(e){return U.addMember(e)}),_=[U]),G=e.getSizeRatio(g.sheetSize,O,S),F=e.getMockUpSizeRatio(g.sheetSize,O,S),H=0,W=I.length;case 51:if(!(H<W)){t.next=67;break}if(K=I[H],p?K.scale(F,!0):h||e.repositionItemToOffsetCenter(d,K,l,u,E,g.editScale,G),R.a.appendSelectedItem(K),!(K instanceof T.e)){t.next=61;break}return t.next=58,e.readyPhoto(K,a,r);case 58:K.orgType===T.b.Skin&&I.unshift(I.splice(H,1)[0]),t.next=64;break;case 61:if(!(K instanceof M.b)){t.next=64;break}return t.next=64,e.readyPhoto(K.innerPhotoItem,a,r);case 64:H++,t.next=51;break;case 67:p&&!d&&(l=g.sheetSize.width*g.editScale/2,u=g.sheetSize.height*g.editScale/2),I.length>1&&(d||p)&&e.repositionItemsToOffsetCenter(I,l,u,g.editScale);case 69:if(c||!m){t.next=72;break}return t.next=72,e.setItemsPosition(I,a.pages[i].getAllSingleItems(),h);case 72:return f&&we.resizeBySize(_,{width:E.width,height:E.height}),t.next=75,e.addItems(_,i,a,r,s);case 75:return t.abrupt("return",t.sent);case 76:case"end":return t.stop()}},t,null,[[29,33,37,45],[38,,40,44]])})),function(e,t,n,a,r,o){return i.apply(this,arguments)})},{key:"getSizeRatio",value:function(e,t,n){var i,a=e.width>=e.height,r=t>=n;i=a?e.width/e.height:e.height/e.width;var o=Math.min(.1*i+.4,.8);return(r?t:n)/((a?e.height:e.width)*o)}},{key:"repositionItemToOffsetCenter",value:function(e,t,n,i,a,r,o){t.scale(1/o);var s=S.a.getOffsetBaseRect(e,a,r,n,i,t.getWidth(),t.getHeight()),c=t.props.getLeft(),l=t.props.getTop();t.getItemType()===j.a.TEXT?t.setLTRBCoordinate(s,!1,w.b.BOTTOM_RIGHT):t.getItemType()===j.a.GRID?(t.scale(s.getHeight()/t.getHeight()),t.move(s.left,s.top)):t.setLTRBCoordinate(s),t.move(c,l)}},{key:"repositionItemsToOffsetCenter",value:function(e,t,n,i){var a=t/i,r=n/i,o=V.a.getItemsLTRBCoordinate(e).getCenterPos(),s=a-o.x,c=r-o.y;e.forEach(function(e){e.move(s,c)})}},{key:"getMockUpSizeRatio",value:function(e,t,n){var i=.6*e.width,a=.6*e.height,r=i/t;return n*r>a?a/n:r}},{key:"renameGroupId",value:function(e,t){if(t)if(Array.isArray(t)){var n=!0,i=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;this.renameGroupId(e,s)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}else{var c=t["@Id"];if(e.has(c))t["@Id"]=e.get(c);else{var l=O.StringUtil.random();t["@Id"]=l,e.set(c,l)}this.renameGroupId(e,t.GROUP)}}},{key:"setItemsPosition",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,r=!0,o=!1,s=void 0;try{for(var c,l=function(){var e=c.value,i=e.getLTRBCoordinate().roundLTRB();if(!t.find(function(t){return(!n||t.copyKey&&t.copyKey===e.copyKey)&&i.isEqual(t.getLTRBCoordinate().roundLTRB())}))return{v:void 0}},u=e[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var h=l();if("object"===a()(h))return h.v}}catch(e){o=!0,s=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw s}}e.forEach(function(e){return e.move(10,10)}),i<1?console.log("break for memory"):this.setItemsPosition(e,t,n,--i)}},{key:"addItems",value:(n=c()(o.a.mark(function e(t,n,i,a,r){var s,c,l,u,h,d,p;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for((s=i.pages[n]).getAllSingleItems().forEach(function(e){return e.hover=!1}),c=!0,l=!1,u=void 0,e.prev=5,h=t[Symbol.iterator]();!(c=(d=h.next()).done);c=!0)p=d.value,s.addItem(p,s.items.length);e.next=13;break;case 9:e.prev=9,e.t0=e.catch(5),l=!0,u=e.t0;case 13:e.prev=13,e.prev=14,c||null==h.return||h.return();case 16:if(e.prev=16,!l){e.next=19;break}throw u;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return e.next=23,ce.a.loadItemResource(V.a.getAllSingleItems(t));case 23:return R.a.selectItems(s.getAllSingleItems(t)),r.renderCanvas(i,a),r.renderHandler(i,a),r.renderLayer(i,a),e.abrupt("return",t);case 28:case"end":return e.stop()}},e,null,[[5,9,13,21],[14,,16,20]])})),function(e,t,i,a,r){return n.apply(this,arguments)})},{key:"readyPhoto",value:(t=c()(o.a.mark(function e(t,n,i){var a,r,s,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=L.a.from(n.getRepositoryType(),Boolean(!1)),r=t.props.getPhotoKey(),e.t0=t.orgType,e.next=e.t0===T.b.Sticker?5:e.t0===T.b.Image?5:e.t0===T.b.BackgroundImage?5:e.t0===T.b.Photo?11:e.t0===T.b.Pixabay?14:e.t0===T.b.Skin?17:21;break;case 5:return e.next=7,a.getStickerData(r);case 7:return s=e.sent.thumb800url,e.next=10,I.b.setUrlImage(r,s);case 10:return e.abrupt("return",e.sent);case 11:return e.next=13,D.a.setPhotoResourceImg(r);case 13:return e.abrupt("return",e.sent);case 14:return e.next=16,U.a.getEditImg(r);case 16:return e.abrupt("return",e.sent);case 17:return c=n.pages[i.renderPageIdx].ratioId,e.next=20,I.b.setUrlImage(r,a.getSkinPath(r,c));case 20:return e.abrupt("return",e.sent);case 21:throw Error("셋팅안된 리소스를 준비시키려함 id:[".concat(t.tbpeId,"] / orgType:[").concat(t.orgType,"]"));case 22:case"end":return e.stop()}},e)})),function(e,n,i){return t.apply(this,arguments)})}]),e}(),Ge=function(){function e(t){var n=this;u()(this,e),m()(this,"doSaveQueue",!1),m()(this,"actionType",g.a.DESIGN_DOWNLOAD),m()(this,"isActionGroupEquals",function(){return!1}),m()(this,"concat",function(e){return!1}),m()(this,"changeDesign",function(){return!1}),m()(this,"isLastSavedAction",!1),m()(this,"commit",function(){var t=c()(o.a.mark(function t(i,a){var r,s,c,l,u,h,d,p,m,f,g,v;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.user.isLogin()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,n.saveDesign();case 4:if(r=t.sent,0!==(s=n.downloadParam.selectedPages).length){t.next=9;break}return console.log("Please, select page."),t.abrupt("return");case 9:return c=n.downloadParam.selectedFileType===z.b.PNG_TRANSPARENT,l=n.getFileExtension(),u=U.a.pixabayItemsIn(i.pages,s),h=n.downloadParam.selectedFileType===z.b.JPG,d=n.makeValidTitle(A.b.getDesignInfo().getTitle()),p=A.b.getDesignInfo().getIdx(),m=n.downloadParam.isWebDpi,t.prev=16,t.next=19,e.existHighResolutionAcceptableItemInPages(i.pages,s);case 19:if(t.t1=t.sent,t.t1){t.next=22;break}t.t1=n.downloadParam.isForceHighResolution;case 22:if(t.t0=t.t1,t.t0){t.next=25;break}t.t0=n.downloadParam.isImgCombine;case 25:return f=t.t0,g=n.downloadParam.isApplyHighResolution&&f,v={isImpDownload:g,title:d,pixabayImagekeys:u,designIdx:p,designHistoryIndex:r,pageIdxList:s,fileExt:l,isTransparentBackground:c,isJpg:h,isWebDpi:m},t.next=30,n.doDownload(i,a,v);case 30:se.a.moveVirtualPage(n.downloadParam.isApplyHighResolution?se.c.HQ_DOWNLOAD_COMPLETE:se.c.DOWNLOAD_COMPLETE),x.UnicornApiRequest.post(O.CRM.get(k.a.DOWNLOAD_LOG),{data:{designIdx:p,requestType:n.downloadParam.isApplyHighResolution?De.HIGH_QUALITY:De.LOW_QUALITY,type:g?De.HIGH_QUALITY:De.LOW_QUALITY,pages:s.join(",")}}).catch(function(e){return console.error(e)}),t.next=37;break;case 34:t.prev=34,t.t2=t.catch(16),N.a.imageProcessFailureEvent();case 37:case"end":return t.stop()}},t,null,[[16,34]])}));return function(e,n){return t.apply(this,arguments)}}()),this.downloadParam=t}var t,n,i,a,r;return d()(e,[{key:"saveDesign",value:function(){return new Promise(function(){var e=c()(o.a.mark(function e(t,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!A.b.isSaving()){e.next=5;break}A.b.setCallbackAfterSave(c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.b.save({categoryIdx:F.a.getSaveCategoryIdx()});case 3:t(A.b.getDesignInfo().getLatestDesignHistoryIdx()),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),N.a.imageProcessFailureEvent(),n(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,6]])}))),e.next=8;break;case 5:return e.next=7,A.b.save({categoryIdx:F.a.getSaveCategoryIdx()});case 7:t(A.b.getDesignInfo().getLatestDesignHistoryIdx());case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),N.a.imageProcessFailureEvent(),n(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}}())}},{key:"makeValidTitle",value:function(e){return e.length>50&&(e=e.substr(0,50)),e.replace(/\\|\/|\:|\*|\?|\"|\<|\>|\-|\|/gi,"_")}},{key:"rollback",value:function(e,t){}},{key:"recycle",value:function(){}},{key:"getFileExtension",value:function(){var e="png";switch(this.downloadParam.selectedFileType){case z.b.JPG:e="jpg";break;case z.b.PNG:case z.b.PNG_TRANSPARENT:e="png";break;case z.b.PDF:e="pdf"}return e}},{key:"doDownload",value:(r=c()(o.a.mark(function e(t,n,i){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.isImpDownload){e.next=12;break}return e.prev=1,e.next=4,this.doImpDownload(t,i);case 4:f.a.dispatch(new be),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:e.next=27;break;case 12:return e.prev=12,N.a.showDownloadWaitingUI(),e.next=16,this.doBrowserDownload(t,i,n);case 16:e.next=27;break;case 18:if(e.prev=18,e.t1=e.catch(12),N.a.hideDownloadWaitingUI(),Ne.FAIL_COUNT++,!n.user.isLogin()){e.next=25;break}return e.next=25,A.b.save({categoryIdx:F.a.getSaveCategoryIdx()}).catch(function(){});case 25:throw!N.a.isChromeBrowser()&&Ne.FAIL_COUNT>=2?N.a.showDownloadFailureUIIE():N.a.imageProcessFailureEvent(),e.t1;case 27:case"end":return e.stop()}},e,this,[[1,7],[12,18]])})),function(e,t,n){return r.apply(this,arguments)})},{key:"doImpDownload",value:(a=c()(o.a.mark(function e(t,n){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!0,0===n.pixabayImagekeys.length){e.next=5;break}return e.next=4,G.d.downloadComplete(n.pixabayImagekeys);case 4:i=e.sent;case 5:if(i){e.next=9;break}return N.a.showNotReadyToDownloadPopup(),e.abrupt("return");case 9:return e.next=11,N.a.downloadByImageProcessor({designTitle:n.title,designIdx:n.designIdx,designHistoryIndex:n.designHistoryIndex,sheetXmlText:t.makeXml(),pageIdxList:n.pageIdxList,fileName:n.title,fileExt:n.fileExt,backgroundTransparent:n.isTransparentBackground?0:1,printScale:this.downloadParam.printScale,printTest:this.downloadParam.isForceHighResolution,dpi:n.isWebDpi?W.d.DEFAULT_DPI:H.a.getPrintDPI(),isImgCombine:this.downloadParam.isImgCombine,isWebFormat:n.isWebDpi});case 11:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"doBrowserDownload",value:(i=c()(o.a.mark(function e(t,n,i){var a,r,s,c,l,u,h,d,p,m,f,g,v,E,T;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=[],r=!0,s=!1,c=void 0,e.prev=5,l=n.pageIdxList[Symbol.iterator]();case 7:if(r=(u=l.next()).done){e.next=19;break}return h=u.value,d=t.pages[h],p=d.sheetSize,e.next=13,d.renderThumbnail(p.width,p.height,1,n.isTransparentBackground,n.isJpg);case 13:m=e.sent,f="".concat(n.title,"_").concat(d.pageIdx+1,".").concat(n.fileExt),a.push({imgDataSrc:m,fileName:f});case 16:r=!0,e.next=7;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(5),s=!0,c=e.t0;case 25:e.prev=25,e.prev=26,r||null==l.return||l.return();case 28:if(e.prev=28,!s){e.next=31;break}throw c;case 31:return e.finish(28);case 32:return e.finish(25);case 33:return i.env.adminMode||i.env.devMode?(E=i.option.size,g={width:K.a.getPixel(E.width,E.dpi,E.unit),height:K.a.getPixel(E.height,E.dpi,E.unit)},v=E.dpi|W.d.DEFAULT_DPI):(T=t.pages[0].sheetSize,g={width:T.width,height:T.height},v=W.d.DEFAULT_DPI),e.next=36,N.a.downloadByBrowser({imgParamList:a,pageSize:g,dpi:v,fileName:n.title,fileExt:n.fileExt});case 36:e.next=41;break;case 38:throw e.prev=38,e.t1=e.catch(0),e.t1;case 41:case"end":return e.stop()}},e,null,[[0,38],[5,21,25,33],[26,,28,32]])})),function(e,t,n){return i.apply(this,arguments)})}],[{key:"getDownloadPages",value:function(e,t){var n=[];return e.length===t.length?n=e.slice():t.forEach(function(t){return n.push(e[t])}),n}},{key:"getImageOriginSizeList",value:(n=c()(o.a.mark(function e(t){var n,i,a,r,s,c,l,u,h,d,p,m,f,g,v;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=new Map,e.prev=1,i=!0,a=!1,r=void 0,e.prev=5,s=t[Symbol.iterator]();case 7:if(i=(c=s.next()).done){e.next=50;break}l=c.value,u=!0,h=!1,d=void 0,e.prev=12,p=l.getAllSingleItems()[Symbol.iterator]();case 14:if(u=(m=p.next()).done){e.next=33;break}if(f=m.value,g=null,!(g=f instanceof T.e?f:f instanceof M.b?f.innerPhotoItem:null)||g.isResourceLoadFail()){e.next=30;break}if(!(f instanceof M.b&&f.isDefaultImage())){e.next=24;break}v=g.getImageElement(),n.set(g.tbpeId,{width:v.width,height:v.height}),e.next=30;break;case 24:return e.t0=n,e.t1=g.tbpeId,e.next=28,g.getImgOriginalSize();case 28:e.t2=e.sent,e.t0.set.call(e.t0,e.t1,e.t2);case 30:u=!0,e.next=14;break;case 33:e.next=39;break;case 35:e.prev=35,e.t3=e.catch(12),h=!0,d=e.t3;case 39:e.prev=39,e.prev=40,u||null==p.return||p.return();case 42:if(e.prev=42,!h){e.next=45;break}throw d;case 45:return e.finish(42);case 46:return e.finish(39);case 47:i=!0,e.next=7;break;case 50:e.next=56;break;case 52:e.prev=52,e.t4=e.catch(5),a=!0,r=e.t4;case 56:e.prev=56,e.prev=57,i||null==s.return||s.return();case 59:if(e.prev=59,!a){e.next=62;break}throw r;case 62:return e.finish(59);case 63:return e.finish(56);case 64:e.next=69;break;case 66:throw e.prev=66,e.t5=e.catch(1),e.t5;case 69:return e.abrupt("return",n);case 70:case"end":return e.stop()}},e,null,[[1,66],[5,52,56,64],[12,35,39,47],[40,,42,46],[57,,59,63]])})),function(e){return n.apply(this,arguments)})},{key:"existHighResolutionAcceptableItemInPages",value:(t=c()(o.a.mark(function t(n,i){var a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.getDownloadPages(n,i),t.next=4,e.getImageOriginSizeList(a);case 4:return r=t.sent,t.abrupt("return",oe.isAcceptable(a,r));case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}},t,null,[[0,8]])})),function(e,n){return t.apply(this,arguments)})}]),e}();!function(e){e.HIGH_QUALITY="HIGH_QUALITY",e.LOW_QUALITY="LOW_QUALITY"}(De||(De={}))},,function(e,t,n){"use strict";var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(35),l=n.n(c),u=n(36),h=n.n(u),d=n(39),p=n.n(d),m=n(44),f=n.n(m),g=n(38),v=n.n(g),E=n(46),T=n.n(E),I=n(40),_=n.n(I),y=n(37),L=n.n(y),O=n(63),S=n(41),P=n(122),k=n(42),A=function(){function e(){l()(this,e)}return h()(e,null,[{key:"checkNameMsg",value:function(e){return e&&0!==e.length?e.length>16?"이름은 16글자 이하입니다":"":"이름을 입력해주세요."}},{key:"checkPasswrodMsg",value:function(e){return e&&0!==e.length?e.length<8?"비밀번호는 8자리 이상입니다.":e.length>16?"비밀번호는 16자리 이하입니다.":/^[0-9a-z#?!@$%^&*-]{6,16}$/i.test(e)?"":"잘못된 형식의 비밀번호":"비밀번호를 입력해주세요."}},{key:"checkEmailMsg",value:function(e){return e&&0!==e.length?/^[a-z0-9_+.-]+@([a-z0-9-]+\.)+[a-z0-9]{2,4}$/i.test(e)?"":"@를 포함한 이메일 주소를 입력해주세요.":"이메일을 입력해주세요."}}]),e}(),R=n(3),C=n(43),b=n(47),w=function(){function e(){l()(this,e)}return h()(e,null,[{key:"sendAuthMiri",value:function(e,t){var n=this;b.UnicornApiRequest.post("/auth/miricanvas/mail",{data:{email:e}}).then(function(){n.executeCallback(t)}).catch(function(){t&&t.error&&t.error(new Error("메일 발송에 실패하였습니다. 잠시후 다시 시도해주세요."))})}},{key:"sendNewPassword",value:function(e,t){var n=this;b.UnicornApiRequest.post("/accounts/password/recovery",{contentType:"application/json",dataType:"json",data:JSON.stringify({mail:e})}).then(function(){n.executeCallback(t)}).catch(function(e){t&&t.error&&(404===e.status?t.error(new Error("이메일이 존재하지 않습니다")):t.error(new Error("메일 발송에 실패하였습니다. 잠시후 다시 시도해주세요.")))})}},{key:"executeCallback",value:function(e){e&&e.success&&e.success()}}]),e}(),x=n(58),N=n(12),D=function(e){function t(){var e;return l()(this,t),e=p()(this,v()(t).call(this)),L()(f()(e),"popupId","StayLoginPopup".concat(R.StringUtil.random())),e}var n;return _()(t,e),h()(t,[{key:"close",value:function(){return this.loginCallback&&this.loginCallback(),T()(v()(t.prototype),"close",this).call(this)}},{key:"openWithCallback",value:function(e){return this.loginCallback=e,T()(v()(t.prototype),"open",this).call(this)}},{key:"getContents",value:function(){this.contentsWrap&&this.contentsWrap.classList.add("stay_login_popup_wrap");var e=document.createElement("div");e.className="stay_login_popup";var n=t.makeTitle("title","편리하게 로그인하세요");e.appendChild(n);var i=t.makeTitle("sub_title","계속 이용하는 기기라면, 로그인 상태를 유지해보세요!");e.appendChild(i);var a=t.makeTitle("sub_title","다음 접속부터는 로그인할 필요가 없어요.");e.appendChild(a);var r=document.createElement("div");r.className="btn_wrap";var o=this.makeBtn(!1,"btnDisAgreeStayLogin","로그인 유지 안함");r.appendChild(o);var s=this.makeBtn(!0,"btnAgreeStayLogin","로그인 유지하기");return r.appendChild(s),e.appendChild(r),e}},{key:"makeBtn",value:function(e,n,i){var a=this,o=document.createElement("button");return o.id=n,o.innerText=i,o.addEventListener("click",s()(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,t.requestAutoLogin();case 3:a.close();case 4:case"end":return n.stop()}},n)}))),o}},{key:"getId",value:function(){return this.popupId}},{key:"updateUI",value:function(){}}],[{key:"makeTitle",value:function(e,t){var n=document.createElement("p");return n.className=e,n.innerText=t,n}},{key:"requestAutoLogin",value:(n=s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.UnicornApiRequest.post(R.CRM.get(C.a.SET_AUTO_LOGIN));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert("로그인 유지에 실패하였습니다. 나중에 다시 시도해주세요.");case 9:case"end":return e.stop()}},e,null,[[0,5]])})),function(){return n.apply(this,arguments)})}]),t}(O.a);!function(e){e.SOCIAL="SOCIAL",e.GOOGLE="GOOGLE",e.FACEBOOK="FACEBOOK",e.NAVER="NAVER",e.KAKAO="KAKAO",e.BIZHOWS_MICAN="BIZHOWS_MICAN"}(i||(i={}));var M,B,U=function(){function e(){l()(this,e)}return h()(e,null,[{key:"sortName",value:function(e){var t=e.slice(),n=[],a=function(e){e<0||(n.push(t[e]),t.splice(e,1))};return a(t.indexOf(i.GOOGLE)),a(t.indexOf(i.FACEBOOK)),a(t.indexOf(i.NAVER)),a(t.indexOf(i.KAKAO)),a(t.indexOf(i.BIZHOWS_MICAN)),t.length>0&&0===n.length&&n.push(t[0]),n}}]),e}();n.d(t,"a",function(){return F}),function(e){e.FLTB_INPUT="fltb-input",e.FLTB_MAIL="fltb-mail",e.FLOATING_LABEL_TEXT_BOX="floating-label-text-box",e.FLTB_LABEL="fltb-label",e.TITLED_CHECKBOX_WRAP="titled-checkbox-wrap",e.TITLED_CHECKBOX="titled-checkbox",e.TITLED_CHECKBOX_LABEL="titled-checkbox-label",e.TOOLS_ICON="tools_icon",e.ICON_CHECK="icon_check",e.USER_BASIC_BTN="user-basic-btn"}(M||(M={})),function(e){e.USER_PASSWORD="userPassword",e.SIGN_UP_PASS="signUpPass"}(B||(B={}));var G,F=function(e){function t(){var e;return l()(this,t),e=p()(this,v()(t).call(this)),L()(f()(e),"stayLoginPopup",new D),L()(f()(e),"doSignInAction",!0),e.wrapper=t.createDiv(""),e.signInBox=t.createDiv("user-login-box"),e.signUpBox=t.createDiv("sign-up-box"),e.findPasswordBox=t.createDiv("find-password-box"),e.authBox=t.createDiv("email-auth-box"),e.newPasswordBox=t.createDiv("email-auth-box"),e.signUpConfirm=t.createDiv("confirm-mail-box"),e.newPasswordConfirm=t.createDiv("confirm-mail-box"),e.emailInput=t.createInput("text","email","".concat(M.FLTB_INPUT," ").concat(M.FLTB_MAIL),!0),e}return _()(t,e),h()(t,[{key:"close",value:function(e){return this.callback=null,window.miriLoginLayerClose=null,!e&&this.doNotLoginCallback&&this.doNotLoginCallback(),this.doNotLoginCallback=null,this.loginTrace=null,x.a.moveVirtualPage(x.c.PAGE_BACK),T()(v()(t.prototype),"close",this).call(this)}},{key:"getContents",value:function(){return this.initSignIn(),this.initSignUp(),this.initFindPassword(),this.initAuthEmail(),this.initNewPassword(),this.wrapper}},{key:"getId",value:function(){return"loginPopup"}},{key:"updateUI",value:function(){}},{key:"initNewPassword",value:function(){var e=this;this.newPasswordBox.style.display="none",this.wrapper.appendChild(this.newPasswordBox),this.newPasswordBox.appendChild(t.createTitle("비밀번호 전송 완료"));var n=t.createDiv("guide-text email-auth-guide");n.innerHTML="임시 비밀번호 전송을 완료했습니다.<br>이메일 주소를 확인해주세요.<br><br>",this.newPasswordBox.appendChild(n),this.newPasswordBox.appendChild(this.newPasswordConfirm),$(this.newPasswordBox).append('<div style="padding-bottom: 116px"></div>');var i=t.createLoginBtn();this.newPasswordBox.appendChild(i),i.addEventListener("click",function(){return e.swithBox(e.signInBox)});var a=t.createFooter("메일을 못받으셨나요?"),r=document.createElement("a");r.style.paddingLeft="8px",r.innerText="이메일 다시 보내기",r.addEventListener("click",function(){w.sendNewPassword(e.newPasswordConfirm.innerText.trim(),{success:function(){return alert("메일을 발송하였습니다.")},error:function(e){return alert(e.message)}})}),a.appendChild(r),this.newPasswordBox.appendChild(a)}},{key:"initAuthEmail",value:function(){var e=this;this.authBox.style.display="none",this.wrapper.appendChild(this.authBox),this.authBox.appendChild(t.createTitle("이메일 인증"));var n=t.createDiv("guide-text email-auth-guide");n.innerHTML="마지막 단계입니다!<br>인증 메일이 아래의 메일주소로 전송되었습니다.<br>24시간 이내로 인증을 완료해주세요!<br>",this.authBox.appendChild(n),this.authBox.appendChild(this.signUpConfirm),$(this.authBox).append('<div style="padding-bottom: 116px"></div>');var i=t.createLoginBtn();this.authBox.appendChild(i),i.addEventListener("click",function(){return e.swithBox(e.signInBox)});var a=t.createFooter("메일을 못받으셨나요?"),r=document.createElement("a");r.style.paddingLeft="8px",r.innerText="이메일 다시 보내기",r.addEventListener("click",function(){return w.sendAuthMiri(e.signUpConfirm.innerText.trim(),{success:function(){return alert("메일을 발송하였습니다.")},error:function(e){return alert(e.message)}})}),a.appendChild(r),this.authBox.appendChild(a)}},{key:"initSignIn",value:function(){var e=this;this.wrapper.appendChild(this.signInBox),this.signInBox.appendChild(t.createTitle("로그인"));var n=this.makeSocialInfoBox();this.signInBox.appendChild(n);var i=t.createDiv("login-fltb-group"),a=t.createDiv(M.FLOATING_LABEL_TEXT_BOX);this.emailInput.id="userMail",this.emailInput.value=R.CookieUtil.getCookie(R.CooKey.REMEMBER_ME)||"";var o=t.createLabel("이메일",this.emailInput.id,M.FLTB_LABEL);$(a).append(this.emailInput,o),Object(N.setToolsIcon)(a,N.ToolsIcon.CHECK,!0);var c=this.emailWarning=t.createWarningSection();$(a).append(c),i.appendChild(a),this.emailInput.addEventListener("change",function(){t.checkEmail(c,e.emailInput.value)});var l=t.createDiv(M.FLOATING_LABEL_TEXT_BOX),u=t.createInput("password","password","fltb-input fltb-pass",!0);u.id=B.USER_PASSWORD;var h=t.createLabel("비밀번호",u.id,M.FLTB_LABEL);$(l).append(u,h);var d=Object(N.setToolsIcon)(l,N.ToolsIcon.INVISIBLE,!0);d.addEventListener("click",function(){$(d).toggleClass("icon_visible icon_invisible"),$(u).toggleClass("fltb-pass"),u.type="password"===u.type?"text":"password"});var p=this.passwordWarning=t.createWarningSection();$(l).append(p),i.appendChild(l),this.signInBox.appendChild(i),u.addEventListener("change",function(){t.checkPasswrod(p,u.value)});var m=t.createLoginBtn();this.signInBox.appendChild(m);var f=function(){var n=s()(r.a.mark(function n(){var i,a,o,s;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=e.emailInput.value,a=u.value,t.checkEmail(c,i)&&t.checkPasswrod(p,a)){n.next=4;break}return n.abrupt("return");case 4:return R.CookieUtil.setCookie(R.CooKey.REMEMBER_ME,i,30),n.prev=5,o=R.CRM.get(C.a.AUTH_MIRICANVAS),s="".concat(i,":").concat(a),n.next=10,b.UnicornApiRequest.get(o,{data:{isAutoLogin:e.autoLoginInput.checked},headers:{Authorization:"Basic ".concat(btoa(s))}});case 10:n.sent.data.accountId>=0&&(e.callbackLoginSuccess(),u.value=""),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(5),e.processByLoginErrorData(n.t0);case 17:case"end":return n.stop()}},n,null,[[5,14]])}));return function(){return n.apply(this,arguments)}}();m.addEventListener("click",function(){return f()}),this.addEnterEvent(this.emailInput,f),this.addEnterEvent(u,f),$(this.signInBox).append('<div class="divider-wrap"><div class="divider-text">소셜 계정으로 간편하게 로그인하세요!</div></div>'),this.signInBox.appendChild(this.createSocialLoginBox());var g=t.createDiv("login-option-group"),v=t.createDiv(M.TITLED_CHECKBOX_WRAP);this.autoLoginInput=t.createInput("checkbox","isAutoLogin",M.TITLED_CHECKBOX),this.autoLoginInput.id="autoLogin";var E=t.createLabel("로그인 상태 유지할래요.",this.autoLoginInput.id,"".concat(M.TITLED_CHECKBOX_LABEL," ").concat(M.TOOLS_ICON," ").concat(M.ICON_CHECK));$(v).append(this.autoLoginInput,E),g.appendChild(v),this.signInBox.appendChild(g);var T=t.createFooter(""),I=document.createElement("a");I.className="sub",I.innerText="비밀번호를 잊어버렸어요.",I.addEventListener("click",function(){return e.swithBox(e.findPasswordBox)}),T.appendChild(I);var _=document.createElement("div");_.appendChild(t.createSpan("아직 회원이 아니신가요?"));var y=document.createElement("a");y.innerText="회원 가입하기",y.addEventListener("click",function(){return e.swithBox(e.signUpBox)}),_.appendChild(y),T.appendChild(_),this.signInBox.appendChild(T)}},{key:"callbackLoginSuccess",value:function(){var e=this;this.autoLoginInput.checked?this.signInAfter():(T()(v()(t.prototype),"close",this).call(this),this.stayLoginPopup.openWithCallback(function(){e.signInAfter()}))}},{key:"signInAfter",value:function(){var e=this;this.doSignInAction?k.a.dispatch(new P.d(function(){return t.signInAfter(e)})):t.signInAfter(this)}},{key:"createSocialLoginBox",value:function(){var e=document.createElement("div");return e.className=S.a.SOCIAL_LOGIN_BOX,e.appendChild(this.createSocialLoginBtn(G.GOOGLE)),e.appendChild(this.createSocialLoginBtn(G.FACEBOOK)),e.appendChild(this.createSocialLoginBtn(G.NAVER)),e.appendChild(this.createSocialLoginBtn(G.KAKAO)),e.appendChild(this.createSocialLoginBtn(G.BIZHOWS)),e}},{key:"createSocialLoginBtn",value:function(e){var n=document.createElement("div");n.classList.add(S.a.SOCIAL_LOGIN_BTN),n.classList.add(t.getClassNameWithSocialType(e));var i=document.createElement("div");return i.className=S.a.SOCIAL_LOGIN_IMG,n.appendChild(i),n.addEventListener("click",this.getSocialCallback(e)),n}},{key:"makeSocialInfoBox",value:function(){var e=this.socialInfoBox=t.createDiv("social-info-box");e.classList.add(S.a.HIDE);var n=this.socialInfoBoxContent=t.createDiv("social-info-box-content");return e.appendChild(n),e}},{key:"getSocialCallback",value:function(e){var t=this;switch(e){case G.GOOGLE:return function(){var e=R.CRM.get(C.a.SIGN_IN_AS_GOOGLE);window.open("".concat(e,"?").concat($.param(t.getSocialAuthParam())),"","width=464, height=742, resizable=no, resizable=no, status=no, toolbar=no, scrollbars=no, status=no;")};case G.FACEBOOK:return function(){var e=R.CRM.get(C.a.SIGN_IN_AS_FACEBOOK);window.open("".concat(e,"?").concat($.param(t.getSocialAuthParam())),"","width=1280, height=720, resizable=no, resizable=no, status=no, toolbar=no, scrollbars=no, status=no;")};case G.NAVER:return function(){var e=R.CRM.get(C.a.SIGN_IN_AS_NAVER);window.open("".concat(e,"?").concat($.param(t.getSocialAuthParam())),"","width=464, height=742, resizable=no, resizable=no, status=no, toolbar=no, scrollbars=no, status=no;")};case G.KAKAO:return function(){var e=R.CRM.get(C.a.SIGN_IN_AS_KAKAO);window.open("".concat(e,"?").concat($.param(t.getSocialAuthParam())),"","width=464, height=742, resizable=no, resizable=no, status=no, toolbar=no, scrollbars=no, status=no;")};case G.BIZHOWS:return function(){var e=R.CRM.get(C.a.SIGN_IN_AS_BIZHOWS);window.open("".concat(e,"?").concat($.param(t.getSocialAuthParam())),"","width=464, height=742, resizable=no, resizable=no, status=no, toolbar=no, scrollbars=no, status=no;")}}}},{key:"getSocialAuthParam",value:function(){return{isAutoLogin:this.autoLoginInput.checked}}},{key:"initSignUp",value:function(){var e=this;this.wrapper.appendChild(this.signUpBox),this.signUpBox.appendChild(t.createTitle("회원가입"));var n=t.createDiv("signup-fltb-group"),i=t.createDiv(M.FLOATING_LABEL_TEXT_BOX),a=t.createInput("text","signup-name","fltb-input fltb-name",!0);a.id="signUpName";var o=t.createLabel("이름",a.id,M.FLTB_LABEL),c=t.createWarningSection();$(i).append(a,o,t.HTML_TOOLS_ICON,c),n.appendChild(i),a.addEventListener("change",function(){t.checkName(c,a.value)});var l=t.createDiv(M.FLOATING_LABEL_TEXT_BOX),u=t.createInput("text","signup-mail","".concat(M.FLTB_INPUT," ").concat(M.FLTB_MAIL),!0);u.id="signUpMail";var h=t.createLabel("이메일",u.id,M.FLTB_LABEL),d=t.createWarningSection();$(l).append(u,h,t.HTML_TOOLS_ICON,d),n.appendChild(l),u.addEventListener("change",function(){t.checkEmail(d,u.value)});var p=t.createDiv(M.FLOATING_LABEL_TEXT_BOX),m=t.createInput("password","signup-pass","fltb-input fltb-pass",!0);m.id=B.SIGN_UP_PASS;var f=t.createLabel("비밀번호",m.id,M.FLTB_LABEL);$(p).append(m,f);var g=Object(N.setToolsIcon)(p,N.ToolsIcon.INVISIBLE,!0);g.addEventListener("click",function(){$(g).toggleClass("icon_visible icon_invisible"),$(m).toggleClass("fltb-pass"),m.type="password"===m.type?"text":"password"});var v=t.createWarningSection();$(p).append(v),n.appendChild(p),this.signUpBox.appendChild(n),m.addEventListener("change",function(){t.checkPasswrod(v,m.value)});var E=t.createDiv("tos-group"),T=t.createDiv("tos-agree"),I=t.createDiv(M.TITLED_CHECKBOX_WRAP);E.appendChild(T),T.appendChild(I);var _=t.createInput("checkbox","chk-tos",M.TITLED_CHECKBOX);_.id="chkTos";var y=t.createLabel("",_.id,"".concat(M.TITLED_CHECKBOX_LABEL," ").concat(M.TOOLS_ICON," ").concat(M.ICON_CHECK));$(I).append(_,y);var L=t.createDiv("tos-text");L.innerHTML='미리캔버스 <a target="_blank" href="/terms-of-service">이용 약관</a> 및 <a target="_blank" href="/privacy-policy">개인정보 취급방침</a>에 대한 내용을 모두 확인하였으며, 이에 동의합니다.',E.appendChild(L),this.signUpBox.appendChild(E);var O=t.createDiv(M.USER_BASIC_BTN);O.innerText="무료 회원가입";var S=function(){var n=s()(r.a.mark(function n(){var i,o,s,l;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i=a.value,o=u.value,s=m.value,t.checkName(c,i)&&t.checkEmail(d,o)&&t.checkPasswrod(v,s)){n.next=7;break}return n.abrupt("return");case 7:if(_.checked){n.next=10;break}return alert("약관을 읽고 동의해주세요."),n.abrupt("return");case 10:return n.prev=10,n.next=13,b.UnicornApiRequest.post("/accounts/enduser",{data:JSON.stringify({name:i,mail:o,pass:s}),contentType:"application/json",dataType:"json"});case 13:l=n.sent,console.log("가입성공",l),console.log(l),e.signUpConfirm.innerText=o,e.swithBox(e.authBox),a.value="",u.value="",m.value="",n.next=27;break;case 23:n.prev=23,n.t0=n.catch(10),window.e=n.t0,409===n.t0.statusCode&&t.addWarningMsg(d,"이미 존재하는 이메일입니다.");case 27:case"end":return n.stop()}},n,null,[[10,23]])}));return function(){return n.apply(this,arguments)}}();O.addEventListener("click",function(){return S()}),this.addEnterEvent(a,S),this.addEnterEvent(u,S),this.addEnterEvent(m,S),this.signUpBox.appendChild(O),$(this.signUpBox).append('<div class="divider-wrap"><div class="divider-text">소셜 계정으로 간편하게 가입하세요!</div></div>'),this.signUpBox.appendChild(this.createSocialLoginBox());var P=t.createFooter("이미 회원이신가요?"),k=t.createSwitchLoginBtn();k.addEventListener("click",function(){return e.swithBox(e.signInBox)}),P.appendChild(k),this.signUpBox.appendChild(P)}},{key:"addEnterEvent",value:function(e,t){e.addEventListener("keydown",function(e){e.key&&"ENTER"===e.key.toUpperCase()&&t()})}},{key:"initFindPassword",value:function(){var e=this;this.wrapper.appendChild(this.findPasswordBox),this.findPasswordBox.appendChild(t.createTitle("비밀번호 찾기")),$(this.findPasswordBox).append('<div class="find-password-guide">가입한 이메일 주소로 임시 비밀번호를 알려드립니다. 로그인 후 비밀번호를 꼭 변경해주세요.</div>');var n=t.createDiv(M.FLOATING_LABEL_TEXT_BOX),i=t.createInput("text","find-mail","".concat(M.FLTB_INPUT," ").concat(M.FLTB_MAIL),!0);i.id="findMail";var a=t.createLabel("이메일",i.id,M.FLTB_LABEL),r=t.createWarningSection();$(n).append(i,a,t.HTML_TOOLS_ICON,r),this.findPasswordBox.appendChild(n),i.addEventListener("change",function(){t.checkEmail(r,i.value)});var o=t.createDiv(M.USER_BASIC_BTN);o.style.marginTop="40px",o.innerText="임시 비밀번호 전송",o.addEventListener("click",function(){var n=i.value;t.checkEmail(r,n)&&w.sendNewPassword(n,{success:function(){e.newPasswordConfirm.innerText=n,e.swithBox(e.newPasswordBox),i.value=""},error:function(e){t.addWarningMsg(r,e.message)}})}),this.findPasswordBox.appendChild(o);var s=t.createFooter("비밀번호가 기억났습니다!"),c=t.createSwitchLoginBtn();c.addEventListener("click",function(){return e.swithBox(e.signInBox)}),s.appendChild(c),this.findPasswordBox.appendChild(s)}},{key:"swithBox",value:function(e){this.signInBox.style.display="none",this.signUpBox.style.display="none",this.authBox.style.display="none",this.findPasswordBox.style.display="none",this.newPasswordBox.style.display="none",$(this.wrapper).removeClass("sign-up-active"),$(e).fadeIn(500),"sign-up-box"===e.className?($(this.wrapper).addClass("sign-up-active"),x.a.moveVirtualPage(x.c.SIGNUP)):e===this.authBox&&x.a.moveVirtualPage(x.c.SIGNUP_COMPLETE)}},{key:"showSocialInformation",value:function(e){var t=R.CRM.get(C.a.TOOLS_POPUP_LOGIN_SOCIAL_INFO_BOX_DESCRIPTION);this.socialInfoBoxContent.innerHTML=t.replace("${platform}",e),this.socialInfoBox.classList.remove(S.a.HIDE)}},{key:"hideSocialInformation",value:function(){this.socialInfoBox&&this.socialInfoBox.classList.add(S.a.HIDE)}},{key:"processByLoginErrorData",value:function(e){var n=e.errorData;switch(e.statusCode){case 401:t.addWarningMsg(this.passwordWarning,"잘못된 비밀번호입니다."),this.hideSocialInformation();break;case 404:t.addWarningMsg(this.emailWarning,"존재하지 않는 이메일입니다."),this.hideSocialInformation();break;case 409:var a=n.data.authList.slice(),r=U.sortName(a),o=[],s=t.createSocialVisualNames();r.forEach(function(e){s.has(e)?o.push(s.get(e)):o.push(s.get(i.SOCIAL))}),this.showSocialInformation(o.join(", "));break;default:console.log("undefined error code")}}}],[{key:"open",value:function(e,n,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];x.a.moveVirtualPage(x.c.CUSTOM,"로그인/"+(e||"")),x.a.sendEvent("회원가입","회원가입",e||"");var r=this.instance;return r.doSignInAction=a,r.callback=n,r.doNotLoginCallback=i,r.swithBox(r.signInBox),window.miriLoginLayerClose=function(){t.instance.close()},window.miriLogin=function(e){!0===e&&x.a.moveVirtualPage(x.c.SIGNUP_COMPLETE),r.callbackLoginSuccess()},r.hideSocialInformation(),r.open()}},{key:"openSignUp",value:function(e,t,n){this.open(e,t,n),this.instance.swithBox(this.instance.signUpBox)}},{key:"getClassNameWithSocialType",value:function(e){switch(e){case G.GOOGLE:return S.a.SOCIAL_LOGIN_GOOGLE;case G.FACEBOOK:return S.a.SOCIAL_LOGIN_FACEBOOK;case G.NAVER:return S.a.SOCIAL_LOGIN_NAVER;case G.KAKAO:return S.a.SOCIAL_LOGIN_KAKAO;case G.BIZHOWS:return S.a.SOCIAL_LOGIN_BIZHOWS}}},{key:"removeWarningMsg",value:function(e){$(e).parent().removeClass("warning"),e.innerText=""}},{key:"addWarningMsg",value:function(e,t){$(e).parent().addClass("warning"),e.innerText=t}},{key:"checkName",value:function(e,t){var n=A.checkNameMsg(t);return""!==n?(this.addWarningMsg(e,n),!1):(this.removeWarningMsg(e),!0)}},{key:"checkPasswrod",value:function(e,t){var n=A.checkPasswrodMsg(t);return""!==n?(this.addWarningMsg(e,n),!1):(this.removeWarningMsg(e),!0)}},{key:"checkEmail",value:function(e,t){var n=A.checkEmailMsg(t);return""!==n?(this.addWarningMsg(e,n),!1):(this.removeWarningMsg(e),!0)}},{key:"createWarningSection",value:function(){return this.createDiv("fltb-warn")}},{key:"createLoginBtn",value:function(){var e=this.createDiv(M.USER_BASIC_BTN);return e.innerText="로그인",e}},{key:"createSwitchLoginBtn",value:function(){var e=document.createElement("a");return e.style.paddingLeft="8px",e.innerText="로그인 하기",e}},{key:"createFooter",value:function(e){var t=this.createDiv("user-footer");return t.innerText=e,t}},{key:"createTitle",value:function(e){var t=this.createDiv("title-box"),n=new Image;return n.src="/resources/image/logo/logo_miricanvas.svg",t.appendChild(n),$(t).append('<div class="title">'.concat(e,"</div>")),t}},{key:"createDiv",value:function(e){var t=document.createElement("div");return t.className=e,t}},{key:"createInput",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=document.createElement("input");return a.type=e,a.name=t,a.className=n,a.required=i,a}},{key:"createLabel",value:function(e,t,n){var i=document.createElement("label");return i.innerText=e,i.htmlFor=t,i.className=n,i}},{key:"createSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("span");return n.innerText=e,n.className=t,n}},{key:"signInAfter",value:function(e){var t=e.callback;e.close(!0),t&&(t(),t=null)}},{key:"createSocialVisualNames",value:function(){return new Map([[i.SOCIAL,R.CRM.get(C.a.SOCIAL_NAME_SOCIAL)],[i.GOOGLE,R.CRM.get(C.a.SOCIAL_NAME_GOOGLE)],[i.FACEBOOK,R.CRM.get(C.a.SOCIAL_NAME_FACEBOOK)],[i.NAVER,R.CRM.get(C.a.SOCIAL_NAME_NAVER)],[i.KAKAO,R.CRM.get(C.a.SOCIAL_NAME_KAKAO)],[i.BIZHOWS_MICAN,R.CRM.get(C.a.SOCIAL_NAME_BIZHOWS)]])}}]),t}(O.a);L()(F,"instance",new F),L()(F,"HTML_TOOLS_ICON",'<i class="tools_icon"></i>'),function(e){e[e.GOOGLE=0]="GOOGLE",e[e.FACEBOOK=1]="FACEBOOK",e[e.NAVER=2]="NAVER",e[e.KAKAO=3]="KAKAO",e[e.BIZHOWS=4]="BIZHOWS"}(G||(G={}))},,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return I}),n.d(t,"g",function(){return _}),n.d(t,"f",function(){return y}),n.d(t,"h",function(){return L}),n.d(t,"b",function(){return O}),n.d(t,"a",function(){return S}),n.d(t,"i",function(){return P}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return A});var i=n(44),a=n.n(i),r=n(37),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(40),g=n.n(f),v=n(225),E=n(47),T=n(189),I=function(e){function t(){return c()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"setData",value:function(e){var t=v.a.build(e);this.copySheetUrl=t["SMILE-CANVAS-V2"]["TBPE-COMMODITY-INSTANCE"]["@sheet_url"]}},{key:"getErrorMsg",value:function(){return T.a.COMMODITY_INSTANCE}}]),t}(E.ApiResponse),_=function(e){function t(){return c()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"setData",value:function(e){var t=v.a.build(e)["SMILE-CANVAS-V2"]["TBPE-THEME"]["TBPE-THEME-ITEM"];this.sort(t),this.dataList=[];for(var n=0,i=t.length;n<i;n++){var a=t[n],r=a["TBPE-TEMPLATE"],o=r["TBPE-TEMPLATE-LAYOUT"]["@layout_url"],s=a["TBPE-TEMPLATE"]["TBPE-TEMPLATE-SKIN-RATIO-ITEM"];this.dataList.push({commIdx:Number(r["@from_comm_idx"]),layoutUrl:o,skinId:s["@skin_id"],ratioId:s["@ratio_id"]})}}},{key:"getErrorMsg",value:function(){return T.a.NEW_THEME_SHEETS}},{key:"sort",value:function(e){if(!(e.length<=1)){var t=e[0]["@page_location"];if(isNaN(t)){if("EVEN"===t&&2===e.length){var n=e[0];e[0]=e[1],e[1]=n}}else e.sort(function(e,t){return Number(e["@page_location"])-Number(t["@page_location"])})}}}]),t}(E.ApiResponse),y=function(e){function t(){return c()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"setData",value:function(e){var t=v.a.build(e)["SMILE-CANVAS-V2"]["TBPE-TEMPLATE"];this.skinId=t["TBPE-TEMPLATE-SKIN-RATIO-ITEM"]["@skin_id"],this.ratioId=t["@ratio_id"],this.layoutTypeId=t["@layout_type_id"],this.layoutUrl=t["TBPE-TEMPLATE-LAYOUT"]["@layout_url"]}},{key:"getErrorMsg",value:function(){return T.a.NEW_TEMPLATE_SHEETS}}]),t}(E.ApiResponse),L=function(e){function t(){return c()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"setData",value:function(e){this.idx=e.data.idx,this.title=e.data.title,this.pageList=e.data.pageList,this.accountId=e.data.accountId,this.categoryIdx=e.data.categoryIdx,this.status=e.data.status,this.keywords=e.data.keywords,this.templateIdx=e.data.templateIdx,this.templateRepositoryType=e.data.templateRepositoryType,this.accountName=e.data.accountName,this.sizeOption=e.data.sizeOption,this.printoutOption=e.data.printoutOption,this.latestDesignHistoryIdx=e.data.latestDesignHistoryIdx,this.templateType=e.data.templateType}},{key:"getErrorMsg",value:function(){return T.a.UNICORN_DESIGN_API}}]),t}(E.ApiResponse),O=function(e){function t(){return c()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"setData",value:function(e){this.data=e.aResJob.data,this.pagination=e.aResJob.paging}},{key:"getErrorMsg",value:function(){return T.a.BIZHOWS_DESIGN_API}}]),t}(E.ApiResponse),S=function(e){function t(){return c()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"setData",value:function(e){this.data=e.data}},{key:"getErrorMsg",value:function(){return T.a.BIZHOWS_DESIGN_API}}]),t}(E.ApiResponse),P=(E.ApiResponse,function(e){function t(){return c()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"setData",value:function(e){this.data=e.data.list,this.pagination=e.data.pagination}},{key:"getErrorMsg",value:function(){return T.a.TEMPLATE_DESIGN_API}}]),t}(E.ApiResponse)),k=function(e){function t(){return c()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"setData",value:function(e){this.data=e.list,this.totalCount=e.totalCount}},{key:"getErrorMsg",value:function(){return T.a.EXTERNAL_STICKER_API}}]),t}(E.ApiResponse),A=function(e){function t(){return c()(this,t),d()(this,m()(t).apply(this,arguments))}return g()(t,e),u()(t,[{key:"setData",value:function(e){var n=v.a.build(e).SMILECAT.STICKER;Array.isArray(n)?this.data=n.map(function(e){return t.parse(e)}):this.data=[t.parse(n)]}},{key:"getErrorMsg",value:function(){return T.a.TBPE_STICKER}}],[{key:"parse",value:function(e){return{idx:e["@ts_idx"],id:e["@id"],name:e["@name"],active:"Y"===e["@active"],fileSize:e["@file_size"],stickerUrl:e["@sticker_url"],orgWidth:e["@ts_org_width"],orgHeight:e["@ts_org_height"],thumb400url:(e["@sticker_thumb_400_url"]||"").replace("http:","https:"),thumb800url:(e["@sticker_thumb_800_url"]||"").replace("http:","https:"),designerId:e["@designer_id"],deployType:Number(e["@deploy_type"])}}}]),t}(E.ApiResponse);E.ApiResponse},function(e,t,n){"use strict";n.d(t,"a",function(){return T});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(50),m=n(137),f=n(3),g=n(43),v=n(59),E=n(66),T=function(){function e(){c()(this,e)}var t;return u()(e,null,[{key:"getFileIDWithKey",value:function(t){return t.replace(e.PIXABAY_SUFFIX,"")}},{key:"getEditImgURL",value:function(t){return f.CRM.get(g.a.IMAGE_PREVIEW_API)+"/"+t+"/"+e.EDIT_PHOTO_SIZE}},{key:"getEditImg",value:(t=o()(a.a.mark(function t(n){var i,r,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.getEditImgURL(n),t.prev=1,t.next=4,v.b.setUrlImage(n,i);case 4:return r=t.sent,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(1),o=e.getImageInfoByKey(n).webformatURL,t.abrupt("return",v.b.setUrlImage(n,o));case 12:case"end":return t.stop()}},t,this,[[1,8]])})),function(e){return t.apply(this,arguments)})},{key:"getImageInfoByKey",value:function(t){var n=e.getFileIDWithKey(t);return m.b.get(n)}},{key:"getPixabayKeyWithId",value:function(e){return"".concat(e).concat(this.PIXABAY_SUFFIX)}},{key:"isPixabayItem",value:function(e){return e instanceof p.e?this.isPixabayOriginType(e.orgType):e instanceof E.b&&this.isPixabayOriginType(e.innerPhotoItem.orgType)}},{key:"isPixabayOriginType",value:function(e){return e===p.b.Pixabay||e===p.b.BackgroundPixabay}},{key:"pixabayItemsIn",value:function(t,n){for(var i=new Array,a=0;a<n.length;a++){var r=n[a];e.containPixabayImage(t[r])&&(i=i.concat(e.pixabayKeysIn(t[r])))}return i}},{key:"pixabayKeysIn",value:function(t){var n=this;return t.getAllSingleItems().filter(function(t){return e.isPixabayItem(t)}).map(function(e){return n.getKey(e)})}},{key:"getKey",value:function(e){return e instanceof E.b?e.innerPhotoItem.props.getPhotoKey():e.props.getPhotoKey()}},{key:"containPixabayImage",value:function(t){var n=!0,i=!1,a=void 0;try{for(var r,o=t.getAllSingleItems()[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;if(e.isPixabayItem(s))return!0}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return!1}}]),e}();d()(T,"PIXABAY_SUFFIX","PIXABAY"),d()(T,"EDIT_PHOTO_SIZE",800)},,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(41),c=n(42),l=function(){function e(){a()(this,e)}return o()(e,null,[{key:"getPageScrollContents",value:function(){return c.a.instance.renderer?c.a.instance.renderer.canvasRenderer.scrollElement.contents:document.body}},{key:"scrollOff",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n&&!c.a.getEnv().browser.isMobile()||(t=t||e.getPageScrollContents())&&t.classList.add(s.a.SCROLL_OFF)}},{key:"scrollOn",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n&&!c.a.getEnv().browser.isMobile()||(t=t||e.getPageScrollContents())&&t.classList.remove(s.a.SCROLL_OFF)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(60),m=n(70),f=n(3),g=n(43),v=n(47),E=n(239),T=n(256),I=function(){function e(){c()(this,e)}var t,n,i,r;return u()(e,null,[{key:"getValue",value:function(e){var t=String(e),n=t.indexOf(".");if(n<0)return e;if(t.substring(n+1).length<3)return e;var i=Math.pow(10,3),a=Math.ceil(e*i)/i;return Number(a.toFixed(3))}},{key:"getSvgWidth",value:function(e){return Number(e.getAttribute("width").replace(/[^\d.]/g,""))}},{key:"getSvgHeight",value:function(e){return Number(e.getAttribute("height").replace(/[^\d.]/g,""))}},{key:"makeSvgData",value:function(e){var t=[],n=new p.b,i=e.cloneNode(!0);m.a.makeUnicornSvgElement(i),i.style.position="absolute",i.style.visibility="hidden",document.body.appendChild(i);var a=this.getSvgWidth(i),r=this.getSvgHeight(i);n.type=p.g.ILLUST,n.status=p.h.INACTIVE,n.svg=e.cloneNode(!0),n.width=a,n.height=r,n.minWidth=a,n.minHeight=r;for(var o=0,s=0;s<i.childNodes.length;s++){var c=i.childNodes.item(s);if(m.a.validateSvgElement(c)){for(var l=c,u=l.getBoundingClientRect(),h=this.getValue(u.width),d=this.getValue(u.height),g=this.getValue(u.top),v=this.getValue(u.left),E=f.StringUtil.random(10);t.indexOf(E)>-1;)E=f.StringUtil.random(10);t.push(E);var T=new p.d;T.layerId=E,T.idx=o,T.type=p.e.NO_PATTERN,T.extendOffsetX=this.getValue(h/a),T.extendOffsetY=this.getValue(d/r),T.moveOffsetX=this.getValue(v/a),T.moveOffsetY=this.getValue(g/r),T.width=h,T.height=d,T.left=v,T.top=g;for(var I=e.cloneNode(!0);I.firstChild;)I.removeChild(I.firstChild);I.appendChild(l.cloneNode(!0)),T.svg=I,n.addLayer(T),o++}}var _=m.a.getOriginFillColors(i),y=!0,L=!1,O=void 0;try{for(var S,P=_[Symbol.iterator]();!(y=(S=P.next()).done);y=!0){var k=S.value,A=new p.a;A.color=k,A.editable=!0,n.addColor(A)}}catch(e){L=!0,O=e}finally{try{y||null==P.return||P.return()}finally{if(L)throw O}}return document.body.removeChild(i),n}},{key:"appendSvgInsertData",value:(r=o()(a.a.mark(function e(t,n){var i,r,o,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t.append("type",n.type.value),t.append("status",n.status.value),t.append("width",String(n.width)),t.append("height",String(n.height)),t.append("minWidth",String(n.minWidth)),t.append("minHeight",String(n.minHeight)),i=0;i<n.layerList.length;i++)r=n.layerList[i],t.append("layerDtoList[".concat(i,"].layerId"),r.layerId),t.append("layerDtoList[".concat(i,"].type"),r.type.value),t.append("layerDtoList[".concat(i,"].extendOffsetX"),String(r.extendOffsetX)),t.append("layerDtoList[".concat(i,"].extendOffsetY"),String(r.extendOffsetY)),t.append("layerDtoList[".concat(i,"].moveOffsetX"),String(r.moveOffsetX)),t.append("layerDtoList[".concat(i,"].moveOffsetY"),String(r.moveOffsetY)),t.append("layerDtoList[".concat(i,"].width"),String(r.width)),t.append("layerDtoList[".concat(i,"].height"),String(r.height)),t.append("layerDtoList[".concat(i,"].positionLeft"),String(r.left)),t.append("layerDtoList[".concat(i,"].positionTop"),String(r.top));for(o=0;o<n.colorList.length;o++)s=n.colorList[o],t.append("colorDtoList[".concat(o,"].color"),s.color),t.append("colorDtoList[".concat(o,"].editable"),String(s.editable));return e.t0=t,e.next=11,T.a.makeThumbnail(n);case 11:if(e.t1=e.sent,e.t0.append.call(e.t0,"thumbnailEncodedB64",e.t1),!p.c.isSecuritableSvg(n)){e.next=20;break}return e.next=16,T.a.makeSecurityImageData(n);case 16:(c=e.sent)&&"data:,"!==c&&t.append("replacementFileEncodedB64",c),e.next=20;break;case 20:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})},{key:"containsWaterPattern",value:function(e){var t=e.svg.getElementsByTagName("pattern"),n=!0,i=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){if("물방울_패턴"===r.value.id)return!0}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}},{key:"makeSvgDataFromFileKey",value:(i=o()(a.a.mark(function e(t){var n,i,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSvgFileInfo(t);case 2:return n=e.sent,e.next=5,this.getSvgFile(t);case 5:return i=e.sent,(r=this.makeSvgDataFromXml(i)).key=t,r.status=n.deleted?p.h.DISABLED:p.h.ACTIVE,r.name=n.originalName,e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"makeSvgDataFromXml",value:function(t){var n=(new DOMParser).parseFromString(t,"image/svg+xml").getElementsByTagName("svg").item(0);m.a.makeUnicornSvgElement(n),E.a.changeElement(n);var i=e.makeSvgData(n);return i.svg=n,i}},{key:"getSvgFile",value:(n=o()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fileCache.has(t)){e.next=5;break}return e.next=3,$.get(v.UnicornApiClient.getURL(f.CRM.get(g.a.SVG_HOST)+"/file/".concat(t)));case 3:n=e.sent,this.fileCache.set(t,n);case 5:return e.abrupt("return",this.fileCache.get(t));case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getSvgFileInfo",value:(t=o()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fileInfoCache.has(t)){e.next=5;break}return e.next=3,v.UnicornApiRequest.get(f.CRM.get(g.a.SVG_HOST)+"/file/".concat(t,"/info"));case 3:n=e.sent,this.fileInfoCache.set(t,n.data);case 5:return e.abrupt("return",this.fileInfoCache.get(t));case 6:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}();d()(I,"fileInfoCache",new Map),d()(I,"fileCache",new Map)},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(39),c=n.n(s),l=n(38),u=n.n(l),h=n(40),d=n.n(h),p=n(37),m=n.n(p),f=function(e){function t(){var e;return a()(this,t),(e=c()(this,u()(t).call(this))).content=document.createElement("div"),e.title=document.createElement("div"),e.subTitle=document.createElement("div"),e.cancelBtn=document.createElement("div"),e.confirmBtn=document.createElement("div"),e.additionalWrap=document.createElement("div"),e.initDom(),e.initEvent(),e}return d()(t,e),o()(t,[{key:"initDom",value:function(){this.title.className="title",this.content.appendChild(this.title),this.subTitle.className="sub_title",this.content.appendChild(this.subTitle),this.content.appendChild(this.additionalWrap);var e=document.createElement("div");e.className="button_wrap",this.cancelBtn.innerText="취소",this.confirmBtn.innerText="확인",e.appendChild(this.cancelBtn),e.appendChild(this.confirmBtn),this.content.appendChild(e)}},{key:"initEvent",value:function(){var e=this;this.cancelBtn.addEventListener("click",function(){return e.close()}),this.confirmBtn.addEventListener("click",function(){e.confirmAction&&e.confirmAction(),e.close()})}},{key:"getContents",value:function(){return this.content}},{key:"getId",value:function(){return"confirmPopup"}},{key:"updateUI",value:function(){}}],[{key:"open",value:function(e){this.instance.confirmAction=e.confirmAction,this.instance.title.innerText=e.title,this.instance.subTitle.innerText=e.subTitle,e.subTitleHTML&&(this.instance.subTitle.innerHTML=e.subTitleHTML),e.additionalWrap&&(this.instance.additionalWrap.innerHTML="",this.instance.additionalWrap.appendChild(e.additionalWrap)),this.instance.cancelBtn.style.display=e.hideCancelBtn?"none":"inline-block",this.instance.confirmBtn.innerText=e.txtConfirmBtn||"확인",this.instance.open()}},{key:"close",value:function(){this.instance.close()}}]),t}(n(63).a);m()(f,"instance",new f)},function(e,t,n){"use strict";n.d(t,"a",function(){return P});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(44),g=n.n(f),v=n(40),E=n.n(v),T=n(37),I=n.n(T),_=n(154),y=n(41),L=n(59),O=n(3),S=n(326),P=function(e){function t(e,n){var i;return c()(this,t),i=d()(this,m()(t).call(this)),I()(g()(i),"ul",document.createElement("ul")),I()(g()(i),"itemMatrix",[]),I()(g()(i),"justifyLock",!1),I()(g()(i),"justifyRequire",!1),i.liRenderFunc=e,i.option=n,i}var n,i,r,s,l,h;return E()(t,e),u()(t,[{key:"render",value:function(){return this.element.className=y.a.LIST_WRAP,this.element.appendChild(this.ul),this.element}},{key:"updateUI",value:(h=o()(a.a.mark(function e(t){var n,i,r,o,s,c,l,u=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isAppend||this.clear(t.loadingBoxes),t.list){e.next=3;break}return e.abrupt("return");case 3:if(this.justifyLock=!0,n=[],t.list.forEach(function(e){return n.push(u.liRenderFunc(e))}),t.preventJustify||!this.option){e.next=13;break}return this.element.classList.add(y.a.JUSTIFIED),e.next=10,this._justify(n,!0,t.loadingBoxes,t.maxRowsJustified);case 10:n=e.sent,e.next=14;break;case 13:this.element.classList.remove(y.a.JUSTIFIED);case 14:if(!t.loadingBoxes||!t.loadingBoxes.length){e.next=27;break}i=this.getWidthRatio(t.templateSize,t.colCount),r=0;case 17:if(!(r<t.loadingBoxes.length)){e.next=25;break}return o=r>=n.length?null:n[r],e.next=21,this.replaceLoadingBox(t.loadingBoxes[r],o);case 21:o&&i>0&&(s=o.querySelectorAll("img").length,c=t.templateSize.height*i*s,o.style.height="".concat(c,"px"),s>1&&o.querySelectorAll("img").forEach(function(e){return e.style.height="auto"}));case 22:r++,e.next=17;break;case 25:e.next=30;break;case 27:l=document.createDocumentFragment(),n.forEach(function(e){return l.appendChild(e)}),this.ul.appendChild(l);case 30:if(this.justifyLock=!1,!this.justifyRequire){e.next=35;break}return this.justifyRequire=!1,e.next=35,this.justify(!0);case 35:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)})},{key:"getWidthRatio",value:function(e,t){if(e){var n=e.width<e.height?16:5;return(this.getRealWidth()-n)/t/Math.max(e.width,180)}return 0}},{key:"prependItem",value:(l=o()(a.a.mark(function e(t){var n,i,r=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(r.length>1&&void 0!==r[1])||r[1],i=this.liRenderFunc(t),!n){e.next=5;break}return e.next=5,this.justify(!0,[i]);case 5:$(this.ul).prepend(i);case 6:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"insertElement",value:function(e,t){var n=$(this.ul).children("li");t<n.length?n.eq(t).before(e):n.eq(n.length-1).after(e)}},{key:"clear",value:function(e){if($(this.ul).empty(),!O.ArrayUtil.isEmpty(e)){var t=document.createDocumentFragment();e.forEach(function(e){return t.appendChild(e)}),this.ul.appendChild(t)}this.itemMatrix=[]}},{key:"clearUnloaded",value:function(e){for(var t=0;t<e.length;t++)e[t].parentElement&&e[t].parentElement.removeChild(e[t])}},{key:"initOption",value:function(){this.refreshWidthOption(),this.option.horizonMargin||(this.option.horizonMargin=0)}},{key:"refreshWidthOption",value:function(){this.option&&this.option.rowWidth&&(this.option.rowWidth=this.getRealWidth()||this.option.rowWidth)}},{key:"getRealWidth",value:function(){return $(this.ul).width()}},{key:"justify",value:(s=o()(a.a.mark(function e(){var t,n,i,r,o,s,c,l,u=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]&&u[0],n=u.length>1&&void 0!==u[1]?u[1]:[],this.option){e.next=4;break}return e.abrupt("return");case 4:if((t||this.option.rowWidth!==this.getRealWidth())&&0!==this.getRealWidth()){e.next=6;break}return e.abrupt("return");case 6:if(!this.justifyLock){e.next=9;break}return this.justifyRequire=!0,e.abrupt("return");case 9:for(i=!0,r=!1,o=void 0,e.prev=12,s=this.ul.children[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,n.push(l);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),r=!0,o=e.t0;case 20:e.prev=20,e.prev=21,i||null==s.return||s.return();case 23:if(e.prev=23,!r){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.next=30,this._justify(n,!1);case 30:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])})),function(){return s.apply(this,arguments)})},{key:"_justify",value:(r=o()(a.a.mark(function e(t){var n,i,r,o,s,c,l,u,h,d,p,m,f,g=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!(g.length>1&&void 0!==g[1])||g[1],i=g.length>2?g[2]:void 0,r=g.length>3?g[3]:void 0,this.initOption(),o=r>0?r:t.length,n&&this.itemMatrix.length>0?this.itemMatrix.pop().reverse().forEach(function(e){return t.unshift(e.li)}):this.itemMatrix=[],s=[],c=i?i.length-t.length:-1;case 8:if(O.ArrayUtil.isEmpty(t)||!(o>0)){e.next=39;break}return e.next=11,this.justifyRow(t);case 11:if(0!==(l=e.sent).length){e.next=14;break}return e.abrupt("break",39);case 14:if(l.forEach(function(e){return s.push(e.li)}),this.itemMatrix.push(l),o--,!n||!i){e.next=37;break}for(u=!0,h=!1,d=void 0,e.prev=21,p=l[Symbol.iterator]();!(u=(m=p.next()).done);u=!0)f=m.value,c>=0&&i[c].setAttribute("style",f.li.getAttribute("style")),c++;e.next=29;break;case 25:e.prev=25,e.t0=e.catch(21),h=!0,d=e.t0;case 29:e.prev=29,e.prev=30,u||null==p.return||p.return();case 32:if(e.prev=32,!h){e.next=35;break}throw d;case 35:return e.finish(32);case 36:return e.finish(29);case 37:e.next=8;break;case 39:return e.abrupt("return",s);case 40:case"end":return e.stop()}},e,this,[[21,25,29,37],[30,,32,36]])})),function(e){return r.apply(this,arguments)})},{key:"justifyRow",value:(i=o()(a.a.mark(function e(n){var i,r,o,s,c,l,u,h,d,p=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],0!==n.length){e.next=3;break}return e.abrupt("return",i);case 3:r=0,o=0,s=!1,c=!1,l=t.MIN_WIDTH/this.option.defaultRowHeight;case 8:if(O.ArrayUtil.isEmpty(n)){e.next=36;break}return u=void 0,e.prev=10,e.next=13,t.makeListItem(n.shift(),l);case 13:u=e.sent,e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(10),console.error(e.t0),e.abrupt("continue",8);case 20:if(i.push(u),c){e.next=26;break}return c=!0,r=u.ratio*this.option.defaultRowHeight,s=this.option.rowWidth<r||O.ArrayUtil.isEmpty(n),e.abrupt("continue",8);case 26:if(h=u.ratio*this.option.defaultRowHeight,r+=h,o+=this.option.horizonMargin,!(this.option.rowWidth<r+o)){e.next=34;break}return s=!0,r+o-this.option.rowWidth>(h+this.option.horizonMargin)/2&&(i.pop(),n.unshift(u.li),r-=h,o-=this.option.horizonMargin),e.abrupt("break",36);case 34:e.next=8;break;case 36:return d=s?(this.option.rowWidth-o)/r*this.option.defaultRowHeight:this.option.defaultRowHeight,i.forEach(function(e,n){var i=p.option.horizonMargin;0===n?(i=0,e.li.classList.add(y.a.CLEAR_BOTH)):e.li.classList.remove(y.a.CLEAR_BOTH);var a=d*e.ratio,r=d.toFixed(3),o="width:".concat(a.toFixed(3),"px; height:").concat(r,"px; margin-right:0; margin-left:").concat(i,"px");e.li.setAttribute("style",o),Number(r)<t.SHORT_HEIGHT?e.li.classList.add(y.a.SHORT):e.li.classList.remove(y.a.SHORT)}),e.abrupt("return",i);case 39:case"end":return e.stop()}},e,this,[[10,16]])})),function(e){return i.apply(this,arguments)})},{key:"replaceLoadingBox",value:function(e,t){return new Promise(function(n){t?setTimeout(function(){e.before(t),e.parentElement&&e.parentElement.removeChild(e),n()},Math.floor(100*Math.random())):(e.parentElement&&e.parentElement.removeChild(e),n())})}},{key:"showLoadingBoxes",value:function(e,t){for(var n=[],i=0;i<e;i++){var a=document.createElement("li");a.className=y.a.LOADING_BOX,t&&(a.style.height="".concat(t.defaultRowHeight,"px")),a.draggable=!1,a.appendChild(document.createElement("div")),this.ul.appendChild(a),n.push(a)}return n}}],[{key:"makeListItem",value:(n=o()(a.a.mark(function e(t,n){var i,r,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=1,r=t.getAttribute("data-ratio"),O.StringUtil.isEmpty(r)){e.next=8;break}if(i=parseFloat(r),!isNaN(i)){e.next=6;break}throw Error("ratio is NaN");case 6:e.next=26;break;case 8:if(o=$(t).children("img")[0]){e.next=11;break}throw new Error("img not found");case 11:return e.prev=11,e.next=14,L.b.loadImageAsync(o.src);case 14:s=e.sent,e.next=24;break;case 17:return e.prev=17,e.t0=e.catch(11),o.src=S.a.DESIGN_HISTORY_PREVIEW_PLACEHOLDER,e.next=22,L.b.loadImageAsync(o.src);case 22:s=e.sent,console.error(e.t0);case 24:i=s.width/s.height,t.setAttribute("data-ratio",String(i));case 26:return i=Math.max(i,n),e.abrupt("return",{li:t,ratio:i});case 28:case"end":return e.stop()}},e,null,[[11,17]])})),function(e,t){return n.apply(this,arguments)})}]),t}(_.a);I()(P,"IMG_LOAD_FAILURE_PATH","/resources/image/common/design-history-preview-placeholder.png"),I()(P,"MIN_WIDTH",80),I()(P,"SHORT_HEIGHT",64),I()(P,"MAX_WIDTH",312)},function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(41),m=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;c()(this,e),d()(this,"page",1),d()(this,"totalPageCount",1),this.action=t,this.pageSize=n,this.makeElement()}return u()(e,[{key:"makeElement",value:function(){this.element=document.createElement("div"),this.element.className=p.a.PAGINATION,this.element.appendChild(this.makeRowDescLabel()),this.element.appendChild(this.makePrevBtn()),this.element.appendChild(this.makePageInputSection()),this.element.appendChild(this.makeNextBtn())}},{key:"makeRowDescLabel",value:function(){return this.pagingResultLabel=document.createElement("div"),this.pagingResultLabel.className=p.a.PAGING_RESULT,this.pagingResultLabel}},{key:"makePrevBtn",value:function(){var e=this;return this.prevBtn=document.createElement("button"),this.prevBtn.innerText="<",this.prevBtn.addEventListener("click",function(){e.prevBtn.classList.contains(p.a.DISABLE)||e.doAction(e.page-1)}),this.prevBtn}},{key:"makePageInputSection",value:function(){var e=document.createElement("div");return e.className=p.a.PAGE_INPUT,e.appendChild(this.makePageInput()),e.appendChild(this.makeSeparator()),e.appendChild(this.makeTotalPageLabel()),e}},{key:"makePageInput",value:function(){var e=this;return this.pageInput=document.createElement("input"),$(this.pageInput).on("change",function(){return e.doAction(Number(e.pageInput.value))}).on("keydown",function(e){return e.stopPropagation()}).on("keyup",function(){var t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.stopPropagation(),13!==n.keyCode){t.next=4;break}return t.next=4,e.doAction(Number(e.pageInput.value));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).on("focus",function(){return e.pageInput.select()}),this.pageInput}},{key:"makeSeparator",value:function(){var e=document.createElement("label");return e.innerText="/",e}},{key:"makeTotalPageLabel",value:function(){return this.totalPageLabel=document.createElement("label"),this.totalPageLabel}},{key:"makeNextBtn",value:function(){var e=this;return this.nextBtn=document.createElement("button"),this.nextBtn.innerText=">",this.nextBtn.addEventListener("click",function(){e.nextBtn.classList.contains(p.a.DISABLE)||e.doAction(e.page+1)}),this.nextBtn}},{key:"render",value:function(e){return e?(this.pageSize=e.pageSize,this.totalRow=e.totalRow,e.page&&this.setPage(e.page,!1),this.setPagingResult(),this.setPrevBtn(),this.setNextBtn(),this.setTotalPageLabel(),this.element):(this.setPage(1),this.element)}},{key:"setPage",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t||0===this.totalRow?this.page=e:this.page=e*this.pageSize>this.totalRow?Math.ceil(this.totalRow/this.pageSize):e,this.pageInput.value=String(this.page)}},{key:"setPageSize",value:function(e){this.pageSize=e}},{key:"setPagingResult",value:function(){var e=this.pageSize*(this.page-1)+1,t=e+this.pageSize-1;this.pagingResultLabel.innerText="".concat(this.totalRow,"개 중 ").concat(e,"-").concat(Math.min(t,this.totalRow))}},{key:"setPrevBtn",value:function(){this.page>1?this.prevBtn.classList.remove(p.a.DISABLE):this.prevBtn.classList.add(p.a.DISABLE)}},{key:"setNextBtn",value:function(){this.pageSize*this.page<this.totalRow?this.nextBtn.classList.remove(p.a.DISABLE):this.nextBtn.classList.add(p.a.DISABLE)}},{key:"setTotalPageLabel",value:function(){this.totalPageCount=Math.ceil(this.totalRow/this.pageSize),this.totalPageLabel.innerText=String(this.totalPageCount)}},{key:"doAction",value:function(e){(isNaN(e)||e<=0)&&(e=this.page),this.setPage(e,!1),this.action(this.getPaginationParam())}},{key:"getPaginationParam",value:function(){return{page:this.page,pageSize:this.pageSize}}},{key:"getTotalRow",value:function(){return this.totalRow}},{key:"getTotalPageCount",value:function(){return this.totalPageCount}},{key:"getPageSize",value:function(){return this.pageSize}},{key:"hide",value:function(){this.element.classList.add(p.a.HIDE)}},{key:"show",value:function(){this.element.classList.remove(p.a.HIDE)}},{key:"increaseTotalCount",value:function(){this.totalRow++}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"b",function(){return i});var i,a=n(73),r=n.n(a),o=n(0),s=n.n(o),c=n(1),l=n.n(c),u=n(35),h=n.n(u),d=n(36),p=n.n(d),m=n(37),f=n.n(m),g=n(178),v=n(41),E=n(57),T=n(3),I=n(157),_=n(177),y=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.SCROLL,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;h()(this,e),f()(this,"hasNextPage",!0),f()(this,"justifyRequire",!1),f()(this,"justifyForce",!1),f()(this,"colCount",1),this.requestAction=t,this.paginationMode=a,this.justifyOption=r,this.listEmptyView=o,this.endRequestAction=s,this.paginationParam={page:1,pageSize:n},this.makeElement()}var t,n,a,o,c,u,d,m,y,L;return p()(e,[{key:"makeElement",value:function(){var e=this;this.element=document.createElement("div"),this.element.className=v.a.PAGINATION_TOOL,this.scrollElement=new E.a(!1,!0,"100%"),this.listTool=new _.a(function(e){return e.render()},this.justifyOption),this.element.appendChild(this.scrollElement.render(this.listTool.render())),this.pagination=new g.a(function(){var t=l()(s.a.mark(function t(n){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.paginationParam=n,t.next=3,e.doRequestAction();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.paginationParam.pageSize),this.element.appendChild(this.pagination.render()),this.loadingUI=new I.a(this.element)}},{key:"justifyList",value:(L=l()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.justifyRequire=!1,t=this.justifyForce,this.justifyForce=!1,this.scrollElement.setScrollY(0),e.next=6,this.listTool.justify(t);case 6:case"end":return e.stop()}},e,this)})),function(){return L.apply(this,arguments)})},{key:"setJustifyRequire",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.justifyRequire=!0,this.justifyForce=e}},{key:"isJustifyRequire",value:function(){return this.justifyRequire}},{key:"render",value:function(){switch(this.paginationMode){case i.SCROLL:this.renderScrollMode();break;case i.BUTTON:this.renderButtonMode()}return this.element}},{key:"renderScrollMode",value:function(){var e=this,t=this.scrollElement.contents;$(t).off("scroll").on("scroll",l()(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.scrollElement.hasScroll()&&t.scrollHeight-$(t).height()<t.scrollTop+2)){n.next=5;break}if(!e.hasNextPage){n.next=5;break}return e.paginationParam.page++,n.next=5,e.doRequestAction();case 5:case"end":return n.stop()}},n)}))),this.element.classList.remove(v.a.BUTTON_MODE)}},{key:"renderButtonMode",value:function(){$(this.scrollElement.contents).off("scroll"),this.element.classList.add(v.a.BUTTON_MODE)}},{key:"doRequestAction",value:(y=l()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.listTool.refreshWidthOption(),e.next=3,this.loadList();case 3:return t=e.sent,this.renderEmptyListView(T.ArrayUtil.isEmpty(t.items)),e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"loadList",value:(m=l()(s.a.mark(function e(){var t,n,a,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.listEmptyView&&$(this.listEmptyView).remove(),(t=1===this.paginationParam.page||this.paginationMode===i.BUTTON)&&(this.listTool.clear(),this.scrollElement.setScrollY(0),this.loadedListItems=[]),n=this.showLoadingBoxes(),e.prev=4,e.next=7,this.requestAction(this.paginationParam,t);case 7:return a=e.sent,!t&&this.loadedListItems?(o=this.loadedListItems).push.apply(o,r()(a.items)):this.loadedListItems=a.items,this.hasNextPage=!T.ArrayUtil.isEmpty(a.items)&&this.paginationParam.page*this.paginationParam.pageSize<a.totalRow,e.next=12,this.renderList(a.items,n,!t);case 12:return e.next=14,this.checkScroll();case 14:return this.renderPagination(a.totalRow),this.endRequestAction&&this.endRequestAction(),this.loading(!1),e.abrupt("return",a);case 20:throw e.prev=20,e.t0=e.catch(4),this.loading(!1),this.listTool.clearUnloaded(n),e.t0;case 25:case"end":return e.stop()}},e,this,[[4,20]])})),function(){return m.apply(this,arguments)})},{key:"checkScroll",value:(d=l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.paginationMode===i.SCROLL){e.next=2;break}return e.abrupt("return");case 2:if(!this.isElementVisible()||this.hasVerticalScroll()||!this.hasNextPage){e.next=6;break}return this.paginationParam.page++,e.next=6,this.loadList();case 6:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"isElementVisible",value:function(){return $(this.scrollElement.contents).is(":visible")}},{key:"hasVerticalScroll",value:function(){return this.scrollElement.contents.clientHeight<this.scrollElement.contents.scrollHeight}},{key:"initList",value:(u=l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.paginationParam.page=1,this.hasNextPage=!0,e.next=4,this.doRequestAction();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"showLoadingBoxes",value:function(){return this.listTool.showLoadingBoxes(this.paginationParam.pageSize,this.justifyOption)}},{key:"renderList",value:(c=l()(s.a.mark(function e(t,n,i){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listTool.updateUI({list:t,isAppend:i,loadingBoxes:n,colCount:this.colCount,templateSize:t.length>0?t[0].getTemplateSize():null});case 2:this.scrollElement.updateScrollbar();case 3:case"end":return e.stop()}},e,this)})),function(e,t,n){return c.apply(this,arguments)})},{key:"renderEmptyListView",value:function(e){this.listEmptyView&&(1===this.paginationParam.page&&e?this.element.appendChild(this.listEmptyView):$(this.listEmptyView).remove())}},{key:"renderPagination",value:function(e){this.pagination.render({page:this.paginationParam.page,pageSize:this.paginationParam.pageSize,totalRow:e})}},{key:"setPaginationMode",value:function(e){this.paginationMode=e,this.render()}},{key:"setListEmptyView",value:function(e){this.listEmptyView&&this.listEmptyView.parentElement&&this.listEmptyView.parentElement.removeChild(this.listEmptyView),this.listEmptyView=e}},{key:"addItem",value:(o=l()(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loadedListItems){e.next=3;break}return e.next=3,this.initListItems();case 3:if(!(n=this.loadedListItems.find(function(e){return e.listItemData.myCollectionPk.referenceKey===t.listItemData.myCollectionPk.referenceKey}))){e.next=9;break}n.listItemData.resourceData.pageList=t.listItemData.resourceData.pageList,n.updateThumbImg(),e.next=12;break;case 9:return this.pagination.increaseTotalCount(),e.next=12,this.prependItem(t);case 12:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"prependItem",value:(a=l()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loadedListItems){e.next=3;break}return e.next=3,this.initListItems();case 3:return this.loadedListItems.push(t),$(this.listEmptyView).remove(),e.next=7,this.listTool.prependItem(t,!1);case 7:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"updateItemThumbnail",value:(n=l()(s.a.mark(function e(t,n){var i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.loadedListItems){e.next=3;break}return e.next=3,this.initListItems();case 3:if(i=this.loadedListItems.find(function(e){if(!Number.isNaN(Number(e.listItemData.myCollectionPk.referenceKey)))return Number(e.listItemData.myCollectionPk.referenceKey)===t})){e.next=6;break}return e.abrupt("return");case 6:i.updateThumbImg(n);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"initListItems",value:(t=l()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.requestAction(this.paginationParam,!0);case 2:t=e.sent,this.loadedListItems=t.items;case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"setRecommendList",value:function(e){if(!this.recommendListTool){this.recommendListTool=new _.a(function(e){return e.render()});var t=this.recommendListTool.render();t.classList.add(v.a.RECOMMEND_LIST),$(this.scrollElement.contents).prepend(t)}this.recommendListTool.updateUI({list:e})}},{key:"loading",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.element.classList.add(v.a.LOADING):this.element.classList.remove(v.a.LOADING),this}},{key:"getTotalRow",value:function(){return this.pagination.getTotalRow()}},{key:"prependElementToScrollContents",value:function(e){this.scrollElement.contents.insertBefore(e,this.scrollElement.contents.firstChild)}}]),e}();!function(e){e.SCROLL="SCROLL",e.BUTTON="BUTTON"}(i||(i={}))},,,function(e,t,n){"use strict";n.d(t,"a",function(){return P});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(39),c=n.n(s),l=n(38),u=n.n(l),h=n(40),d=n.n(h),p=n(37),m=n.n(p),f=n(41),g=n(156),v=n(3),E=n(154),T=n(83),I=n(48),_=n(278),y=n(76),L=n(12),O=n(138),S=n(120),P=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.a.TEMPLATE_PAGE;return a()(this,t),(n=c()(this,u()(t).call(this))).action=e,n.resourceType=i,n}return d()(t,e),o()(t,[{key:"render",value:function(){return this.element.className=f.a.SUB_PAGES_TOOL,this.makeHeader(),this.makeBody(),this.makeFooter(),this.element}},{key:"makeHeader",value:function(){var e=this,t=this.headerElem=document.createElement("div");t.className=f.a.TOOLS_HEADER,this.headerArrow=document.createElement("div"),this.headerArrow.className="arrow",t.appendChild(this.headerArrow);var n=document.createElement("label");this.cntElem=document.createElement("span");var i=document.createElement("span");i.innerText="개의 레이아웃",n.appendChild(this.cntElem),n.appendChild(i),t.appendChild(n),Object(L.setToolsIcon)(t,L.ToolsIcon.CLOSE,!0).addEventListener("click",function(){return $(e.element).remove()}),this.element.appendChild(t)}},{key:"makeBody",value:function(){this.listElem=document.createElement("div"),this.listElem.className=f.a.TOOLS_BODY,this.element.appendChild(this.listElem)}},{key:"makeFooter",value:function(){var e=document.createElement("div");e.className=f.a.TOOLS_FOOTER,this.element.appendChild(e)}},{key:"updateUI",value:function(e){var n=this,i=this.listItem=e.listItem,a=i.listItemData;this.cntElem.innerText=String(i.getThumbUrlList().length),$(this.listElem).empty();var r=a.dropEventKey;i.getThumbUrlList().forEach(function(e,i){var o=t.makeTemplatePageKey(r,i),s=g.a.getResourceKey(n.resourceType,o,a.myCollectionPk.repositoryType);n.insertListItem(e,s)});var o=$(i.element);this.headerArrow.style.left="".concat(i.element.offsetLeft+o.width()/2,"px");var s=e.cols?e.cols:_.a.getColsByRatio(o.height()/o.width());this.listElem.setAttribute("data-cols",String(s))}},{key:"insertListItem",value:function(e,t){var n=this,i=document.createElement("div");i.className=f.a.PAGE_LIST_ITEM,i.id="sub_page_item_".concat(v.StringUtil.random()),i.setAttribute(T.a.ATTRIBUTE_RESOURCE_KEY,t),i.draggable=!0,$(i).on("click",function(){O.a.hideLeftMenu(),n.action(n.listItem,$(i).index()),y.a.sendClick(n.listItem.listItemData.myCollectionPk)}).on("dragstart",function(e){return e.originalEvent.dataTransfer.setData("text",i.id)});var a=S.a.getImageElementWithReplaceableThumbnail();a.src=e,i.appendChild(a),this.listElem.appendChild(i)}}],[{key:"makeTemplatePageKey",value:function(e,n){return e+t.TEMPLATE_PAGE_KEY_SEPARATOR+n}},{key:"parseTemplatePageKey",value:function(e){var n=e.split(t.TEMPLATE_PAGE_KEY_SEPARATOR);return{designKey:n[0],pageIdx:Number(n[1])}}},{key:"getNextLineLiIdx",value:function(e){for(var t=$(e),n=e.parentElement.children.length,i=t.position().top;t.length>0;){if(t.position().top>i){n=t.index();break}t=t.next()}return n}}]),t}(E.a);m()(P,"TEMPLATE_PAGE_KEY_SEPARATOR","___page_key_sep___")},function(e,t,n){"use strict";n.d(t,"a",function(){return R}),n.d(t,"b",function(){return i});var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(35),l=n.n(c),u=n(36),h=n.n(u),d=n(39),p=n.n(d),m=n(38),f=n.n(m),g=n(46),v=n.n(g),E=n(40),T=n.n(E),I=n(41),_=n(269),y=n(107),L=n(60),O=n(88),S=n(97),P=n(361),k=n(94),A=n(42),R=function(e){function t(e){var n;return l()(this,t),(n=p()(this,f()(t).call(this))).param=e,n.btnKeywordMore=n.makeBtnKeywordMore(),n.btnKeywordShort=n.makeBtnKeywordShort(),n.makeElement(),n}var n,a;return T()(t,e),h()(t,[{key:"openItemInfo",value:(a=s()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeKeywordLayer();case 2:this.keywordLayer=e.sent,$(this.keywordWrapper).empty(),this.keywordWrapper.appendChild(this.keywordLayer),this.openPopup(t,n),this.setMoreBtn(this.keywordLayer);case 7:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"makeElement",value:function(){v()(f()(t.prototype),"makeElement",this).call(this),this.makeKeywordWrapper(),this.makeFavoritesBtn()}},{key:"makeKeywordWrapper",value:function(){this.keywordWrapper=k.a.makeKeywordWrap(),this.contents.appendChild(this.keywordWrapper)}},{key:"makeBtnKeywordMore",value:function(){var e=this,t=document.createElement("button");return t.innerText="... 더보기",t.className=I.a.BTN_KEYWORD_MORE,t.addEventListener("click",function(){$(e.wordWrap.children).removeClass(I.a.CLEAR_BOTH),e.wordWrap.classList.remove(I.a.LIMIT_HEIGHT),e.wordWrap.lastChild.after(e.btnKeywordShort)}),t}},{key:"makeBtnKeywordShort",value:function(){var e=this,t=document.createElement("button");return t.innerText="간단히",t.className=I.a.BTN_KEYWORD_SHORT,t.addEventListener("click",function(){e.wordWrap.classList.add(I.a.LIMIT_HEIGHT),e.btnKeywordMore.nextElementSibling.classList.add(I.a.CLEAR_BOTH)}),t}},{key:"setMoreBtn",value:function(e){var t=$(e).children(".".concat(I.a.KEYWORD_WRAP)),n=t.children(),i=n.eq(0).position().top,a=2*n.height()+i,r=!1,o=0;if(t.height()>=2*n.height())for(var s=0;s<n.length;s++){var c=n.eq(s),l=c.position();if(r){$(this.btnKeywordMore).position().top>=a&&(n.eq(o-1).before(this.btnKeywordMore),n.eq(o-1).addClass(I.a.CLEAR_BOTH));break}l.top>=a?(n.eq(s-1).before(this.btnKeywordMore),n.eq(s-1).addClass(I.a.CLEAR_BOTH),o=s-1,r=!0):l.top>i&&c.height()>=2*n.height()&&(c.before(this.btnKeywordMore),c.addClass(I.a.CLEAR_BOTH),o=s,r=!0)}}},{key:"makeKeywordLayer",value:(n=s()(r.a.mark(function e(){var t,n,a,o,s,c,l,u,h,d,p,m,f=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],this.param.itemType!==i.STICKER){e.next=8;break}return e.next=4,y.b.selectOne(this.param.itemReferenceKey);case 4:n=e.sent,t=n.keywordList,e.next=26;break;case 8:if(this.param.itemType!==i.SVG){e.next=15;break}return e.next=11,L.c.getSvgDataByKey(this.param.itemReferenceKey,A.a.instance.env.adminMode);case 11:a=e.sent,t=a.keywordList,e.next=26;break;case 15:if(this.param.itemType!==i.MOCKUP){e.next=22;break}return e.next=18,S.a.findOne(this.param.itemIdx);case 18:o=e.sent,t=o.keywordList,e.next=26;break;case 22:return e.next=24,O.c.getImageframeDataByKey(this.param.itemReferenceKey);case 24:s=e.sent,t=s.keywordList;case 26:return(c=document.createElement("div")).className=I.a.KEYWORD_LAYER,c.classList.add(I.a.DDDOT_INFO_LAYER,I.a.KEYWORD_LAYER),(l=document.createElement("div")).classList.add(I.a.KEYWORD_WRAP,I.a.LIMIT_HEIGHT),u=document.createDocumentFragment(),(h=document.createElement("label")).innerText="키워드",u.appendChild(h),d=t.length-1,p=void 0!==this.param.searchTool||this.param.search,t.forEach(function(e,t){var n,i=document.createElement("span");if(i.className=I.a.WORD_WRAP,(n=p?document.createElement("a"):document.createElement("span")).innerText=e,i.appendChild(n),t<d){var a=document.createElement("span");a.innerText=",",a.className="separator",i.appendChild(a)}u.appendChild(i)}),t.length||((m=document.createElement("span")).className=I.a.KEYWORD_NONE,m.innerText="없음",u.appendChild(m)),$(u.childNodes).on("click","a",function(e){if(p){_.a.close();var t=e.currentTarget;f.search(t.innerText)}}),l.appendChild(u),c.appendChild(l),this.wordWrap=l,e.abrupt("return",c);case 44:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"search",value:function(e){this.param.searchTool?this.param.searchTool.search(e):this.param.search&&this.param.search(e)}},{key:"getId",value:function(){return"itemDddotPopup"}}]),t}(P.a);!function(e){e[e.STICKER=0]="STICKER",e[e.SVG=1]="SVG",e[e.FRAME=2]="FRAME",e[e.MOCKUP=3]="MOCKUP"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(64),m=n(51),f=n(54),g=function(){function e(t){c()(this,e),d()(this,"lastRenderStatus",{position:null,contents:{revision:-1}}),this.item=t,this.makeElement()}var t,n,i,r,s,l;return u()(e,[{key:"renderAutoAsync",value:(l=o()(a.a.mark(function e(t){var n,i=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],e.abrupt("return",this.renderAutoAsyncItem(t,n,!1));case 2:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"renderLiveEdit",value:(s=o()(a.a.mark(function e(t,n){var i,r=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.length>2&&void 0!==r[2]&&r[2],e.abrupt("return",this.renderAutoAsyncItem(t,i,n));case 2:case"end":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)})},{key:"renderAutoAsyncItem",value:(r=o()(a.a.mark(function e(t,n,i){var r,o,s,c,l,u,h;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.makeElement(),o=r.element,s=r.wrapper,c=1,l=this.lastRenderEditScale!==c,this.lastRenderEditScale=c,u=this.item.getRenderStatus(),h=0,!(l||this.item.isChangeContentsStatus(u.contents)||n)){e.next=17;break}if(h++,this.item.getStatus()!==m.d.LOADING){e.next=13;break}return e.next=11,this.renderResourceLoadingView(o,c);case 11:e.next=16;break;case 13:return this.item.getStatus()===m.d.CHANGE&&this.item.setStatus(m.d.STABLE),e.next=16,this.updateContents(o,c,i);case 16:this.item.lastRenderEditScale=c;case 17:if((h>0||this.item.isChangePositionStatus(u.position))&&this.updatePosition(s,c),this.item.lastRenderStatus=u,this.item.status!==m.d.NEW&&this.item.status!==m.d.LOADING){e.next=23;break}return e.abrupt("return",s);case 23:return e.abrupt("return",null);case 24:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"renderResourceLoadingView",value:(i=o()(a.a.mark(function e(){var t,n,i=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:this.elements.element,n=i.length>1&&void 0!==i[1]?i[1]:this.lastRenderEditScale,e.next=4,this.renderContents(t,n,function(){var e=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"updateContents",value:(n=o()(a.a.mark(function e(){var t,n,i=this,r=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:this.elements.element,n=r.length>1&&void 0!==r[1]?r[1]:this.lastRenderEditScale,r.length>2&&void 0!==r[2]&&r[2],e.next=5,this.renderContents(t,n,function(){var e=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.item.render(t,n);case 2:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"renderContents",value:(t=o()(a.a.mark(function e(t,n,i){var r=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=o()(a.a.mark(function e(o,s){var c,l,u,h,d,m,f,g,v;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.item.getCanvasPosData(n),l=c.width,u=c.height,h=c.contentleft,d=c.contenttop,m=c.offsetX,f=c.offsetY,(g=p.a.createCanvas()).width=l,g.height=u,(v=g.getContext("2d")).translate(-h+m,-d+f),e.next=8,i(v,n);case 8:r.updateContentsAfter(v,n),t.onload=function(){return o()},t.onerror=function(){return s()},t.src=g.toDataURL(),t.style.width=l+"px",t.style.height=u+"px",t.style.left=h-m+"px",t.style.top=d-f+"px",o(t);case 17:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)})),function(e,n,i){return t.apply(this,arguments)})},{key:"updateContentsAfter",value:function(e,t){}},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.elementWrapper,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;null==e&&(e=this.elements.makeElement().wrapper);var n=this.item.props.getLeft()*t,i=this.item.props.getTop()*t,a=this.item.props.getWidth()*t,r=this.item.props.getHeight()*t;return e.style.width=a+"px",e.style.height=r+"px",e.style.transform="translate(".concat(n,"px, ").concat(i,"px) rotateZ(").concat(this.item.props.getRotate(),"deg)"),e.style.zIndex=""+(this.item.props.zIndex+1),this}},{key:"updateBorderStyle",value:function(e){if(null!=this.elements.elementWrapper){var t=f.b.getRootGroup(this.item.groupId);e>1||t?this.elements.elementWrapper.classList.add("multi_select"):this.elements.elementWrapper.classList.remove("multi_select"),(t?t.getSelectedItem()===this.item&&this.item.select:this.item.select)?this.elements.elementWrapper.classList.add("select"):this.elements.elementWrapper.classList.remove("select"),this.item.hover?this.elements.elementWrapper.classList.add("hover"):this.elements.elementWrapper.classList.remove("hover")}}},{key:"getMatchedRenderer",value:function(e){return e===this.item?this:null}},{key:"makeElement",value:function(){return this.elements||this.createElements(),this.elements.makeElement()}},{key:"removeElement",value:function(){this.elements.removeElement(),this.elements=null}}]),e}()},,,,,function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.BIZHOWS_TEMPLATE_LINK_ERROR="비즈템플릿 링크정보 조회하다 오류!",e.TBPE_STICKER="스티커디비 정보조회 실패",e.USER_MAKE="사용자 초기화 실패",e.UNICORN_DESIGN_API="유니콘 디자인 구성 실패",e.BIZHOWS_DESIGN_API="비즈하우스 디자인 구성 실패",e.BIZHOWS_STICKER_API="비즈하우스 스티커 구성 실패",e.TEMPLATE_STYLE_API="아이템 효과 구성 실패",e.TEMPLATE_DESIGN_API="아이템 조합 구성 실패",e.CATEGORY_API="카테고리 데이터 구성 실패",e.DEFAULT_API="기본 API 오류",e.UNICORN_API="유니콘 API 오류",e.COMMODITY_INSTANCE="CommodityInstance 구성 실패",e.COPY_SHEETS="CopySheet XML 파싱 실패",e.NEW_TEMPLATE_SHEETS="옛날 템플릿디자인 구성 실패",e.NEW_THEME_SHEETS="옛날 테마디자인 구성 실패",e.TEMPLATE_MANAGEMENT_API="템플릿 관리 API 오류",e.EXTERNAL_STICKER_API="외부 이미지 리스트 구성 실패"}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(49),m=n(3),f=n(42),g=function(){function e(){c()(this,e)}var t,n;return u()(e,null,[{key:"roundedRect",value:function(e,t,n,i,a,r){e.beginPath(),e.moveTo(t+r,n),e.lineTo(t+i-r,n),e.quadraticCurveTo(t+i,n,t+i,n+r),e.lineTo(t+i,n+a-r),e.quadraticCurveTo(t+i,n+a,t+i-r,n+a),e.lineTo(t+r,n+a),e.quadraticCurveTo(t,n+a,t,n+a-r),e.lineTo(t,n+r),e.quadraticCurveTo(t,n,t+r,n),e.closePath()}},{key:"calcFontSize",value:function(e,t,n){for(var i="px "+e.font.split("px")[1],a=1,r=0;r<50;r++)if(a=Math.pow(2,r),e.font=a+i,e.measureText(t).width>n){a/=2;break}for(var o=a/2;o>.05;o/=2)e.font=a+o+i,e.measureText(t).width<n&&(a+=o);return a}},{key:"drawBorderBox",value:function(e,t,n,i,a,r,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1;e.save(),e.globalAlpha=l,e.strokeStyle=t,e.lineWidth=s,c&&e.setLineDash(c);var u=s/2,h=s/2,d=n+u,p=i+h,m=a-2*u,f=r-2*h;e.strokeRect(d,p,m,f),e.restore()}},{key:"drawLine",value:function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,s=a%2*.5;e.save(),e.beginPath(),e.strokeStyle=t,e.lineWidth=a,r&&e.setLineDash(r),e.globalAlpha=o,e.moveTo(n.x+s,n.y+s),e.lineTo(i.x,i.y),e.stroke(),e.closePath(),e.restore()}},{key:"drawCircle",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;e.save(),e.beginPath(),e.arc(t.x,t.y,n,0,p.b.PI_DOUBLE),null!=i&&(e.fillStyle=i,e.fill()),null!=a&&(e.strokeStyle=a,e.lineWidth=r,e.stroke()),e.restore()}},{key:"drawText",value:function(e,t,n,i,a,r){e.save(),e.font=a,e.fillStyle=r,e.textBaseline="top",e.textAlign="center",e.fillText(t,n.x,n.y-i/2),e.restore()}},{key:"drawRotatedImage",value:function(e,t,n,i,a){var r=p.b.getRadianByDegree(a),o=n.getCenterPos(),s=p.b.getRotatedVectorByPoint(o,new p.c(n.left,n.top),r),c=p.b.getRotatedVectorByPoint(o,new p.c(n.right,n.top),r),l=p.b.getRotatedVectorByPoint(o,new p.c(n.right,n.bottom),r),u=p.b.getRotatedVectorByPoint(o,new p.c(n.left,n.bottom),r);e.save(),e.beginPath(),e.moveTo(s.x,s.y),e.lineTo(c.x,c.y),e.lineTo(l.x,l.y),e.lineTo(u.x,u.y),e.lineTo(s.x,s.y),e.closePath(),e.clip(),e.drawImage(t,i.left,i.top,i.getWidth(),i.getHeight()),e.restore()}},{key:"drawImage",value:function(e,t,n,i){var a=n.getCenterPos(),r=p.b.getRadianByDegree(i),o=n.getWidth(),s=n.getHeight();e.save(),e.translate(a.x,a.y),e.rotate(r),e.drawImage(t,o/-2,s/-2,o,s),e.rotate(-r),e.translate(-a.x,-a.y),e.restore()}},{key:"drawSVG",value:(n=o()(a.a.mark(function e(t,n,i,r,o,s,c,l,u,h){var d;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.svgStringToImage(n);case 2:d=e.sent,o||s?c||l||u||h?t.drawImage(d,i,r,o,s,c,l,u,h):t.drawImage(d,i,r,o,s):t.drawImage(d,i,r);case 4:case"end":return e.stop()}},e,this)})),function(e,t,i,a,r,o,s,c,l,u){return n.apply(this,arguments)})},{key:"svgStringToImage",value:(t=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){var i;if(f.a.getEnv().browser.getType()!==m.BrowserType.EDGE){var a=$.parseHTML(t)[0],r=(new XMLSerializer).serializeToString(a);i="data:image/svg+xml;base64,"+m.StringUtil.b64EncodeUnicode(r)}else i="data:image/svg+xml;base64,"+m.StringUtil.b64EncodeUnicode(t);var o=new Image;o.onload=function(){e(o)},o.onerror=function(e){n(e)},o.src=i}));case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}}]),e}();d()(g,"MAX_CANVAS_SIZE",1e4),d()(g,"PI_DOUBLE",2*Math.PI),d()(g,"PI_HALF",Math.PI/2)},,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=n(41),u=n(56),h=n(12),d=n(138),p=function(){function e(){a()(this,e)}return o()(e,[{key:"makeElement",value:function(){var t=this,n=this.element=document.createElement("div");n.id=e.ID,n.addEventListener("click",function(e){e.stopPropagation(),d.a.showLeftMenu(),u.a.selectBackgroundItem(!1),t.hide()});var i=document.createElement("div");i.className="label",i.innerText="배경 편집",n.appendChild(i),Object(h.setToolsIcon)(n,h.ToolsIcon.PENCIL)}},{key:"hide",value:function(){this.element&&this.element.classList.remove(l.a.ACTIVE)}},{key:"show",value:function(){this.element||this.makeElement(),this.element.classList.add(l.a.ACTIVE)}}],[{key:"getElement",value:function(){var t=e.instance;return t.element||t.makeElement(),t.element}}]),e}();c()(p,"instance",new p),c()(p,"ID","showBackgroundTools")},function(e,t,n){"use strict";var i,a;n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a}),function(e){e.ACTIVE="ACTIVE",e.INACTIVE="INACTIVE",e.PERMANENTLY_INACTIVE="PERMANENTLY_INACTIVE"}(i||(i={})),function(e){e.TEMP="TEMP",e.BOARD="BOARD",e.TEMPLATE_STYLE_RESOURCE="TEMPLATE_STYLE_RESOURCE",e.COMMON_FILE_THUMB="COMMON_FILE_THUMB",e.USER_IMAGE="USER_IMAGE",e.USER_SVG="USER_SVG",e.SVG="SVG",e.DESIGN_SHEET="DESIGN_SHEET",e.DESIGN_THUMB="DESIGN_THUMB",e.TEMPLATE_DESIGN_SHEET="TEMPLATE_DESIGN_SHEET",e.TEMPLATE_DESIGN_THUMB="TEMPLATE_DESIGN_THUMB",e.IMP_DESIGN_SHEET="IMP_DESIGN_SHEET",e.IMP_DESIGN_RESULT="IMP_DESIGN_RESULT",e.RESERVED_KEY="RESERVED_KEY"}(a||(a={}))},,,function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),(i||(i={})).parseOldIntegerLTRBSvgItem=function(e){if(Number.isInteger(e.props.getLeft())&&Number.isInteger(e.props.getTop())&&Number.isInteger(e.props.getRight())&&Number.isInteger(e.props.getBottom())){var t=e.getSvgString(1),n=document.createElement("div");n.innerHTML=t,document.body.appendChild(n);try{var i=n.getElementsByTagName("svg");if(i.length>1){for(var a=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,c=1;c<i.length;c++){var l=i[c].getBoundingClientRect();a=Math.min(a,l.left),r=Math.min(r,l.top),o=Math.max(o,l.right),s=Math.max(s,l.bottom)}var u=o-a,h=s-r;0!==u&&Math.abs(u-e.getWidth())<=2&&e.props.setRight(e.props.getLeft()+u),0!==h&&Math.abs(h-e.getHeight())<=2&&e.props.setBottom(e.props.getTop()+h)}}catch(e){}finally{document.body.removeChild(n)}}}},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=function(){function e(t,n){c()(this,e),d()(this,"execCallBack",!0),this.ms=t,this.callBack=n,this.setTimeout()}return u()(e,[{key:"setTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this;this.timeoutId=setTimeout(o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.execCallBack){t.next=3;break}return t.next=3,e.callBack(e);case 3:case"end":return t.stop()}},t)})),this.ms)})},{key:"setExecCallBack",value:function(e){this.execCallBack=e}},{key:"getExecCallBack",value:function(){return this.execCallBack}},{key:"resetExecCallBack",value:function(){clearTimeout(this.timeoutId),this.setTimeout()}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i,a=n(39),r=n.n(a),o=n(38),s=n.n(o),c=n(40),l=n.n(c),u=n(35),h=n.n(u),d=n(36),p=n.n(d),m=n(3),f=n(43),g=n(52),v=n(97),E=n(78),T=n(107),I=n(172),_=n(48),y=function(){function e(t){h()(this,e),this.repositoryType=t}return p()(e,[{key:"getDropEventKey",value:function(e){return this.getKey(e)}}],[{key:"getSSL",value:function(e){return e.replace(/^http:\/\//i,"https://")}}]),e}();!function(e){e.createInstance=function(e,r){switch(e){case _.a.MOCKUP:case _.a.TEXT:case _.a.GRID:return new t(r);case _.a.PHOTO:return new u(r);case _.a.BITMAP:case _.a.IMAGE:case _.a.BACKGROUND_IMAGE:return new n(r);case _.a.TEMPLATE:return new i(r);case _.a.DESIGN:return new a;case _.a.SVG:case _.a.GRAPHIC:case _.a.LINE:case _.a.FIGURE:case _.a.ILLUST:case _.a.BACKGROUND_PATTERN:return new o(r);case _.a.TEMPLATE_STYLE:return new d(r);case _.a.FRAME:return new c(r);case _.a.PIXABAY:return new L(r);default:throw Error("존재하지 않는 리소스 타입")}};var t=function(e){function t(e){return h()(this,t),r()(this,s()(t).call(this,e))}return l()(t,e),p()(t,[{key:"getThumb",value:function(e){return v.a.makeThumbUrl(e.thumbKey)}},{key:"getKey",value:function(e){return e.idx}}]),t}(y),n=function(e){function t(e){return h()(this,t),r()(this,s()(t).call(this,e))}return l()(t,e),p()(t,[{key:"getThumb",value:function(e){return T.b.getThumbnail(this.getKey(e))}},{key:"getKey",value:function(e){return e.id}}]),t}(y),i=function(e){function t(e){return h()(this,t),r()(this,s()(t).call(this,e))}return l()(t,e),p()(t,[{key:"getThumb",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;switch(this.repositoryType){case g.a.BIZHOWS:return y.getSSL(e.imgURL0);case g.a.UNICORN:return m.ArrayUtil.isEmpty(e.pageList)?null:E.a.makeThumbUrl(e.pageList[0].thumbKey,t);default:throw Error("잘못된 repositoryType : ".concat(this.repositoryType))}}},{key:"getKey",value:function(e){switch(this.repositoryType){case g.a.BIZHOWS:return e.designIdx;case g.a.UNICORN:return e.idx;default:throw Error("잘못된 repositoryType : ".concat(this.repositoryType))}}},{key:"getDropEventKey",value:function(e){switch(this.repositoryType){case g.a.BIZHOWS:return e.cmdtIdx>0?e.cmdtIdx:e.pkName;case g.a.UNICORN:return e.idx;default:throw Error("잘못된 repositoryType : ".concat(this.repositoryType))}}}]),t}(y);e.TemplateResourceData=i;var a=function(e){function t(){return h()(this,t),r()(this,s()(t).call(this,g.a.UNICORN))}return l()(t,e),p()(t,[{key:"getThumb",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return m.ArrayUtil.isEmpty(e.thumbKeyList)?null:E.a.makeThumbUrl(e.thumbKeyList[0],t)}},{key:"getKey",value:function(e){return e.idx}}]),t}(y);e.UserDesignResourceData=a;var o=function(e){function t(e){return h()(this,t),r()(this,s()(t).call(this,e))}return l()(t,e),p()(t,[{key:"getThumb",value:function(e){return e.thumb}},{key:"getKey",value:function(e){return e.key}}]),t}(y),c=function(e){function t(e){return h()(this,t),r()(this,s()(t).call(this,e))}return l()(t,e),p()(t,[{key:"getThumb",value:function(e){return e.thumb}},{key:"getKey",value:function(e){return e.key}}]),t}(y),u=function(e){function t(e){return h()(this,t),r()(this,s()(t).call(this,e))}return l()(t,e),p()(t,[{key:"getThumb",value:function(e){return m.CRM.get(f.a.LOAD_PHOTO_HOST)+e.thumb}},{key:"getKey",value:function(e){return e.idx}}]),t}(y),d=function(e){function t(e){return h()(this,t),r()(this,s()(t).call(this,e))}return l()(t,e),p()(t,[{key:"getThumb",value:function(e){return e.thumb}},{key:"getKey",value:function(e){return e.idx}}]),t}(y),L=function(e){function t(e){return h()(this,t),r()(this,s()(t).call(this,e))}return l()(t,e),p()(t,[{key:"getThumb",value:function(e){return e.previewURL}},{key:"getKey",value:function(e){return I.a.getPixabayKeyWithId(e.id)}}]),t}(y)}(i||(i={}))},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(90),c=n(12),l=function(){function e(){a()(this,e)}return o()(e,[{key:"initialize",value:function(){this.makeElement()}},{key:"makeElement",value:function(){var e=this.makeCloseButtonElement(),t=this.makePopupElement();t.appendChild(e),t.appendChild(this.makeContentWrapperElement()),t.classList.add(s.a.SCREEN_OUT);var n=this.makeWrapperElement();return n.appendChild(t),n}},{key:"makeWrapperElement",value:function(){var e=this.wrap=document.createElement("div");return e.className=s.a.WRAP,e}},{key:"makePopupElement",value:function(){var e=this.popup=document.createElement("div");return e.className=s.a.POPUP,e}},{key:"makeContentWrapperElement",value:function(){var e=document.createElement("div");return e.className=s.a.CONTENT_WRAP,e.appendChild(this.makeContentElement()),e}},{key:"makeContentElement",value:function(){var e=this.content=document.createElement("div");return e.className=s.a.CONTENT,e}},{key:"makeCloseButtonElement",value:function(){var e=this,t=this.closeButton=document.createElement("div");return t.className=s.a.POPUP_CLOSE_BTN,Object(c.setToolsIcon)(t,c.ToolsIcon.CLOSE),t.addEventListener("click",function(){e.closeByButton(),e.close()}),t}},{key:"open",value:function(){var e=this;this.updateUI(),document.body.appendChild(this.wrap),window.setTimeout(function(){return e.popup.classList.remove(s.a.SCREEN_OUT)},1)}},{key:"close",value:function(){this.wrap.parentElement&&(this.popup.classList.add(s.a.SCREEN_OUT),this.wrap.parentElement.removeChild(this.wrap))}},{key:"closeByButton",value:function(){}},{key:"isOpened",value:function(){return Boolean(this.wrap.parentElement)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=n(90),u=n(204),h=function(){function e(){a()(this,e)}return o()(e,null,[{key:"clickElement",value:function(e){e&&(e.classList.add(l.a.EASTER_EGG),e.classList.contains(l.a.RUNNING_PROGRESS_BAR_BACKGROUND)?this.removeEasterEggAfterTimeDelay(e):e.classList.contains(l.a.RUNNING_PROGRESS_BAR_CHARACTER)?this.removeEasterEggAfterTimeDelay(e):e.classList.contains(l.a.SUCCESS_CHARACTER_LEFT_HAND)||e.classList.contains(l.a.SUCCESS_CHARACTER_RIGHT_HAND)||e.classList.contains(l.a.SUCCESS_CHARACTER_CLAP_EFFECT)?this.removeEasterEggAfterTimeDelay(e):e.classList.contains(l.a.FAILURE_CHARACTER_CRYING)?this.removeEasterEggAfterTimeDelay(e):e.classList.contains(l.a.EMAIL_RECEIVE_SUCCESS_CHARACTER)?this.removeEasterEggAfterTimeDelay(e):e.classList.contains(l.a.EMAIL_RECEIVE_FAILURE_CHARACTER)&&this.removeEasterEggAfterTimeDelay(e))}},{key:"removeEasterEggAfterTimeDelay",value:function(e){return new u.a(this.TIME_OUT_END_DELAY,function(){return e.classList.remove(l.a.EASTER_EGG)})}}]),e}();c()(h,"TIME_OUT_END_DELAY",1e3)},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=function(){function e(){a()(this,e)}return o()(e,null,[{key:"openByNewTab",value:function(e){window.open(e,"_blank")}}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return N});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(46),g=n.n(f),v=n(40),E=n.n(v),T=n(83),I=n(183),_=n(12),y=n(42),L=n(45),O=n(56),S=n(113),P=n(60),k=n(133),A=n(48),R=n(52),C=n(76),b=n(94),w=n(258),x=n(166),N=function(e){function t(e,n){var i;return c()(this,t),(i=d()(this,m()(t).call(this,new T.b(e.resourceData,n,R.a.UNICORN)))).param=e,i.useFavorite=!e.recommend,i}return E()(t,e),u()(t,[{key:"getThumbUrlList",value:function(){return[this.listItemData.resourceData.thumb]}},{key:"makeElement",value:function(){var e=g()(m()(t.prototype),"makeElement",this).call(this);return e.setAttribute("data-ratio",String(this.listItemData.resourceData.width/this.listItemData.resourceData.height)),e}},{key:"makeHoverLayer",value:function(){var e=this,n=g()(m()(t.prototype),"makeHoverLayer",this).call(this),i=Object(_.setToolsIcon)(n,_.ToolsIcon.SETTINGS,!0);if(i.addEventListener("click",function(){var t=o()(a.a.mark(function t(n){var i,r,o;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),i=e.listItemData.myCollectionPk,t.next=4,P.c.getSvgDataByKey(i.referenceKey,y.a.instance.env.adminMode);case 4:r=t.sent,o=w.a.isPrivateSvgItem(r)?new x.a("",r,0,0,0,0):new k.a("",r,0,0,0,0),y.a.dispatch(new L.c(function(e,t,n){O.a.unselectAllItems(),n.renderHandler(e,t),n.renderItemToolsByItem([o],t,{type:S.b.ADMIN})}));case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),n.appendChild(i),!this.param.recommend){var r=new I.a({itemType:I.b.SVG,itemReferenceKey:this.listItemData.myCollectionPk.referenceKey,search:function(t){return e.param.setKeyword(t)}}),s=b.a.makeDddotBtn(o()(a.a.mark(function t(){var n;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:C.a.sendDetailClick(e.listItemData.myCollectionPk),n={useFavorite:e.useFavorite,myCollectionPk:e.listItemData.myCollectionPk},r.openItemInfo(n,$(s).offset());case 3:case"end":return t.stop()}},t)})));n.appendChild(s)}return n}},{key:"getEECItemData",value:function(e,t,n){var i=this.listItemData.myCollectionPk,a=this.listItemData.resourceData.idx,r=Object(A.c)(i.resourceType),o="".concat(r,":").concat(a);return{name:o,id:o,price:0,brand:"요소",category:e,variant:r,list:t,position:n}}}]),t}(T.a)},,,,,,,function(e,t,n){"use strict";var i,a,r;n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return r}),function(e){e.EASY_FLOATING="easy_floating",e.EASY_FIXED_LB="easy_fixed_lb",e.HARD_FIXED="hard_fixed"}(i||(i={})),function(e){e.DEFAULT_MODE="default_mode",e.CROP_MODE="crop_mode",e.SPOID_MODE="spoid_mode"}(a||(a={})),function(e){e.SCROLL="scroll",e.CHANGE="change"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"c",function(){return S}),n.d(t,"d",function(){return P}),n.d(t,"f",function(){return k}),n.d(t,"e",function(){return A}),n.d(t,"b",function(){return R}),n.d(t,"a",function(){return C});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(36),c=n.n(s),l=n(39),u=n.n(l),h=n(38),d=n.n(h),p=n(44),m=n.n(p),f=n(40),g=n.n(f),v=n(35),E=n.n(v),T=n(37),I=n.n(T),_=n(45),y=n(123),L=n(42),O=n(58),S=function e(t){var n=this;E()(this,e),I()(this,"actionType",_.a.GUIDELINE_ADD),I()(this,"changeDesign",function(){return!1}),I()(this,"concat",function(){return!1}),I()(this,"isActionGroupEquals",function(){return!1}),I()(this,"doSaveQueue",!0),I()(this,"isLastSavedAction",!1),I()(this,"commit",function(e,t){var i=e.pages[t.renderPageIdx];t.pageController.getPageRenderer(i).guidelineRenderer.appendGuidelineAuto(n.guidelineType)||alert("".concat(n.guidelineType===y.c.HOR?"가로":"세로"," 가이드선을 더이상 추가할 수 없습니다."))}),I()(this,"rollback",function(e,t){var i=e.pages[t.renderPageIdx];t.pageController.getPageRenderer(i).guidelineRenderer.removeLastGuidelineAuto(n.guidelineType)}),I()(this,"recycle",function(){}),this.guidelineType=t},P=function e(){var t=this;E()(this,e),I()(this,"actionType",_.a.GUIDELINE_ALL_DEL),I()(this,"changeDesign",function(){return!1}),I()(this,"concat",function(){return!1}),I()(this,"isActionGroupEquals",function(){return!1}),I()(this,"doSaveQueue",!0),I()(this,"isLastSavedAction",!1),I()(this,"commit",function(e,n){t.page||(t.page=e.pages[n.renderPageIdx],t.oldGuidelineInfos=t.page.guidelineManager.getGuidelineFactoryInfos()),n.pageController.getPageRenderer(t.page).guidelineRenderer.clear()}),I()(this,"rollback",function(e,n){n.pageController.getPageRenderer(t.page).guidelineRenderer.registGuidelineInfos(t.oldGuidelineInfos)}),I()(this,"recycle",function(){})},k=function e(t,n,i){var a=this;E()(this,e),I()(this,"actionType",_.a.GUIDELINE_MOVE),I()(this,"changeDesign",function(){return!1}),I()(this,"concat",function(){return!1}),I()(this,"isActionGroupEquals",function(){return!1}),I()(this,"doSaveQueue",!0),I()(this,"isLastSavedAction",!1),I()(this,"commit",function(e,t,n){a.guideline.setLastPosition(a.newPosition),a.factory.setNowPosition(a.guideline.initPosition),a.guidelineRenderer.render(),n.renderAppHeader(e,t)}),I()(this,"rollback",function(e,t,n){a.guideline.setLastPosition(a.lastPosition),a.factory.setNowPosition(a.lastNowPosition),a.guidelineRenderer.render(),n.renderAppHeader(e,t)}),I()(this,"recycle",function(){}),this.factory=t,this.guideline=n,this.newPosition=i,this.guidelineRenderer=L.a.instance.pageController.getGuidelineRenderer(n),this.lastPosition=n.lastPosition,this.lastNowPosition=t.getNowPosition()},A=function e(t,n){var i=this;E()(this,e),I()(this,"actionType",_.a.GUIDELINE_DEL),I()(this,"changeDesign",function(){return!1}),I()(this,"concat",function(){return!1}),I()(this,"isActionGroupEquals",function(){return!1}),I()(this,"doSaveQueue",!0),I()(this,"isLastSavedAction",!1),I()(this,"commit",function(e,t){i.guidelineFactory.removeGuideline(i.guideline);var n=i.guidelineRenderer.elem;n.parentElement.removeChild(n)}),I()(this,"rollback",function(e,t){i.guidelineFactory.registGuideline(i.guideline,i.lastIdx),i.guidelineRenderer.render(),i.parentElem.appendChild(i.guidelineRenderer.elem)}),I()(this,"recycle",function(){}),this.guideline=t,this.guidelineFactory=n,this.guidelineRenderer=L.a.instance.pageController.getGuidelineRenderer(t),this.lastIdx=this.guidelineFactory.getGuidelines().indexOf(this.guideline),this.parentElem=this.guidelineRenderer.elem.parentElement},R=function(e){function t(){var e,n;E()(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(r))),I()(m()(n),"actionType",_.a.ONE_TIME),I()(m()(n),"doSaveQueue",!1),I()(m()(n),"renderAuto",!1),I()(m()(n),"changeDesign",function(){return!1}),I()(m()(n),"commitAction",function(){var e=o()(a.a.mark(function e(t,i,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.showGuideline=!i.showGuideline,i.showGuideline?n.enableGuideLine(t,i):n.disableGuideLine(t,i),e.next=4,r.renderAppHeader(t,i);case 4:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(m()(n),"rollbackAction",function(){}),I()(m()(n),"recycle",function(){}),n}return g()(t,e),c()(t,[{key:"enableGuideLine",value:function(e,t){e.pages.forEach(function(e){return t.pageController.getPageRenderer(e).guidelineRenderer.show()}),O.a.sendEvent("가이드선","가이드선 사용","가이드선 보기 on",!0)}},{key:"disableGuideLine",value:function(e,t){e.pages.forEach(function(e){return t.pageController.getPageRenderer(e).guidelineRenderer.hide()}),O.a.sendEvent("가이드선","가이드선 사용 안함","가이드선 보기 off",!0)}}]),t}(_.b),C=function(e){function t(){var e,n;E()(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=u()(this,(e=d()(t)).call.apply(e,[this].concat(r))),I()(m()(n),"actionType",_.a.ONE_TIME),I()(m()(n),"doSaveQueue",!1),I()(m()(n),"renderAuto",!1),I()(m()(n),"changeDesign",function(){return!1}),I()(m()(n),"commitAction",function(){var e=o()(a.a.mark(function e(t,i,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.lockGuideline=!i.lockGuideline,i.lockGuideline?n.lockGuideLine(t,i):n.unlockGuideLine(t,i),e.next=4,r.renderAppHeader(t,i);case 4:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(m()(n),"rollbackAction",function(){}),I()(m()(n),"recycle",function(){}),n}return g()(t,e),c()(t,[{key:"lockGuideLine",value:function(e,t){e.pages.forEach(function(e){return t.pageController.getPageRenderer(e).guidelineRenderer.lock()})}},{key:"unlockGuideLine",value:function(e,t){e.pages.forEach(function(e){return t.pageController.getPageRenderer(e).guidelineRenderer.unlock()})}}]),t}(_.b)},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return v}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return T});var i,a=n(36),r=n.n(a),o=n(35),s=n.n(o),c=n(37),l=n.n(c),u=n(49),h=n(187),d=n(64),p=255,m=Math.round(p/2),f=function e(){s()(this,e),l()(this,"r",0),l()(this,"g",0),l()(this,"b",0)},g=function e(){s()(this,e),l()(this,"h",0),l()(this,"s",0),l()(this,"l",0)};!function(e){e[e.HUE=0]="HUE",e[e.SATURATION=1]="SATURATION",e[e.LIGHTNESS=2]="LIGHTNESS"}(i||(i={}));var v=function(){function e(){s()(this,e)}return r()(e,null,[{key:"rgb2hsl",value:function(e,t,n){var i=e/255,a=t/255,r=n/255,o=Math.min(i,a,r),s=Math.max(i,a,r),c=0,l=0,u=(o+s)/2,h=new g;if(s===o)h.l=u;else{var d=s-o;switch(l=u<.5?d/(s+o):d/(2-d),s){case i:c=(a-r)/d;break;case a:c=2+(r-i)/d;break;case r:c=4+(i-a)/d}h.h=Math.round(60*c),h.s=l,h.l=u}return h}},{key:"hue2rgb",value:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?e+6*(t-e)*n:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}},{key:"hsl2rgb",value:function(e,t,n){var i=new f;if(0===t)i.r=255*n,i.g=255*n,i.b=255*n;else{var a=n<.5?n*(1+t):n+t-n*t,r=2*n-a,o=e/360;i.r=Math.round(255*this.hue2rgb(r,a,o+1/3)),i.g=Math.round(255*this.hue2rgb(r,a,o)),i.b=Math.round(255*this.hue2rgb(r,a,o-1/3))}return i}},{key:"hex2rgb",value:function(e){if(!e||e.length<7)return null;var t=e.substring(0,7),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}}]),e}(),E=function(){function e(){s()(this,e)}return r()(e,null,[{key:"getBitmapMask",value:function(t,n,i){e.IN_MEM_CANVAS.width=n,e.IN_MEM_CANVAS.height=i;var a=e.IN_MEM_CANVAS.getContext("2d");a.save(),a.drawImage(t,0,0,n,i),a.restore();for(var r=a.getImageData(0,0,n,i),o=r.data,s=0;s<o.length;s+=4){var c=s,l=s+1,u=s+2,h=s+3,d=o[u];o[c]=0,o[l]=0,o[u]=0,o[h]=d}return r}},{key:"adjustImageBrightness",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=300,i=t/n*p,a=.5*Math.abs(t),r=259*(a+p)/(p*(259-a)),o=e.data,s=0;s<o.length;s+=4){var c=s,l=s+1,u=s+2,h=Math.trunc(r*(o[c]-m)+m)+i,d=Math.trunc(r*(o[l]-m)+m)+i,f=Math.trunc(r*(o[u]-m)+m)+i;o[c]=Math.max(0,Math.min(h,p)),o[l]=Math.max(0,Math.min(d,p)),o[u]=Math.max(0,Math.min(f,p))}return e}},{key:"adjustContrast",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.data,i=259*(t+p)/(p*(259-t)),a=0;a<n.length;a+=4){var r=a,o=a+1,s=a+2,c=Math.trunc(i*(n[r]-m)+m),l=Math.trunc(i*(n[o]-m)+m),u=Math.trunc(i*(n[s]-m)+m);n[r]=Math.max(0,Math.min(c,p)),n[o]=Math.max(0,Math.min(l,p)),n[s]=Math.max(0,Math.min(u,p))}return e}},{key:"adjustHue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.width,i=e.height,a=d.a.createCanvas().getContext("2d");a.canvas.width=n,a.canvas.height=i,a.globalCompositeOperation="source-atop",a.putImageData(e,0,0);var r=v.hsl2rgb(t,1,.5);return a.fillStyle="rgba(".concat(r.r,",").concat(r.g,",").concat(r.b,",",.05,")"),a.fillRect(0,0,n,i),a.getImageData(0,0,n,i)}},{key:"adjustSaturation",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t/100,i=e.data,a=0;a<i.length;a+=4){var r=a,o=a+1,s=a+2,c=i[r],l=i[o],u=i[s],h=.2989*c+.587*l+.114*u;i[r]=-h*n+c*(1+n),i[o]=-h*n+l*(1+n),i[s]=-h*n+u*(1+n),i[r]=Math.max(0,Math.min(i[r],p)),i[o]=Math.max(0,Math.min(i[o],p)),i[s]=Math.max(0,Math.min(i[s],p))}return e}},{key:"adjustTemperature",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=.255*t,i=e.data,a=0;a<i.length;a+=4)i[a]+=n,i[a+1]+=n>0?n:-n,i[a+2]-=n;return e}},{key:"getRadialGradientMask",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.IN_MEM_CANVAS.width=t,e.IN_MEM_CANVAS.height=n;for(var a=e.IN_MEM_CANVAS.getContext("2d"),r=a.getImageData(0,0,t,n),o=r.data,s=new u.c(.5*t,.5*n),c=i/4,l=.5*Math.min(t,n)*(100-c)/100,h=s.getDistance(new u.c(0,0)),d=180,p=(h-l)/d,m=0;m<n;m++)for(var f=0;f<t;f++){var g=new u.c(f,m),v=g.getDistance(s);if(v>l){var E=4*(m*t+f);o[E+3]=Math.floor((v-l)/p)}}return r}},{key:"adjustLightness",value:function(e,t){var n=e.width,i=e.height,a=d.a.createCanvas().getContext("2d");a.canvas.width=n,a.canvas.height=i,a.globalCompositeOperation="source-atop",a.putImageData(e,0,0);var r=t/100;return t>0?a.fillStyle="rgba(255,255,255,".concat(r,")"):t<0&&(a.fillStyle="rgba(0,0,0,".concat(Math.abs(r),")")),a.fillRect(0,0,n,i),a.getImageData(0,0,n,i)}},{key:"adjustHSLValue",value:function(e,t,n){for(var i=e.data,a=0;a<i.length;a+=4){var r=a,o=a+1,s=a+2,c=i[r],l=i[o],u=i[s],h=n/100*3.14159265,d=Math.sin(h),m=Math.cos(h),f=(2*m+1)/3,g=(-Math.sqrt(3)*d-m+1)/3,v=(Math.sqrt(3)*d-m+1)/3;i[r]=c*f+l*g+u*v,i[o]=c*v+l*f+u*g,i[s]=c*g+l*v+u*f,i[r]=Math.max(0,Math.min(i[r],p)),i[o]=Math.max(0,Math.min(i[o],p)),i[s]=Math.max(0,Math.min(i[s],p))}return e}},{key:"adjustColorToneValue",value:function(t,n,i){for(var a=t.data,r=0;r<a.length;r+=4){var o=r,s=r+1,c=r+2,l=e.HSVtoRGB((i+100)/200,1,1);a[o]=(a[o]+.1*l.r)/1.1,a[s]=(a[s]+.1*l.g)/1.1,a[c]=(a[c]+.1*l.b)/1.1,a[o]=Math.max(0,Math.min(a[o],p)),a[s]=Math.max(0,Math.min(a[s],p)),a[c]=Math.max(0,Math.min(a[c],p))}return t}},{key:"HSVtoRGB",value:function(e,t,n){var i,a,r,o,s,c,l,u;switch(c=n*(1-t),l=n*(1-(s=6*e-(o=Math.floor(6*e)))*t),u=n*(1-(1-s)*t),o%6){case 0:i=n,a=u,r=c;break;case 1:i=l,a=n,r=c;break;case 2:i=c,a=n,r=u;break;case 3:i=c,a=l,r=n;break;case 4:i=u,a=c,r=n;break;case 5:i=n,a=c,r=l}return{r:Math.round(255*i),g:Math.round(255*a),b:Math.round(255*r)}}},{key:"getLinearGradientMask",value:function(e,t,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=e.data,c=e.width,l=e.height,u=i||c,d=a||l;if(t/=100,n===h.a.R)for(var p=0,m=Math.floor(u*t-r),f=Math.floor(u*t),g=p;g<m;g++)for(var v=Math.floor((g+r-p)/(f-p)*255),E=0;E<l;E++){var T=4*(E*c+g);s[T+3]=Math.floor(s[T+3]*v/255)}else if(n===h.a.L)for(var I=Math.max(u-r-Math.floor(u*t),0),_=c,y=u-Math.floor(u*t),L=u,O=_;O>I;O--)for(var S=Math.floor((O+r-L)/(y-L)*255),P=0;P<l;P++){var k=4*(P*c+O);s[k+3]=Math.floor(s[k+3]*S/255)}else if(n===h.a.B)for(var A=0,R=Math.floor(d*t-o),C=Math.floor(d*t),b=A;b<R;b++)for(var w=Math.floor((b+o-A)/(C-A)*255),x=0;x<c;x++){var N=4*(b*c+x);s[N+3]=Math.floor(s[N+3]*w/255)}else if(n===h.a.T)for(var D=Math.max(d-o-Math.floor(d*t),0),M=l,B=d-Math.floor(d*t),U=d,G=M;G>D;G--)for(var F=Math.floor((G+o-U)/(B-U)*255),H=0;H<c;H++){var V=4*(G*c+H);s[V+3]=Math.floor(s[V+3]*F/255)}return e}},{key:"adjustSharpen",value:function(e,t){for(var n=d.a.createCanvas().getContext("2d"),i=e.width,a=e.height,r=n.createImageData(i,a),o=r.data,s=e.data,c=0;c<s.length;c+=4){var l=Math.floor(c/4/i),u=c/4-l*i,h=0!==u?-4:0,p=0!==l?-4:0,m=u!==i-1?4:0,f=l!==a-1?4:0,g=c,v=c+1,E=c+2,T=c+3,I=5*s[g],_=5*s[v],y=5*s[E],L=5*s[T];I+=-1*s[g+p*i],I+=-1*s[g+h],I+=-1*s[g+m],I+=-1*s[g+f*i],_+=-1*s[v+p*i],_+=-1*s[v+h],_+=-1*s[v+m],_+=-1*s[v+f*i],y+=-1*s[E+p*i],y+=-1*s[E+h],y+=-1*s[E+m],y+=-1*s[E+f*i],L+=-1*s[T+p*i],L+=-1*s[T+h],L+=-1*s[T+m],L+=-1*s[T+f*i],o[g]=s[g]*(1-t)+I*t,o[v]=s[v]*(1-t)+_*t,o[E]=s[E]*(1-t)+y*t,o[T]=s[T]*(1-t)+L*t}return r}},{key:"random",value:function(e,t,n,i){var a=12.9898*(e+i)+78.233*(t+i)+151.7182*(n+i),r=43758.5453*Math.sin(a)+i;return r-Math.floor(r)}},{key:"adjustBlur",value:function(e,t,n,i){var a=d.a.createCanvas().getContext("2d"),r=e.width,o=e.height,s=a.createImageData(r,o),c=s.data;return function(e,t,n,i,a){var r=function(e,t){var n=Math.sqrt(12*e*e/t+1),i=Math.floor(n);i%2==0&&i--;for(var a=i+2,r=(12*e*e-t*i*i-4*t*i-3*t)/(-4*i-4),o=Math.round(r),s=[],c=0;c<t;c++)s.push(c<o?i:a);return s}(a,3);I(e,t,n,i,(r[0]-1)/2),I(t,e,n,i,(r[1]-1)/2),I(e,t,n,i,(r[2]-1)/2)}(e.data,c,r,o,t*(n+i)/3400),s}},{key:"adjustVignette",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.width,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.height,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=e.data,s=0,c=0,l=0;l<o.length;l+=4){var u=l,h=l+1,d=l+2,m=(s+a)/n-.5,f=(c+r)/i-.5,g=Math.sqrt(Math.pow(m,2)+Math.pow(f,2)),v=.5,E=t/100,T=.8,I=.799*v,_=g*(E+v),y=Math.max(0,Math.min(1,(_-T)/(I-T))),L=Math.pow(y,2)*(3-2*y);o[u]*=L,o[h]*=L,o[d]*=L,o[u]=Math.max(0,Math.min(o[u],p)),o[h]=Math.max(0,Math.min(o[h],p)),o[d]=Math.max(0,Math.min(o[d],p)),++s>=e.width&&(s=0,c++)}return e}}]),e}();function T(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),a=new Uint8Array(i),r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return new Blob([i],{type:n})}function I(e,t,n,i,a){for(var r=0;r<e.length;r++)t[r]=e[r];!function(e,t,n,i,a){for(var r=1/(a+a+1),o=0;o<i;o++){for(var s=o*n,c=s,l=s+a,u=e[4*s+3],h=u/p,d=u,m=e[4*s+0]*h,f=e[4*s+1]*h,g=e[4*s+2]*h,v=e[4*(s+n-1)+3],E=v/p,T=v,I=e[4*(s+n-1)+0]*E,_=e[4*(s+n-1)+1]*E,y=e[4*(s+n-1)+2]*E,L=(a+1)*d,O=(a+1)*m,S=(a+1)*f,P=(a+1)*g,k=0;k<a;k++){var A=4*(s+k),R=e[A+3],C=R/p;L+=R,O+=e[A+0]*C,S+=e[A+1]*C,P+=e[A+2]*C}for(var b=0;b<=a;b++){var w=4*l,x=e[w+3],N=x/p;L+=x-d,O+=e[w+0]*N-m,S+=e[w+1]*N-f,P+=e[w+2]*N-g,l++;var D=Math.round(L*r),M=r/D*p;t[4*s+3]=D,t[4*s+0]=Math.round(O*M),t[4*s+1]=Math.round(S*M),t[4*s+2]=Math.round(P*M),s++}for(var B=a+1;B<n-a;B++){var U=e[4*l+3],G=e[4*c+3];L+=U-G,O+=(e[4*l+0]*U-e[4*c+0]*G)/p,S+=(e[4*l+1]*U-e[4*c+1]*G)/p,P+=(e[4*l+2]*U-e[4*c+2]*G)/p,l++,c++;var F=Math.round(L*r),H=r/F*p;t[4*s+3]=F,t[4*s+0]=Math.round(O*H),t[4*s+1]=Math.round(S*H),t[4*s+2]=Math.round(P*H),s++}for(var V=n-a;V<n;V++){var W=e[4*c+3],K=W/p;L+=T-W,O+=I-e[4*c+0]*K,S+=_-e[4*c+1]*K,P+=y-e[4*c+2]*K,c++;var Y=Math.round(L*r),z=r/Y*p;t[4*s+3]=Y,t[4*s+0]=Math.round(O*z),t[4*s+1]=Math.round(S*z),t[4*s+2]=Math.round(P*z),s++}}}(t,e,n,i,a),function(e,t,n,i,a){for(var r=1/(a+a+1),o=0;o<n;o++){for(var s=o,c=s,l=s+a*n,u=e[4*s+3],h=u/p,d=u,m=e[4*s+0]*h,f=e[4*s+1]*h,g=e[4*s+2]*h,v=e[4*(s+n*(i-1))+3],E=v/p,T=v,I=e[4*(s+n*(i-1))+0]*E,_=e[4*(s+n*(i-1))+1]*E,y=e[4*(s+n*(i-1))+2]*E,L=(a+1)*d,O=(a+1)*m,S=(a+1)*f,P=(a+1)*g,k=0;k<a;k++){var A=4*(s+k*n),R=e[A+3],C=R/p;L+=R,O+=e[A+0]*C,S+=e[A+1]*C,P+=e[A+2]*C}for(var b=0;b<=a;b++){var w=e[4*l+3],x=w/p;L+=w-d,O+=e[4*l+0]*x-m,S+=e[4*l+1]*x-f,P+=e[4*l+2]*x-g;var N=Math.round(L*r),D=r/N*p;t[4*s+3]=N,t[4*s+0]=Math.round(O*D),t[4*s+1]=Math.round(S*D),t[4*s+2]=Math.round(P*D),l+=n,s+=n}for(var M=a+1;M<i-a;M++){var B=e[4*l+3],U=e[4*c+3];L+=B-U,O+=(e[4*l+0]*B-e[4*c+0]*U)/p,S+=(e[4*l+1]*B-e[4*c+1]*U)/p,P+=(e[4*l+2]*B-e[4*c+2]*U)/p;var G=Math.round(L*r),F=r/G*p;t[4*s+3]=G,t[4*s+0]=Math.round(O*F),t[4*s+1]=Math.round(S*F),t[4*s+2]=Math.round(P*F),c+=n,l+=n,s+=n}for(var H=i-a;H<i;H++){var V=e[4*c+3];L+=T-V,O+=I-e[4*c+0]*V/p,S+=_-e[4*c+1]*V/p,P+=y-e[4*c+2]*V/p;var W=Math.round(L*r),K=r/W*p;t[4*s+3]=W,t[4*s+0]=Math.round(O*K),t[4*s+1]=Math.round(S*K),t[4*s+2]=Math.round(P*K),c+=n,s+=n}}}(e,t,n,i,a)}l()(E,"IN_MEM_CANVAS",d.a.createCanvas()),l()(E,"MUL_TABLE",[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259]),l()(E,"SHG_TABLE",[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24])},,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=function(){function e(){a()(this,e)}return o()(e,null,[{key:"build",value:function(t,n){try{var i="";if(t.hasAttributes&&t.hasAttributes()){i={};for(var a=0,r=t.attributes.length;a<r;a++){var o=t.attributes.item(a);i["@"+o.name]=e.parseValue(o.value)}}if(t.hasChildNodes()){for(var s="",c=0,l=t.childNodes.length;c<l;c++){var u=t.childNodes.item(c);switch(u.nodeType){case 4:case 3:u.nodeValue.trim().length>0&&(s+=u.nodeValue);break;case 1:var h=u.nodeName,d=e.build(u,h);i||(i={}),i[h]?(i[h].constructor!==Array&&(i[h]=[i[h]]),i[h].push(d)):i[h]=d}}s&&(i?i.keyValue=e.parseValue(s,"Text"!==n):i=e.parseValue(s,"Text"!==n))}return i}catch(e){throw Error(e)}}},{key:"parseValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():t&&isFinite(e)?e.length<=1?parseFloat(e):"0"===e[0]?"."===e[1]?parseFloat(e):e:parseFloat(e):e}}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return T}),n.d(t,"b",function(){return I});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(39),c=n.n(s),l=n(38),u=n.n(l),h=n(44),d=n.n(h),p=n(40),m=n.n(p),f=n(37),g=n.n(f),v=n(45),E=n(140),T=function(e){function t(e,n,i,r,o,s,l,h){var p;a()(this,t),p=c()(this,u()(t).call(this)),g()(d()(p),"cellsPos",[]),g()(d()(p),"doSaveQueue",!1),g()(d()(p),"changeDesign",function(){return!1}),g()(d()(p),"actionType",v.a.GRID_SELECT_CELL),g()(d()(p),"commitAction",function(e,t,n){if(p.selectedCellsChanged){var i=t.pageController.getItemRenderer(p.gridItem);p.gridItem.isTextEditMode&&i.toggleEditMode(p.offsetX,p.offsetY),p.gridItem.selectCells(p.cellsPos),i.updateContentsAfter(null,t.pageEditScale),p.renderItemTools&&n.renderItemTools(e,t)}else if(p.gridItem.isTextEditMode){var a=p.baseX/p.gridItem.lastRenderEditScale-p.gridItem.props.getLeft(),r=p.baseY/p.gridItem.lastRenderEditScale-p.gridItem.props.getTop(),o=p.offsetX/p.gridItem.lastRenderEditScale-p.gridItem.props.getLeft(),s=p.offsetY/p.gridItem.lastRenderEditScale-p.gridItem.props.getTop();t.pageController.getItemRenderer(p.gridItem).elements.editElement.selectByPoint(a,r,o,s)}n.renderHandler(e,t)}),g()(d()(p),"rollbackAction",function(e,t,n){}),g()(d()(p),"recycle",function(){p.gridItem=null,p.cellsPos=null}),p.gridItem=e,p.baseX=n,p.baseY=i,p.offsetX=r,p.offsetY=o,p.renderItemTools=h;var m=p.gridItem.selectedCells,f=p.gridItem.positionTool.getCellsPos(p.baseX,p.baseY,p.offsetX,p.offsetY);if(s&&!l){if(!p.gridItem.shiftClickBaseCellPos){var E=p.gridItem.selectedCells;if(E.length>0)p.gridItem.shiftClickBaseCellPos={row:E[0].row,col:E[0].col};else{var T=p.gridItem.positionTool.getCellsPos(p.baseX,p.baseY,p.baseX,p.baseY);p.gridItem.shiftClickBaseCellPos={row:T.startPos.row,col:T.startPos.col}}}for(var I=p.gridItem.shiftClickBaseCellPos,_=p.gridItem.positionTool.getCellsPos(p.baseX,p.baseY,p.baseX,p.baseY).startPos,y=Math.min(I.row,_.row),L=Math.min(I.col,_.col),O=Math.max(I.row,_.row),S=Math.max(I.col,_.col),P=y;P<=O;P++)for(var k=L;k<=S;k++)p.cellsPos.push({row:P,col:k})}else if(l&&!s){p.gridItem.shiftClickBaseCellPos=null;var A=p.gridItem.positionTool.getCellsPos(p.baseX,p.baseY,p.baseX,p.baseY),R=!1,C=A.startPos.row,b=A.startPos.col,w=!0,x=!1,N=void 0;try{for(var D,M=p.cellsPos[Symbol.iterator]();!(w=(D=M.next()).done);w=!0){var B=D.value;if(B.row===C||B.col===b){R=!0;break}}}catch(e){x=!0,N=e}finally{try{w||null==M.return||M.return()}finally{if(x)throw N}}p.cellsPos=m.slice(),R||p.cellsPos.push({row:C,col:b})}else{p.gridItem.shiftClickBaseCellPos=null;for(var U=f.startPos.row;U<=f.endPos.row;U++)for(var G=f.startPos.col;G<=f.endPos.col;G++)p.cellsPos.push({row:U,col:G})}return p.selectedCellsChanged=!p.isArrayOfCellPosEquals(m,p.cellsPos),p}return m()(t,e),o()(t,[{key:"isArrayOfCellPosEquals",value:function(e,t){if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++){var i=e[n],a=t[n];if(i.row!==a.row||i.col!==a.col)return!1}return!0}}]),t}(E.a),I=function(e){function t(e){var n;return a()(this,t),n=c()(this,u()(t).call(this)),g()(d()(n),"doSaveQueue",!1),g()(d()(n),"actionType",v.a.GRID_SELECT_ALL_CELL),g()(d()(n),"changeDesign",function(){return!1}),g()(d()(n),"commitAction",function(e,t,i){for(var a=[],r=0;r<n.gridItem.row;r++)for(var o=0;o<n.gridItem.col;o++)a.push({row:r,col:o});n.gridItem.selectCells(a),t.pageController.getItemRenderer(n.gridItem).updateContentsAfter(null,e.pages[t.renderPageIdx].lastRenderEditScale),i.renderHandler(e,t)}),g()(d()(n),"rollbackAction",function(e,t,n){}),g()(d()(n),"recycle",function(){n.gridItem=null}),n.gridItem=e,n}return m()(t,e),t}(E.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(47),m=n(3),f=n(43),g=n(95),v=function(){function e(){c()(this,e)}var t,n,i,r,s,l,h,d,v;return u()(e,null,[{key:"getList",value:(v=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.CRM.get(f.a.DESIGN_PROJECT_LIST),e.next=3,p.UnicornApiRequest.get(n,{data:t});case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}},e)})),function(e){return v.apply(this,arguments)})},{key:"addDesign",value:(d=o()(a.a.mark(function e(t,n,i){var r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.CRM.get(f.a.DESIGN_PROJECT_ADD_DESIGN).replace("${designProjectIdx}",String(t)).replace("${designIdx}",String(n)),e.next=3,p.UnicornApiRequest.post(r,{data:i});case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}},e)})),function(e,t,n){return d.apply(this,arguments)})},{key:"create",value:(h=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.teamIdx){e.next=4;break}return e.next=3,g.a.getSelectedTeamIdx();case 3:t.teamIdx=e.sent;case 4:if(t.teamScope){e.next=8;break}return e.next=7,g.a.getSelectedTeamScope();case 7:t.teamScope=e.sent;case 8:return n=m.CRM.get(f.a.DESIGN_PROJECT_CREATE),e.next=11,p.UnicornApiRequest.post(n,{contentType:"application/json",data:JSON.stringify(t)});case 11:return i=e.sent,e.abrupt("return",i.data);case 13:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)})},{key:"findOne",value:(l=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.CRM.get(f.a.DESIGN_PROJECT_FIND_ONE).replace("${designProjectIdx}",String(t)),e.next=3,p.UnicornApiRequest.get(n);case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)})},{key:"update",value:(s=o()(a.a.mark(function e(t,n){var i,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.CRM.get(f.a.DESIGN_PROJECT_UPDATE).replace("${designProjectIdx}",String(t)),e.next=3,p.UnicornApiRequest.put(i,{contentType:"application/json",data:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)})},{key:"createDesign",value:(r=o()(a.a.mark(function e(t,n,i){var r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.teamIdx){e.next=4;break}return e.next=3,g.a.getSelectedTeamIdx();case 3:n.teamIdx=e.sent;case 4:if(n.teamScope){e.next=8;break}return e.next=7,g.a.getSelectedTeamScope();case 7:n.teamScope=e.sent;case 8:return r=m.CRM.get(f.a.DESIGN_PROJECT_CREATE_DESIGN).replace("${designProjectIdx}",String(t)),e.next=11,p.UnicornApiRequest.post(r,{contentType:"application/json",data:JSON.stringify({designSaveParam:n,pageNo:i})});case 11:return o=e.sent,e.abrupt("return",o.data);case 13:case"end":return e.stop()}},e)})),function(e,t,n){return r.apply(this,arguments)})},{key:"findDesign",value:(i=o()(a.a.mark(function e(t,n){var i,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.CRM.get(f.a.DESIGN_PROJECT_FIND_DESIGN).replace("${designProjectIdx}",String(t)).replace("${designIdx}",String(n)),e.next=3,p.UnicornApiRequest.get(i);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})},{key:"deleteDesign",value:(n=o()(a.a.mark(function e(t,n){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.CRM.get(f.a.DESIGN_PROJECT_DELETE_DESIGN).replace("${designProjectIdx}",String(t)).replace("${designIdx}",String(n)),e.next=3,p.UnicornApiRequest.delete(i);case 3:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"copyDesign",value:(t=o()(a.a.mark(function e(t,n,i){var r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=4;break}return e.next=3,g.a.getDefaultSelectedTeamData();case 3:i=e.sent;case 4:return r=m.CRM.get(f.a.DESIGN_PROJECT_COPY_DESIGN).replace("${designProjectIdx}",String(t)).replace("${designIdx}",String(n)),e.next=7,p.UnicornApiRequest.post(r,{data:i});case 7:return o=e.sent,e.abrupt("return",o.data);case 9:case"end":return e.stop()}},e)})),function(e,n,i){return t.apply(this,arguments)})}]),e}();d()(v,"MAX_DESIGN_CNT",999)},function(e,t,n){"use strict";n.d(t,"b",function(){return O}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return S});var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(35),l=n.n(c),u=n(36),h=n.n(u),d=n(37),p=n.n(d),m=n(41),f=n(42),g=n(45),v=n(65),E=n(106),T=n(43),I=n(3),_=n(12),y=n(259),L=n(192),O=function(){function e(){l()(this,e)}return h()(e,null,[{key:"getBoundedScaleList",value:function(){var e=this.ZOOM_SCALE_PRESET_LIST.slice();return e.splice(this.ZOOM_SCALE_PRESET_LIST.length,0,Number.MAX_SAFE_INTEGER),e.splice(0,0,0),e}},{key:"getScaleIndex",value:function(t){return t=Math.round(t*f.a.instance.pageEditScale*100),e.ZOOM_SCALE_PRESET_LIST.indexOf(t)}},{key:"isLowestScale",value:function(t){return t=Math.round(t*f.a.instance.pageEditScale*100),e.ZOOM_SCALE_PRESET_LIST[0]===t}},{key:"getLowestScale",value:function(){return e.ZOOM_SCALE_PRESET_LIST[0]/f.a.instance.pageEditScale/100}},{key:"isHighestLowestScale",value:function(t){return t=Math.round(t*f.a.instance.pageEditScale*100),e.ZOOM_SCALE_PRESET_LIST[e.ZOOM_SCALE_PRESET_LIST.length-1]===t}},{key:"getHighestScale",value:function(){return 500/f.a.instance.pageEditScale/100}},{key:"getNextScaleValue",value:function(t){var n=this.getScaleIndex(t);if(n>=0)return e.ZOOM_SCALE_PRESET_LIST[n+1]/100;var i=this.getBoundedScaleList();t=Math.round(t*f.a.instance.pageEditScale*100);for(var a=0;a<i.length-2;a++){var r=i[a],o=i[a+1];if(r<=t&&t<=o)return o/100}return e.ZOOM_SCALE_PRESET_LIST[e.ZOOM_SCALE_PRESET_LIST.length-1]/100}},{key:"getPrevScaleValue",value:function(t){var n=this.getScaleIndex(t);if(n>=0)return e.ZOOM_SCALE_PRESET_LIST[n-1]/100;var i=this.getBoundedScaleList();t=Math.round(t*f.a.instance.pageEditScale*100);for(var a=1;a<i.length-1;a++){var r=i[a],o=i[a+1];if(r<=t&&t<=o)return r/100}return e.ZOOM_SCALE_PRESET_LIST[0]/100}},{key:"calcFitScale",value:function(t,n,i){var a=n>440?160:58,r=(n-=a)/(i-=a),o=t.width/t.height,s=0;s=r===o?n:r>o?i*o:n;var c=Math.floor(s/t.width/f.a.instance.pageEditScale*100)/100;return e.getLowestScale()>c&&(c=e.getLowestScale()),e.getHighestScale()<c&&(c=e.getHighestScale()),c}},{key:"calcFullScale",value:function(t,n,i){var a=this.calcFitScale(t,n,i);if(a>=e.getHighestScale())return a;var r=n/i,o=t.width/t.height,s=0;s=r===o?n:r>o?n:i*o;var c=Math.ceil(s/t.width/f.a.instance.pageEditScale*100)/100;return e.getLowestScale()>c&&(c=e.getLowestScale()),e.getHighestScale()<c&&(c=e.getHighestScale()),c}},{key:"initValues",value:function(e,t){var n=t.clientWidth,i=t.clientHeight;this.sheetSize.width===e.width&&this.sheetSize.height===e.height&&this.canvasSize.width===n&&this.canvasSize.height===i||(this.fitScale=this.calcFitScale(e,n,i),this.fullScale=this.calcFullScale(e,n,i)),this.sheetSize.width=e.width,this.sheetSize.height=e.height,this.canvasSize.width=n,this.canvasSize.height=i}},{key:"getFitScale",value:function(){return this.fitScale}},{key:"getFullScale",value:function(){return this.fullScale}},{key:"changeZoomScalePresetList",value:function(e){this.ZOOM_SCALE_PRESET_LIST=e?this.ZOOM_SCALE_EXTEND_PRESET:this.ZOOM_SCALE_DEFAULT_PRESET}},{key:"zoomInOutByExtend",value:function(e){var t;switch(e){case i.IN:t=new E.m(!0);break;case i.OUT:t=new E.n(!0);break;case i.NONE:default:return void console.log("비정상 zoom type =>",e)}f.a.dispatch(t)}}]),e}();p()(O,"sheetSize",{width:0,height:0}),p()(O,"canvasSize",{width:0,height:0}),p()(O,"ZOOM_SCALE_PRESET_LIST",[7,10,25,50,75,100,150,200,300]),p()(O,"ZOOM_SCALE_DEFAULT_PRESET",[7,10,25,50,75,100,150,200,300]),p()(O,"ZOOM_SCALE_EXTEND_PRESET",[7,10,25,50,75,80,90,100,110,125,150,200,300,400,500]),function(e){e[e.NONE=0]="NONE",e[e.IN=1]="IN",e[e.OUT=2]="OUT"}(i||(i={}));var S=function(){function e(){l()(this,e),p()(this,"isScreenMoveMode",!1),p()(this,"lastRenderStatus",{contents:null,position:null}),this.pageZoomInAction=new E.m,this.pageZoomOutAction=new E.n,this.pageZoomFitAction=new E.k,this.pageZoomFullAction=new E.l}var t;return h()(e,[{key:"setReady",value:(t=s()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.element=document.getElementById("pageZoomNavigator"),this.makeElement();case 2:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"makeElement",value:function(){var e=this,t=P("btnZoomOut",_.ToolsIcon.MINUS,null,function(){f.a.dispatch(e.pageZoomOutAction),f.a.instance.zoomScale>1&&A()});this.btnZoomOut=t;var n=function(){e.isInputChange=!1;var t=Number(s.value)/100;isNaN(t)||(O.getLowestScale()*f.a.instance.pageEditScale>t&&(t=O.getLowestScale()*f.a.instance.pageEditScale),O.getHighestScale()*f.a.instance.pageEditScale<t&&(t=O.getHighestScale()*f.a.instance.pageEditScale),f.a.dispatch(new y.a(t)))},i=function t(){e.isInputChange&&n(),document.removeEventListener("click",t),e.element.classList.remove("activePopup")},a=function(t){t.stopPropagation(),t.preventDefault(),e.element.classList.contains("activePopup")?(e.element.classList.remove("activePopup"),document.removeEventListener("click",i)):(e.element.classList.add("activePopup"),document.addEventListener("click",i),e.inputSetZoomScale.focus())},r=P("btnZoomScale",null,null,a),o=P("btnZoomScalePercent",null,null,a);o.innerText="%";var s=document.createElement("input");s.className="inputSetZoomScale",s.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault()}),s.addEventListener("keypress",function(e){var t=e.keyCode;return e.shiftKey||e.ctrlKey||e.altKey?(e.returnValue=!1,!1):t>=48&&t<=57||8===t||46===t||37===t||39===t||13===t||27===t||(e.returnValue=!1,!1)}),s.addEventListener("keydown",function(t){e.isInputChange=!0,t.stopPropagation();var a=t.keyCode;13===a&&(n(),e.element.classList.remove("activePopup"),document.removeEventListener("click",i)),27===a&&(e.element.classList.remove("activePopup"),document.removeEventListener("click",i))}),s.addEventListener("focus",function(){return s.select()}),this.inputSetZoomScale=s;var c=document.createElement("div");c.className="pageZoomNavigatorLine";var l=P("btnZoomIn",_.ToolsIcon.PLUS,null,function(){f.a.dispatch(e.pageZoomInAction),f.a.instance.zoomScale>1&&A()});this.btnZoomIn=l;var u=P("btnZoomFit",_.ToolsIcon.SCREEN_FIT,null,function(){f.a.dispatch(e.pageZoomFitAction)}),h=document.createElement("div");h.className=m.a.PAGE_NAVIGATOR_BUTTONS,h.appendChild(t),h.appendChild(r),h.appendChild(o),h.appendChild(s),h.appendChild(l),h.appendChild(c),h.appendChild(u),this.element.appendChild(h),this.zoomScale=r,this.makeZoomPopupElement(i);var d=P("btnMoveToggle",_.ToolsIcon.DRAG,null,function(){f.a.dispatch(new g.c(function(t,n,i){n.mouseAction.mode!==v.a.MODE_NONE?(d.classList.remove("pushed"),n.mouseAction.mode=v.a.MODE_NONE,e.isScreenMoveMode=!1,f.a.instance.renderer.canvasRenderer.disableScrollMode()):(d.classList.add("pushed"),n.mouseAction.mode=v.a.MODE_NAVIGATION,e.isScreenMoveMode=!0,f.a.instance.renderer.canvasRenderer.enableScrollMode())},!0))});this.element.appendChild(d),this.btnMoveToggle=d}},{key:"render",value:function(e,t){f.a.isCropMode()?this.element.classList.add(m.a.HIDE):this.element.classList.remove(m.a.HIDE);var n=this.getRenderStatus(e);O.initValues(e.pages[0].sheetSize,t.renderer.canvasRenderer.canvas.parentElement),this.isChangeContentsStatus(n.contents)&&(this.zoomScale.innerText="".concat(Math.round(n.contents.zoomScale*f.a.instance.pageEditScale*100)),this.element.className=m.a.ACTIVE,n.contents.zoomScale===O.getFitScale()?this.element.classList.add("minWidth"):(this.element.classList.remove("minWidth"),L.a.instance.hide()),n.contents.zoomScale>O.getFitScale()?this.btnMoveToggle.classList.add("enabled"):(this.btnMoveToggle.classList.remove("enabled"),t.mouseAction.mode===v.a.MODE_NAVIGATION&&(this.btnMoveToggle.classList.remove("pushed"),t.mouseAction.mode=v.a.MODE_NONE,this.isScreenMoveMode=!1,t.renderer.canvasRenderer.disableScrollMode())),O.isLowestScale(n.contents.zoomScale)?(this.element.classList.add("disableZoomOut"),this.btnZoomOut.disabled=!0):(this.element.classList.remove("disableZoomOut"),this.btnZoomOut.disabled=!1),O.isHighestLowestScale(n.contents.zoomScale)?(this.element.classList.add("disableZoomIn"),this.btnZoomIn.disabled=!0):(this.element.classList.remove("disableZoomIn"),this.btnZoomIn.disabled=!1),t.mouseAction.mode===v.a.MODE_NAVIGATION?this.btnMoveToggle.classList.add("pushed"):this.btnMoveToggle.classList.remove("pushed"),this.inputSetZoomScale.value="".concat(Math.round(n.contents.zoomScale*f.a.instance.pageEditScale*100))),this.lastRenderStatus=n}},{key:"getRenderStatus",value:function(e){var t=f.a.instance;return{position:{},contents:{zoomScale:t.zoomScale,pageEditScale:t.pageEditScale}}}},{key:"isChangeContentsStatus",value:function(e){var t=this.lastRenderStatus.contents;return null==t||t.zoomScale!==e.zoomScale||t.pageEditScale!==e.pageEditScale}},{key:"isChangePositionStatus",value:function(e){return null==this.lastRenderStatus.position}},{key:"makeZoomPopupElement",value:function(e){var t=this,n=function(e,t){var n=document.createElement("div");n.className=e,t&&n.classList.add(t);return n}("popupElement"),i=!0,a=!1,r=void 0;try{for(var o,s=O.ZOOM_SCALE_PRESET_LIST[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=k("btnChangeZoomScale",o.value,e);n.appendChild(c)}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}var l=document.createElement("div");l.className="pageZoomNavigatorPopupLine";var u=P("btnScreenFitPopup",null,null,function(){f.a.dispatch(t.pageZoomFitAction)},!0,[I.CRM.get(T.a.PAGE_ZOOM_NAVIGATOR_POPUP_SCREEN_FIT)],["btnScreenFitPopup"]),h=P("btnScreenFullPopup",null,null,function(){f.a.dispatch(t.pageZoomFullAction)},!0,[I.CRM.get(T.a.PAGE_ZOOM_NAVIGATOR_POPUP_SCREEN_FULL)],["btnScreenFullPopup"]);n.appendChild(l),n.appendChild(u),n.appendChild(h),this.element.appendChild(n)}}]),e}();function P(e,t,n,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=document.createElement("button");if(a&&(s.addEventListener("mouseenter",function(){s.classList.add("hover")}),s.addEventListener("mouseleave",function(){s.classList.remove("hover")})),e&&(s.className=e),s.type="button",i&&s.addEventListener("click",function(e){f.a.isCropMode()||i(e)}),t&&Object(_.setToolsIcon)(s,t),n&&s.classList.add(n),r&&o&&r.length===o.length)for(var c=0;c<r.length;c++){var l=P(o[c],null,null,null,!1);l.innerText=r[c],s.appendChild(l)}return s}function k(e,t,n){return P(e,null,null,function(e){e.stopPropagation(),e.preventDefault(),n(),f.a.dispatch(new y.a(t/100))},!0,["".concat(t),"%"],["divScale","divPercent"])}function A(){f.a.dispatch(new g.c(function(e,t,n){n.canvasRenderer.scrollElement.moveScrollCenterX()}))}p()(S,"REFRESH_INTERVAL",800),p()(S,"REFRESH_TERM",2500)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=function(){function e(t,n,i){a()(this,e),this._bit=t,this._text=n,this._key=i,e._values.push(this)}return o()(e,[{key:"contain",value:function(e){return(e&this.bit)>0}},{key:"bit",get:function(){return this._bit}},{key:"text",get:function(){return this._text}},{key:"key",get:function(){return this._key}}],[{key:"values",value:function(){return this._values}},{key:"valueOf",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=this.values()[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(o.key===e)return o}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return null}},{key:"getBit",value:function(){for(var e=0,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var a=0,r=n;a<r.length;a++){var o=r[a];e^=o.bit}return e}},{key:"getList",value:function(e){var t=[],n=!0,i=!1,a=void 0;try{for(var r,o=this.values()[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;s.contain(e)&&t.push(s)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return t}},{key:"getInactiveBit",value:function(){var t=0,n=!0,i=!1,a=void 0;try{for(var r,o=this.values()[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;s!==e.UNICORN&&(t^=s.bit)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return t}}]),e}();c()(l,"_values",[]),c()(l,"SMILECAT",new l(1,"스마일캣","SMILECAT")),c()(l,"CYWORLD",new l(2,"싸이월드","CYWORLD")),c()(l,"IPHONE",new l(4,"아이폰","IPHONE")),c()(l,"BIZHOWS",new l(8,"비즈하우스","BIZHOWS")),c()(l,"UNICORN",new l(16,"유니콘","UNICORN"))},function(e,t,n){"use strict";n.d(t,"d",function(){return _}),n.d(t,"a",function(){return y}),n.d(t,"b",function(){return L}),n.d(t,"c",function(){return O});var i=n(46),a=n.n(i),r=n(39),o=n.n(r),s=n(38),c=n.n(s),l=n(44),u=n.n(l),h=n(40),d=n.n(h),p=n(35),m=n.n(p),f=n(36),g=n.n(f),v=n(37),E=n.n(v),T=n(162),I=n(98),_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m()(this,e),E()(this,"emptyListView",T.a.makeEmptyListNotiLayer()),this.isAll=t}return g()(e,[{key:"folderClickHandler",value:function(e,t,n){t!==T.a.reCycleBin&&e.triggerClickCheckBoxInItem(n)}},{key:"checkBoxClickHandler",value:function(e,t,n,i){e.selectCheckBox(t,n,i)}},{key:"makeCheckBox",value:function(e,t,n){return this.isAll?e.makeCheckBoxInAllSelectMode(n,t):e.makeCheckBoxInSelectMode(n,t)}},{key:"renderBeforeLoadListLib",value:function(e){this.isAll&&e.renderAllSelectMode(),e.renderSelectMode()}},{key:"renderAfterLoadListLib",value:function(e){}}]),e}(),y=function(e){function t(){var e,n;m()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=o()(this,(e=c()(t)).call.apply(e,[this].concat(a))),E()(u()(n),"emptyListView",T.a.makeRecyclebinEmptyListNotiLayer()),n}return d()(t,e),g()(t,[{key:"checkBoxClickHandler",value:function(e,t,n,i){e.selectTrashCheckBox(t,n,i)}},{key:"renderBeforeLoadListLib",value:function(e){this.isAll&&e.renderAllSelectInRecycleBinMode(),e.renderInRecycleBinBeforeLoad()}},{key:"renderAfterLoadListLib",value:function(e){this.isAll&&e.renderAllSelectInRecycleBinMode(),e.renderInRecycleBinAfterLoad()}}]),t}(_),L=function(){function e(){m()(this,e),E()(this,"emptyListView",T.a.makeEmptyListNotiLayer())}return g()(e,[{key:"folderClickHandler",value:function(e,t,n){t===T.a.reCycleBin&&e.changeMode(new y),e.showPhotosInFolder(t)}},{key:"checkBoxClickHandler",value:function(e,t,n,i){e.changeModeAndRenderLib(new _),e.selectCheckBox(t,n,i)}},{key:"makeCheckBox",value:function(e,t,n){if(!n.extraData.isRecycleBin&&!n.extraData.isAddFolderBin)return e.makeCheckBox(n,t)}},{key:"renderAfterLoadListLib",value:function(e){e.renderNormalModeAfterLoad()}},{key:"renderBeforeLoadListLib",value:function(e){e.renderNormalModeBeforeLoad()}}]),e}(),O=function(e){function t(){var e,n;m()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=o()(this,(e=c()(t)).call.apply(e,[this].concat(a))),E()(u()(n),"emptyListView",I.a.makeEmptyListView()),n}return d()(t,e),g()(t,[{key:"renderAfterLoadListLib",value:function(e){a()(c()(t.prototype),"renderAfterLoadListLib",this).call(this,e),e.showSearchResult()}},{key:"renderBeforeLoadListLib",value:function(e){a()(c()(t.prototype),"renderBeforeLoadListLib",this).call(this,e)}}]),t}(L)},function(e,t,n){"use strict";n.d(t,"b",function(){return _}),n.d(t,"a",function(){return y}),n.d(t,"c",function(){return L});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(37),c=n.n(s),l=n(35),u=n.n(l),h=n(36),d=n.n(h),p=n(96),m=n(59),f=n(3),g=n(193),v=n(48),E=n(64),T=n(120),I=function(){function e(){u()(this,e)}return d()(e,[{key:"makeThumbnail",value:function(e,t){var n=T.a.getImageElementWithReplaceableThumbnail();return this.setImg(e,t,n),n}},{key:"setThumbnail",value:function(e,t,n){this.setImg(e,t,n)}},{key:"setImg",value:function(e,t,n){var i=p.a.createPhotoKey(e);m.b.hasData(i)?n.src=m.b.getData(i).src:n.src=t}}]),e}(),_=function(){function e(){u()(this,e)}var t,n;return d()(e,[{key:"makeThumbnail",value:function(t,n){var i=T.a.getImageElementWithReplaceableThumbnail();return e.svgThumbMap.has(t)&&(i.src=e.svgThumbMap.get(t)),i}},{key:"setThumbnail",value:function(t,n,i){e.svgThumbMap.has(t)?i.src=e.svgThumbMap.get(t):e.getSvgThumbUrl(n).then(function(n){i.src=n,e.svgThumbMap.set(t,n)})}}],[{key:"setSvgThumbnailData",value:(n=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.svgThumbMap.has(t)){e.next=2;break}return e.abrupt("return");case 2:return e.t0=this.svgThumbMap,e.t1=t,e.next=6,this.getSvgThumbUrl(n);case 6:e.t2=e.sent,e.t0.set.call(e.t0,e.t1,e.t2);case 8:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"getSvgThumbUrl",value:(t=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get(t);case 2:return n=e.sent,i=(new XMLSerializer).serializeToString(n.documentElement),e.abrupt("return","data:image/svg+xml;base64,"+f.StringUtil.b64EncodeUnicode(i));case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"setThumbNail",value:function(e,t){this.svgThumbMap.has(e)||this.svgThumbMap.set(e,t)}}]),e}();c()(_,"svgThumbMap",new Map);var y=function(){function e(){u()(this,e)}return d()(e,[{key:"thumbnailMaker",value:function(e){return e===g.a.USER_SVG||e===g.a.SVG||e===v.a.SVG?new _:e===g.a.USER_IMAGE||v.a.PHOTO?new I:void 0}}]),e}();function L(e){return O.apply(this,arguments)}function O(){return(O=o()(a.a.mark(function e(t){var n,i=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:p.a.USER_PHOTO_SIZE,e.abrupt("return",new Promise(function(){var e=o()(a.a.mark(function e(i,r){var o,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.b.loadImageAsync(t);case 3:o=e.sent,(s=S(o,n)).width===o.width?i(t):((c=E.a.createCanvas()).width=s.width,c.height=s.height,c.getContext("2d").drawImage(o,0,0,s.width,s.height),i(c.toDataURL())),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e,t){if(Math.max(e.width,e.height)<=t)return{width:e.width,height:e.height};var n=e.width/e.height;return 1===n?{width:t,height:t}:n>1?{width:t,height:t/n}:{width:t*n,height:t}}c()(y,"instance",new y)},,,,,function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.LEFT_MENU_DDDOT_POPUP_WRAPPER="left_menu_dddot_popup_wrapper",e.DDDOT_HEADER_WRAP="dddot_header_wrap",e.KEYWORD_LIST_WRAP="keyword_list_wrap",e.CHANGE_TEMPLATE="change_template",e.FAVORITES_WRAP="favorites_wrap",e.MOVE_BIZ="move_biz"}(i||(i={}))},,function(e,t,n){"use strict";var i,a=n(35),r=n.n(a),o=n(36),s=n.n(o),c=function(){function e(){r()(this,e)}return s()(e,null,[{key:"getCDATAString",value:function(e){return(new DOMParser).parseFromString("<xml></xml>","application/xml").createCDATASection(e).data}},{key:"getInnerTextInCDATABlock",value:function(e){return e.replace("<![CDATA[","").replace("]]>","")}}]),e}(),l=function(){function e(){r()(this,e)}return s()(e,null,[{key:"getCSSPropertyList",value:function(e){var t=[];return e.split(";").forEach(function(e){var n=e.split(":"),i=n[0],a=n[1];i&&a&&t.push({name:i,value:a})}),t}}]),e}(),u=function(){function e(){r()(this,e)}return s()(e,null,[{key:"getSelectorFullName",value:function(e){return e.substring(0,e.indexOf("{"))}},{key:"getPropertyStringList",value:function(e){var t=c.getInnerTextInCDATABlock(e);return t=this.getStyleWithoutSpaceTypes(t),this.getStyleStringList(t)}},{key:"getStyleWithoutSpaceTypes",value:function(e){return e.replace(/\s|\r|\n|\r\n|\t/g,"")}},{key:"getStyleStringList",value:function(e){return e.split("}").filter(function(e){return e}).map(function(e){return"".concat(e).concat("}")})}},{key:"getAttributeListOfSelectorStyle",value:function(e){var t=this.getInnerTextInStyleBlock(e);return l.getCSSPropertyList(t)}},{key:"getInnerTextInStyleBlock",value:function(e){return e.replace("{","").replace("}","")}}]),e}();!function(e){e[e.ID=0]="ID",e[e.CLASS=1]="CLASS",e[e.TAG=2]="TAG"}(i||(i={}));var h=function(){function e(){r()(this,e)}return s()(e,null,[{key:"parseElementSelectorInfoList",value:function(e){var t=this,n=e.getElementsByTagName("style");if(!n.length)return[];var i=n[0].innerHTML,a=u.getPropertyStringList(i),r=[];return a.forEach(function(e){var n=t.getElementSelectorInfo(e);r.push(n)}),r}},{key:"getElementSelectorInfo",value:function(e){var t=u.getSelectorFullName(e),n=e.replace(t,""),a=u.getAttributeListOfSelectorStyle(n),r="."===t[0],o="#"===t[0],s=r||o?t.substring(1):t;return{fullName:t,name:s,type:r?i.CLASS:o?i.ID:i.TAG,attributeProperties:a}}}]),e}(),d=n(37),p=n.n(d),m=function(){function e(){r()(this,e)}return s()(e,null,[{key:"changeStyleElementCDATASelectorName",value:function(e,t){var n=e.getElementsByTagName(this.ATTR_STYLE);if(n.length){var i=n[0],a=c.getInnerTextInCDATABlock(i.innerHTML),r="deprecatedByMiridih"+t;a.includes(r)||(i.innerHTML=c.getCDATAString(a.replace(t,r)))}}}]),e}();p()(m,"ATTR_STYLE","style");var f=function(){function e(){r()(this,e)}return s()(e,null,[{key:"changeElementAttributeByAttributePropertyList",value:function(e,t){var n=this,i="";if(t.forEach(function(t){t.name.toLowerCase()===n.ATTR_FILL?(e.setAttribute(n.ATTR_FILL,t.value),t.value.includes("url")?e.removeAttribute(n.ATTR_ORIGIN_FILL):e.setAttribute(n.ATTR_ORIGIN_FILL,t.value)):i+="".concat(t.name,":").concat(t.value,";")}),i){var a=e.getAttribute(this.ATTR_STYLE);i+=a||"",e.setAttribute(this.ATTR_STYLE,i)}}},{key:"changeElementFillAttributeInStyle",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=e.children[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;this.changeElementFillAttributeInStyle(o)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}var s=e.getAttribute(this.ATTR_STYLE),c=s?l.getCSSPropertyList(s):[];e.removeAttribute(this.ATTR_STYLE),this.changeElementAttributeByAttributePropertyList(e,c)}}]),e}();p()(f,"ATTR_STYLE","style"),p()(f,"ATTR_FILL","fill"),p()(f,"ATTR_ORIGIN_FILL","origin_fill");var g=function(){function e(){r()(this,e)}return s()(e,null,[{key:"convertElementBySelectorInfoList",value:function(t,n){e.updateElementSelectorInfosToIdSelectorValue(t,n);var a=!0,r=!1,o=void 0;try{for(var s,c=n[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value,u=this.getTargetElementsInElement(t,l.fullName,l.type),h=!0,d=!1,p=void 0;try{for(var g,v=u[Symbol.iterator]();!(h=(g=v.next()).done);h=!0){var E=g.value;f.changeElementAttributeByAttributePropertyList(E,l.attributeProperties),[i.ID,i.CLASS].includes(l.type)&&m.changeStyleElementCDATASelectorName(t,l.fullName),this.removeElementSelectorAttribute(E,l.type)}}catch(e){d=!0,p=e}finally{try{h||null==v.return||v.return()}finally{if(d)throw p}}}}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}}},{key:"getTargetElementsInElement",value:function(e,t,n){var a=[],r=[i.ID,i.CLASS].includes(n)?t.substring(1):t;return n===i.ID?this.setTargetElementsWithIdAttribute(e,r,a):a=n===i.CLASS?Array.from(e.getElementsByClassName(r)):Array.from(e.getElementsByTagName(r)),a}},{key:"setTargetElementsWithIdAttribute",value:function(e,t,n){var i=!0,a=!1,r=void 0;try{for(var o,s=e.children[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;this.setTargetElementsWithIdAttribute(c,t,n)}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}var l=e.attributes.getNamedItem("id");l&&l.value.includes(t)&&n.push(e)}},{key:"removeElementSelectorAttribute",value:function(e,t){switch(t){case i.ID:e.removeAttribute("id");break;case i.CLASS:e.removeAttribute("class");break;case i.TAG:}}},{key:"updateElementSelectorInfosToIdSelectorValue",value:function(e,t){var n=this;t.forEach(function(t){t.attributeProperties.forEach(function(t){var i=t.value,a="";if(i.includes("#")){var r=i.indexOf("#")+1;a=i.includes(")")?i.substring(r,i.indexOf(")")):i.substring(r,i.length)}if(a){var o=n.getSameId(e,a);o&&(t.value=i.replace(a,o))}})})}},{key:"getSameId",value:function(e,t){var n="",i=!0,a=!1,r=void 0;try{for(var o,s=e.children[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;if(n=this.getSameId(c,t))return n}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}var l=e.getAttribute("id");return l&&l.includes(t.toLowerCase())?l:n}}]),e}();n.d(t,"a",function(){return v});var v=function(){function e(){r()(this,e)}return s()(e,null,[{key:"changeElement",value:function(e){var t=h.parseElementSelectorInfoList(e);g.convertElementBySelectorInfoList(e,t),f.changeElementFillAttributeInStyle(e)}}]),e}()},,,function(e,t,n){"use strict";var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(35),l=n.n(c),u=n(36),h=n.n(u),d=n(37),p=n.n(d);!function(e){e.COPY_ITEMS="COPY_ITEMS",e.COPY_SHEET_SIZE="COPY_SHEET_SIZE"}(i||(i={}));var m=function(){function e(){l()(this,e)}return h()(e,null,[{key:"setItem",value:function(e,t){localStorage.setItem(e,t)}},{key:"getItem",value:function(e){return localStorage.getItem(e)}}]),e}(),f=n(331),g=n(45),v=n(126),E=n(163),T=n(54);n.d(t,"a",function(){return I}),n.d(t,"b",function(){return _}),n.d(t,"c",function(){return y});var I=function(){function e(t,n){var a=this;l()(this,e),p()(this,"doSaveQueue",!1),p()(this,"actionType",g.a.COPY),p()(this,"isActionGroupEquals",function(){return!1}),p()(this,"concat",function(){return!1}),p()(this,"isLastSavedAction",!1),p()(this,"changeDesign",function(){return!1}),p()(this,"commit",function(t,n){var r;if(a.itemsToCopy&&a.itemsToCopy.length>0)r=a.itemsToCopy;else if((r=T.b.getSortedGroupItemsAddedArray(n.activeItems.filter(function(e){return e.select}))).length<1)return;e.clearOsClipboard(),r.forEach(function(e){return e.copyKey=e.tbpeId});var o=f.a.makeCopyXml(t.sheets.version,r);m.setItem(i.COPY_SHEET_SIZE,JSON.stringify(t.pages[a.pageIdx].sheetSize)),m.setItem(i.COPY_ITEMS,(new XMLSerializer).serializeToString(o))}),p()(this,"rollback",function(){}),p()(this,"recycle",function(){}),this.pageIdx=t,n&&(this.itemsToCopy=n)}return h()(e,null,[{key:"clearOsClipboard",value:function(){var e=window.clipboardData;if(e)e.clearData();else{var t=document.createElement("input");t.value="item",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}}]),e}(),_=function e(t){var n=this;l()(this,e),p()(this,"concat",function(){return!1}),p()(this,"isLastSavedAction",!1),p()(this,"changeDesign",function(){return!0}),p()(this,"doSaveQueue",!0),p()(this,"actionType",g.a.CUT),p()(this,"isActionGroupEquals",function(){return!1}),p()(this,"commit",function(){var e=s()(r.a.mark(function e(t,i,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.activeItems.filter(function(e){return e.select}).length<1)){e.next=3;break}return e.abrupt("return");case 3:return n.copyAction.commit(t,i,a),n.deleteAction.commit(t,i,a),e.next=7,a.renderAuto(t,i);case 7:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),p()(this,"rollback",function(){var e=s()(r.a.mark(function e(t,i,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.deleteAction.rollback(t,i,a),n.copyAction.rollback(t,i,a),e.next=4,a.renderAuto(t,i);case 4:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),p()(this,"recycle",function(){n.copyAction=null,n.deleteAction=null}),this.pageIdx=t,this.copyAction=new I(t),this.deleteAction=new v.a},y=function(){function e(t){var n=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];l()(this,e),p()(this,"doSaveQueue",!0),p()(this,"actionType",g.a.PASTE),p()(this,"isActionGroupEquals",function(){return!1}),p()(this,"concat",function(){return!1}),p()(this,"changeDesign",function(){return!0}),p()(this,"isLastSavedAction",!1),p()(this,"commit",function(){var e=s()(r.a.mark(function e(t,i,a){var o,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.doSaveQueue){e.next=2;break}return e.abrupt("return");case 2:return o=t.pages[n.pageIdx].sheetSize,s=n.copySheetSize.width!==o.width||n.copySheetSize.height!==o.height,e.next=6,E.b.paste(n.xml,n.pageIdx,t,i,a,n.newItems,0,0,!0,!1,!1,n.moveItems,s);case 6:return n.newItems=e.sent,e.next=9,a.renderItemTools(t,i);case 9:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),p()(this,"rollback",function(){var e=s()(r.a.mark(function e(t,i,a){var o,s,c,l,u,h,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=t.pages[n.pageIdx],s=!0,c=!1,l=void 0,e.prev=4,u=n.newItems[Symbol.iterator]();!(s=(h=u.next()).done);s=!0)d=h.value,o.removeItem(d);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),c=!0,l=e.t0;case 12:e.prev=12,e.prev=13,s||null==u.return||u.return();case 15:if(e.prev=15,!c){e.next=18;break}throw l;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.next=22,a.renderAuto(t,i);case 22:case"end":return e.stop()}},e,null,[[4,8,12,20],[13,,15,19]])}));return function(t,n,i){return e.apply(this,arguments)}}()),p()(this,"recycle",function(){n.newItems=null,n.xml=null}),this.pageIdx=t,this.moveItems=a;try{var o=m.getItem(i.COPY_ITEMS),c=m.getItem(i.COPY_SHEET_SIZE);if(o){this.copySheetSize=JSON.parse(c);var u=new DOMParser;this.xml=u.parseFromString(o,"text/xml")}else this.doSaveQueue=!1}catch(e){console.error(e),this.doSaveQueue=!!this.xml}}return h()(e,null,[{key:"canPaste",value:function(){return!!m.getItem(i.COPY_ITEMS)}}]),e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"a",function(){return i});var i,a=n(39),r=n.n(a),o=n(38),s=n.n(o),c=n(40),l=n.n(c),u=n(35),h=n.n(u),d=n(36),p=n.n(d),m=n(3),f=n(42),g=n(112),v=function(){function e(){h()(this,e)}return p()(e,null,[{key:"make",value:function(e){switch(e.type){case g.a.UNICORN_THEME:return new T(e.value);case g.a.IS_ADMIN:return new I(e.value);case g.a.IS_DEV:return new _(e.value);default:return null}}}]),e}(),E=function(){function e(t){h()(this,e),this.value=t}return p()(e,[{key:"setCookie",value:function(){if(this.doSave()){var e=this.getCookieExpires();m.CookieUtil.setCookie(this.getConfigType().key,this.value,e.day,e.hour,e.minute)}}},{key:"doSave",value:function(){return!0}}]),e}(),T=function(e){function t(e){return h()(this,t),e||(e=i.DEFAULT),r()(this,s()(t).call(this,e))}return l()(t,e),p()(t,[{key:"applyConfig",value:function(e){e&&e===this.value||(window.setTheme&&setTheme(this.value),f.a.instance.env.theme=this.value)}},{key:"getCookieExpires",value:function(){return{day:365}}},{key:"getConfigType",value:function(){return g.a.UNICORN_THEME}}]),t}(E),I=function(e){function t(e){return h()(this,t),e||(e="false"),r()(this,s()(t).call(this,e))}return l()(t,e),p()(t,[{key:"applyConfig",value:function(){var e=f.a.instance.user;e&&(f.a.instance.env.adminMode="true"===this.value&&e.isAdmin(),f.a.instance.activeItems=[])}},{key:"getCookieExpires",value:function(){return{day:3}}},{key:"getConfigType",value:function(){return g.a.IS_ADMIN}}]),t}(E),_=function(e){function t(e){return h()(this,t),e||(e="false"),r()(this,s()(t).call(this,e))}return l()(t,e),p()(t,[{key:"applyConfig",value:function(){var e=f.a.instance.user;e&&(f.a.instance.env.devMode="true"===this.value&&e.isAdmin(),f.a.instance.activeItems=[])}},{key:"getCookieExpires",value:function(){return{day:3}}},{key:"getConfigType",value:function(){return g.a.IS_DEV}}]),t}(E);!function(e){e.DEFAULT="1",e.BLACK="4"}(i||(i={}))},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e.NONE="none",e.PAGE="page",e.ITEM="item",e.GUIDELINE="guideline"}(i||(i={}))},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(73),l=n.n(c),u=n(70),h=n(239),d=n(190),p=n(64),m=n(74);!function(e){var t=["rect","circle","ellipse","polygon","path","polyline"];function n(e,t,n,i,a){var r=i/t,o=a/t;e.setAttribute("width","".concat(r,"px")),e.setAttribute("height","".concat(o,"px"));var s=document.createElementNS(m.a.SVG,"svg");s.setAttribute("width","".concat(i,"px")),s.setAttribute("height","".concat(a,"px"));var c=document.createElementNS(m.a.SVG,"g");return s.appendChild(c),c.setAttribute("transform","scale(".concat(t,", ").concat(n,")")),c.appendChild(e.cloneNode(!0)),s}function a(e,n){var i=[],r=e.nodeName;t.includes(r)&&(e.hasAttribute("opacity")&&(n*=Number(e.getAttribute("opacity"))),i.push({element:e,opacity:n}));var o=!0,s=!1,c=void 0;try{for(var u,h=e.childNodes[Symbol.iterator]();!(o=(u=h.next()).done);o=!0){var d=u.value;d instanceof SVGElement&&i.push.apply(i,l()(a(d,n)))}}catch(e){s=!0,c=e}finally{try{o||null==h.return||h.return()}finally{if(s)throw c}}return i}function o(e){return c.apply(this,arguments)}function c(){return(c=s()(r.a.mark(function e(t){var n,i,o,s,c,l,u,h,p,m,f,g,v;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=a(t,1),o=[],s=0;case 4:if(!(s<i.length)){e.next=27;break}if(c=i[s],l=c.element.getAttribute("origin_fill"),s!==i.length-1){e.next=11;break}o.push(c),e.next=17;break;case 11:if(i[s+1].element.getAttribute("origin_fill")!==l){e.next=16;break}return o.push(c),e.abrupt("continue",24);case 16:o.push(c);case 17:for(u=0,h=o;u<h.length;u++)p=h[u],p.element.setAttribute("fill","white");return e.next=20,d.a.svgStringToImage(t.outerHTML);case 20:for(m=e.sent,f=0,g=o;f<g.length;f++)v=g[f],v.element.setAttribute("fill","none");n.push({image:m,originColor:l,opacity:c.opacity}),o=[];case 24:s++,e.next=4;break;case 27:return e.abrupt("return",n);case 28:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e,t){return g.apply(this,arguments)}function g(){return(g=s()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,i){n||(n=new Image),n.onload=function(){e(n)},n.onerror=function(){i()},n.src=t.toDataURL()}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function v(e,t,n,i,a){return E.apply(this,arguments)}function E(){return(E=s()(r.a.mark(function e(t,n,i,a,o){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,r){var s=new Image;s.onload=function(){e(s)},s.onerror=function(e){r(e)};var c=p.a.createCanvas();c.width=i,c.height=a;var l=c.getContext("2d"),u=!0,h=!1,d=void 0;try{for(var m,f=t[Symbol.iterator]();!(u=(m=f.next()).done);u=!0){var g=m.value;g.opacity<1&&o||g.originColor===n&&l.drawImage(g.image,0,0)}}catch(e){h=!0,d=e}finally{try{u||null==f.return||f.return()}finally{if(h)throw d}}s.src=c.toDataURL()}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(){return(T=s()(r.a.mark(function e(t){var i,a,o,s,c,l,d,p,m,f,g,v,E,T,_,y,L,O,S;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.svg,document.body.appendChild(i),a=i.getBoundingClientRect(),document.body.removeChild(i),o=a.width,s=a.height,c=800/Math.max(o,s),l=Math.round(o*c),d=Math.round(s*c),p=n(i,c,c,l,d),h.a.changeElement(p),u.a.makeUnicornSvgElement(p),m=u.a.getOriginFillColors(p),f=!0,g=!1,v=void 0,e.prev=16,E=m[Symbol.iterator]();!(f=(T=E.next()).done);f=!0)_=T.value,u.a.setFillColorByOriginColor(p,_,"none");e.next=24;break;case 20:e.prev=20,e.t0=e.catch(16),g=!0,v=e.t0;case 24:e.prev=24,e.prev=25,f||null==E.return||E.return();case 27:if(e.prev=27,!g){e.next=30;break}throw v;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return e.next=34,I(p,l,d,!1);case 34:return y=e.sent,p.setAttribute("shape-rendering","optimizespeed"),e.next=38,I(p,l,d,!0);case 38:return L=e.sent,(O=document.createElement("canvas")).width=L.width,O.height=L.height,(S=O.getContext("2d")).drawImage(L,0,0),S.drawImage(y,0,0),e.abrupt("return",O.toDataURL());case 46:case"end":return e.stop()}},e,null,[[16,20,24,32],[25,,27,31]])}))).apply(this,arguments)}function I(e,t,n,i){return _.apply(this,arguments)}function _(){return(_=s()(r.a.mark(function e(t,n,i,a){var s,c,l,h,d,m,g,E,T,I,_,y,O,S,P,k,A,R,C,b,w,x;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.a.getOriginFillColors(t),e.next=3,o(t);case 3:c=e.sent,l=c.length-1;case 5:if(!(l>=0)){e.next=27;break}h=c[l].image,(d=p.a.createCanvas()).width=h.width,d.height=h.height,(m=d.getContext("2d")).drawImage(h,0,0),m.globalCompositeOperation="destination-out",g=l+1;case 14:if(!(g<c.length)){e.next=22;break}if(!(c[g].opacity<1)){e.next=17;break}return e.abrupt("continue",19);case 17:E=c[g].image,c[l].originColor!==c[g].originColor&&m.drawImage(E,0,0);case 19:g++,e.next=14;break;case 22:return e.next=24,f(d,h);case 24:l--,e.next=5;break;case 27:T=[],I=!0,_=!1,y=void 0,e.prev=31,O=s[Symbol.iterator]();case 33:if(I=(S=O.next()).done){e.next=43;break}return P=S.value,e.t0=T,e.next=38,v(c,P,n,i,a);case 38:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 40:I=!0,e.next=33;break;case 43:e.next=49;break;case 45:e.prev=45,e.t2=e.catch(31),_=!0,y=e.t2;case 49:e.prev=49,e.prev=50,I||null==O.return||O.return();case 52:if(e.prev=52,!_){e.next=55;break}throw y;case 55:return e.finish(52);case 56:return e.finish(49);case 57:for(k=L(T.length),(A=document.createElement("canvas")).width=k.col*n,A.height=k.row*i,R=A.getContext("2d"),a&&(R.imageSmoothingQuality="low"),C=0;C<T.length;C++)b=T[C],w=Math.floor(C/k.col),x=C%k.col,R.save(),R.translate(Math.round(x*n),Math.round(w*i)),R.drawImage(b,0,0,b.width,b.height,0,0,b.width,b.height),R.restore();return e.abrupt("return",A);case 65:case"end":return e.stop()}},e,null,[[31,45,49,57],[50,,52,56]])}))).apply(this,arguments)}function y(){return(y=s()(r.a.mark(function e(t){var n,a,o,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=800/Math.max(t.width,t.height),a=i.getScaledSvgElement(t.svg,n,n,n*t.width,n*t.height),(o=p.a.createCanvas()).width=n*t.width,o.height=n*t.height,s=o.getContext("2d"),e.next=8,d.a.drawSVG(s,a.outerHTML,0,0);case 8:return e.abrupt("return",o.toDataURL());case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e){for(var t=Math.ceil(Math.sqrt(e)),n=1;e>t;)n++,e-=t;return{row:n,col:t}}e.getScaledSvgElement=n,e.canvasToImage=f,e.makeSecurityImageData=function(e){return T.apply(this,arguments)},e.makeThumbnail=function(e){return y.apply(this,arguments)},e.calcMatricsSize=L}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(49),c=function(){function e(){a()(this,e)}return o()(e,null,[{key:"getOffsetRectSize",value:function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=n*e/(o<=a?2*o:2*(n-o)),l=i*t/(s<=r?2*s:2*(i-s));return{width:c,height:l}}},{key:"getOffsetRect",value:function(t,n,i,a,r,o,c,l){var u,h,d,p,m=e.getOffsetRectSize(t,n,i,a,r,o,c,l),f=m.width,g=m.height,v=c/t,E=l/n,T=(i-c)/t,I=(a-l)/n,_=Math.min(v,E,T,I);return _===E&&(p=g,d=0,h=(u=t/2-c/i*(f=g*(i/a)))+f),_===I&&(d=(p=n)-g,h=(u=t/2-c/i*(f=g*(i/a)))+f),_===v&&(h=f,u=0,p=(d=n/2-l/a*(g=f*(a/i)))+g),_===T&&(u=(h=t)-f,p=(d=n/2-l/a*(g=f*(a/i)))+g),u>0&&(u=0),d>0&&(d=0),h<t&&(h=t),p<n&&(p=n),new s.a(u,d,h,p)}},{key:"getSizeByWidth",value:function(e,t,n){return{width:e,height:n*(e/t)}}},{key:"getSizeByHeight",value:function(e,t,n){return{width:t*(e/n),height:e}}},{key:"getCenterFixRect",value:function(t,n,i,a){var r;if(t<n)r=n/t<=a/i?e.getSizeByWidth(t,i,a):e.getSizeByHeight(n,i,a);else if(t>n){r=t/n<=i/a?e.getSizeByHeight(n,i,a):e.getSizeByWidth(t,i,a)}else r=i<=a?e.getSizeByWidth(t,i,a):e.getSizeByHeight(n,i,a);var o=t/2,c=n/2,l=r.width/2-o,u=r.height/2-c,h=Math.round(-l),d=Math.round(-u),p=Math.round(r.width-l),m=Math.round(r.height-u);return new s.a(h,d,p,m)}},{key:"getResizeBackgroundRectByNewPageSize",value:function(t,n,i){var a=i.getCenterPos(),r=t.width/2,o=t.height/2,s=a.x-r,c=a.y-o;i.move(Math.abs(i.left),Math.abs(i.top));var l=i.getCenterPos(),u=l.x-s,h=l.y-c;return e.getOffsetRect(n.width,n.height,i.getWidth(),i.getHeight(),l.x,l.y,u,h)}}]),e}()},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),(i||(i={})).isPrivateSvgItem=function(e){return e.isPrivate}},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n(35),a=n.n(i),r=n(39),o=n.n(r),s=n(38),c=n.n(s),l=n(44),u=n.n(l),h=n(40),d=n.n(h),p=n(37),m=n.n(p),f=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a()(this,t),n=o()(this,c()(t).call(this)),m()(u()(n),"commitAction",function(e,t,i){t.zoomScale=n.newZoomScale/t.pageEditScale,n.notUpdateScroll||i.canvasRenderer.updateScrollCenterOfCurrentPage(),t.pageController.getPageRenderer(e.pages[t.renderPageIdx]).updateHoverLayer()}),n.newZoomScale=e,n.notUpdateScroll=i,n}return d()(t,e),t}(n(45).d)},function(e,t,n){"use strict";n.d(t,"b",function(){return k}),n.d(t,"c",function(){return A}),n.d(t,"a",function(){return R}),n.d(t,"d",function(){return C}),n.d(t,"e",function(){return b});var i=n(73),a=n.n(i),r=n(39),o=n.n(r),s=n(38),c=n.n(s),l=n(44),u=n.n(l),h=n(40),d=n.n(h),p=n(0),m=n.n(p),f=n(1),g=n.n(f),v=n(35),E=n.n(v),T=n(36),I=n.n(T),_=n(37),y=n.n(_),L=n(45),O=n(42),S=n(54),P=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S.b.getSortedGroupItemsAddedArray(O.a.instance.activeItems.slice()),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.a.instance.renderPageIdx;E()(this,e),y()(this,"doSaveQueue",!0),y()(this,"isActionGroupEquals",function(e){return!1}),y()(this,"concat",function(e){return!1}),y()(this,"changeDesign",function(){return!0}),y()(this,"isLastSavedAction",!1),y()(this,"commit",function(e,n,i){t.saveOldItemList(e)}),y()(this,"rollback",function(){var e=g()(m.a.mark(function e(n,i,a){var r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=S.b.convertSinglesToItems(t.oldItemList),n.pages[t.pageIdx].setItems(r,!0),e.next=4,a.renderAuto(n,i);case 4:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),this.selectedItems=n,this.pageIdx=i}return I()(e,[{key:"recycle",value:function(){this.oldItemList=null}},{key:"saveOldItemList",value:function(e){var t=e.pages[this.pageIdx];this.oldItemList=t.getAllSingleItems().slice(0)}}]),e}(),k=function(e){function t(){var e,n;E()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=o()(this,(e=c()(t)).call.apply(e,[this].concat(a))),y()(u()(n),"actionType",L.a.LAYER_ALIGN_FIRST),y()(u()(n),"commit",function(){var e=g()(m.a.mark(function e(t,i,a){var r,o,s,c,l,u,h,d,p,f;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.saveOldItemList(t),r=t.pages[n.pageIdx],o=r.getAllSingleItems().slice(),s=0,c=n.selectedItems.length;case 4:if(!(s<c)){e.next=19;break}l=n.selectedItems[s],u=0,h=o.length;case 7:if(!(u<h)){e.next=16;break}if(d=o[u],l.tbpeId!==d.tbpeId){e.next=13;break}return p=o.splice(u,1),o.push(p[0]),e.abrupt("break",16);case 13:u++,e.next=7;break;case 16:s++,e.next=4;break;case 19:return f=S.b.convertSinglesToItems(o),r.setItems(f,!0),e.next=23,a.renderAuto(t,i);case 23:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),n}return d()(t,e),t}(P),A=function(e){function t(){var e,n;E()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=o()(this,(e=c()(t)).call.apply(e,[this].concat(a))),y()(u()(n),"actionType",L.a.LAYER_ALIGN_FORWARD),y()(u()(n),"commit",function(){var e=g()(m.a.mark(function e(t,i,a){var r,o,s,c,l,u,h,d,p,f,g,v,E,T,I,_,y;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.saveOldItemList(t),r=t.pages[n.pageIdx],o=r.getAllSingleItems().slice(),s=0,c=n.selectedItems.length;case 4:if(!(s<c)){e.next=25;break}l=n.selectedItems[c-1-s],u=null,h=0,d=o.length-1;case 9:if(!(d>=0)){e.next=22;break}if(p=o[d],l.tbpeId===p.tbpeId){e.next=16;break}return f=S.b.getRootGroup(p.groupId),(g=f?f.getGroupId():null)&&g===u?h++:(h=0,u=g),e.abrupt("continue",19);case 16:return v=o.length-1-s,d<v&&(E=1+h,T=o.splice(d+1+E),I=o.splice(d+1),_=o.splice(d),o=o.concat(I).concat(_).concat(T)),e.abrupt("break",22);case 19:d--,e.next=9;break;case 22:s++,e.next=4;break;case 25:return y=S.b.convertSinglesToItems(o),r.setItems(y,!0),e.next=29,a.renderAuto(t,i);case 29:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),n}return d()(t,e),t}(P),R=function(e){function t(){var e,n;E()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=o()(this,(e=c()(t)).call.apply(e,[this].concat(a))),y()(u()(n),"actionType",L.a.LAYER_ALIGN_BACKWARD),y()(u()(n),"commit",function(){var e=g()(m.a.mark(function e(t,i,a){var r,o,s,c,l,u,h,d,p,f,g,v,E,T,I,_,y,L,O;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.saveOldItemList(t),r=t.pages[n.pageIdx],o=r.getAllSingleItems().slice(),s=0,c=n.selectedItems.length;case 4:if(!(s<c)){e.next=24;break}l=n.selectedItems[s],u=null,h=0,d=0,p=o.length;case 9:if(!(d<p)){e.next=21;break}if(f=o[d],l.tbpeId===f.tbpeId){e.next=16;break}return g=S.b.getRootGroup(f.groupId),(v=g?g.getGroupId():null)&&v===u?h++:(h=0,u=v),e.abrupt("continue",18);case 16:return d>s&&(E=o.splice(d+1),T=o.splice(d),I=1+h,_=o.splice(d-I),o=o.concat(T).concat(_).concat(E)),e.abrupt("break",21);case 18:d++,e.next=9;break;case 21:s++,e.next=4;break;case 24:return(y=r.background.backgroundItem)&&o.length>1&&y.tbpeId!==o[0].tbpeId&&(L=o.indexOf(y),o.splice(L,1),o.unshift(y)),O=S.b.convertSinglesToItems(o),r.setItems(O,!0),e.next=30,a.renderAuto(t,i);case 30:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),n}return d()(t,e),t}(P),C=function(e){function t(){var e,n;E()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=o()(this,(e=c()(t)).call.apply(e,[this].concat(a))),y()(u()(n),"actionType",L.a.LAYER_ALIGN_LAST),y()(u()(n),"commit",function(){var e=g()(m.a.mark(function e(t,i,a){var r,o,s,c,l,u,h,d,p,f,g,v;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.saveOldItemList(t),r=t.pages[n.pageIdx],o=r.getAllSingleItems().slice(),s=0,c=n.selectedItems.length;case 4:if(!(s<c)){e.next=20;break}l=n.selectedItems[c-1-s],u=0,h=o.length;case 7:if(!(u<h)){e.next=17;break}if(d=o[u],l.tbpeId===d.tbpeId){e.next=11;break}return e.abrupt("continue",14);case 11:return p=o.splice(u,1),o=p.concat(o),e.abrupt("break",17);case 14:u++,e.next=7;break;case 17:s++,e.next=4;break;case 20:return(f=r.background.backgroundItem)&&(g=o.indexOf(f),o.splice(g,1),o.unshift(f)),v=S.b.convertSinglesToItems(o),r.setItems(v,!0),e.next=26,a.renderAuto(t,i);case 26:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),n}return d()(t,e),t}(P),b=function(e){function t(e,n){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return E()(this,t),i=o()(this,c()(t).call(this)),y()(u()(i),"actionType",L.a.LAYER_ALIGN_SWAP),y()(u()(i),"changeDesign",function(){return!0}),y()(u()(i),"doSaveQueue",!0),y()(u()(i),"lastIdxList",null),y()(u()(i),"targetIdxList",null),y()(u()(i),"selectedItems",O.a.instance.activeItems.slice()),y()(u()(i),"commit",function(){var e=g()(m.a.mark(function e(t,n,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.doSaveQueue){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i.commitAction(t,n,a);case 4:a.renderCanvas(t,n),a.renderLayer(t,n);case 6:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),y()(u()(i),"rollback",function(){var e=g()(m.a.mark(function e(t,n,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.rollbackAction(t,n,a);case 2:a.renderCanvas(t,n),a.renderLayer(t,n);case 4:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),y()(u()(i),"commitAction",function(){var e=g()(m.a.mark(function e(t,n,a){var r,o,s,c,l,u,h,d,p,f;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.targetIdx<=i.targetIdxOri?(r=t.pages[n.renderPageIdx],o=r.getAllSingleItems().slice(),s=o.splice(i.lastIdxList[i.lastIdxList.length-1]+1),c=o.splice(i.targetIdxList[0],i.targetIdxList.length),l=S.b.convertSinglesToItems(o.concat(c).concat(s)),r.setItems(l,!0)):(u=t.pages[n.renderPageIdx],h=u.getAllSingleItems().slice(),d=h.splice(i.targetIdxList[0],i.targetIdxList.length),p=h.splice(i.lastIdxList[0]),f=S.b.convertSinglesToItems(h.concat(d).concat(p)),u.setItems(f,!0));case 1:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),y()(u()(i),"rollbackAction",function(){var e=g()(m.a.mark(function e(t,n,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.switchSwapActionDirection(),i.commitAction(t,n,a),i.switchSwapActionDirection();case 3:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),y()(u()(i),"recycle",function(){i.selectedItems=null,i.lastIdxList=null,i.targetIdxList=null}),i.targetIdxOri=e,i.targetIdx=n,i.lastIdxList=a,i.targetIdxList=r,i.doSaveQueue=n!==e,i}return d()(t,e),I()(t,[{key:"switchSwapActionDirection",value:function(){var e=a()(this.targetIdxList);this.targetIdxList=this.lastIdxList,this.lastIdxList=e;var t=this.targetIdxOri;this.targetIdxOri=this.targetIdx,this.targetIdx=t}}]),t}(P)},function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(97),m=n(42),f=function(){function e(){c()(this,e),d()(this,"mockupList",[])}var t;return u()(e,null,[{key:"add",value:function(e){this.isUpdatable(e)&&(this.remove(e.idx),this.instance.mockupList.unshift(e))}},{key:"addIdx",value:(t=o()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.findOne(t);case 2:n=e.sent,this.add(n);case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"remove",value:function(e){var t=0,n=!0,i=!1,a=void 0;try{for(var r,o=this.instance.mockupList[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){if(r.value.idx===e){this.instance.mockupList.splice(t,1);break}t++}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}},{key:"getList",value:function(){return this.instance.mockupList}},{key:"clear",value:function(){this.instance.mockupList=[]}},{key:"isUpdatable",value:function(e){var t=m.a.instance;return t.env.adminMode||e.accountId===t.user.accountId}}]),e}();d()(f,"instance",new f)},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(37),a=n.n(i),r=n(35),o=n.n(r),s=n(36),c=n.n(s),l=function(){function e(t){o()(this,e);var n='<?xml version="1.0" encoding="utf-8"?><'.concat(t,"></").concat(t,">"),i=new DOMParser;this.xmldoc=i.parseFromString(n,"text/xml");var a=this.xmldoc.getElementsByTagName(t)[0];this.rootNode=new u(a)}return c()(e,[{key:"root",value:function(){return this.rootNode}}]),e}(),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o()(this,e),a()(this,"childXmlNodes",[]),this.node=t,this.parentXmlNode=n}return c()(e,[{key:"attr",value:function(e,t){this.node.hasAttribute(e)&&this.node.removeAttribute(e);var n=this.node.ownerDocument.createAttribute(e);return n.nodeValue=t,this.node.setAttributeNode(n),this}},{key:"attrNS",value:function(e,t,n){var i=this.node.ownerDocument.createAttributeNS(e,t);return i.nodeValue=n,this.node.setAttributeNodeNS(i),this}},{key:"elem",value:function(t){var n=this.node.ownerDocument.createElement(t);this.node.appendChild(n);var i=new e(n,this);return this.childXmlNodes.push(i),i}},{key:"text",value:function(e){return this.node.textContent=e,this}},{key:"comment",value:function(e){return this.node.ownerDocument.createComment(e),this}},{key:"close",value:function(){return this.parentXmlNode}},{key:"get",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=this.childXmlNodes[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(o.node.nodeName===e)return o}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return this.elem(e)}},{key:"setInnerHTML",value:function(e){throw new Error("svg innerHTML ie에서 동작 안함;")}},{key:"setChildNode",value:function(e){return this.node.appendChild(e),this}},{key:"getElement",value:function(){return this.node}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return E});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(39),c=n.n(s),l=n(38),u=n.n(l),h=n(40),d=n.n(h),p=n(37),m=n.n(p),f=n(63),g=n(41),v=n(157),E=function(e){function t(){return a()(this,t),c()(this,u()(t).call(this))}return d()(t,e),o()(t,[{key:"getContents",value:function(){var e=this,t=document.createElement("div");t.className=g.a.POPUP_LOADING;var n=document.createElement("div");return n.className=g.a.LOADING_WRAP,new v.a(n).show(),t.appendChild(n),this.msgElement=document.createElement("p"),t.appendChild(this.msgElement),this.btnElement=document.createElement("button"),this.btnElement.addEventListener("click",function(){e.btnCallback&&e.btnCallback(),e.close()}),t.appendChild(this.btnElement),t}},{key:"getId",value:function(){return"loadingPopup"}},{key:"updateUI",value:function(){this.msgElement.innerHTML=this.msg||"",this.btnElement.innerText=this.btnText||""}}],[{key:"open",value:function(e,t,n){this.instance.msg=e,this.instance.btnText=t,this.instance.btnCallback=n,this.instance.open()}},{key:"close",value:function(){this.instance.close()}}]),t}(f.a);m()(E,"instance",new E)},,function(e,t,n){"use strict";n.d(t,"a",function(){return T});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(39),c=n.n(s),l=n(38),u=n.n(l),h=n(40),d=n.n(h),p=n(37),m=n.n(p),f=n(63),g=n(41),v=n(3),E=n(43),T=function(e){function t(){return a()(this,t),c()(this,u()(t).call(this))}return d()(t,e),o()(t,[{key:"getContents",value:function(){var e=this,t=document.createElement("div");return t.className=g.a.POPUP_MSG,this.msgElement=document.createElement("p"),t.appendChild(this.msgElement),this.btnElement=document.createElement("button"),this.btnElement.addEventListener("click",function(){e.btnCallback&&e.btnCallback(),e.close()}),t.appendChild(this.btnElement),t}},{key:"getId",value:function(){return"msgPopup"}},{key:"updateUI",value:function(){var e=this;this.msgElement.innerHTML=this.msg||"",this.btnElement.innerText=this.btnText||"",this.btnElement.className="",this.classList.forEach(function(t){e.btnElement.classList.add(t)})}}],[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.CRM.get(E.a.TOOLS_POPUP_CONFIRM_BTN),n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];this.instance.msg=e,this.instance.btnText=t,this.instance.btnCallback=n,this.instance.classList=i,this.instance.open()}},{key:"close",value:function(){this.instance.close()}}]),t}(f.a);m()(T,"instance",new T)},,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(42),c=n(45),l=n(155),u=function(){function e(){a()(this,e)}return o()(e,null,[{key:"containsUnsupportedLicense",value:function(){var e=!1;return s.a.dispatch(new c.c(function(t){e=t.pages.some(function(e){return e.getAllSingleItems().some(function(e){return e.isUnsupportedLicense()})})})),e}},{key:"check",value:function(t,n,i){var a=new l.a;e.containsUnsupportedLicense()?(t!==l.b.NONE&&a.showFailedActionPopup(t),i&&i()):(a.hidePopup(),n())}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(177),m=n(178),f=n(41),g=n(57),v=n(3),E=n(157),T=n(179),I=function(){function e(t,n,i,a,r,o){c()(this,e),d()(this,"hasNextPage",!0),d()(this,"justifyRequire",!1),d()(this,"justifyForce",!1),this.requestAction=t,this.listToolInitParam=n,this.pageSize=i,this.paginationMode=a,this.listEmptyView=r,this.endRequsetAction=o,this.makeElement(),this.paginationParam={page:1,pageSize:i}}var t,n,i,r,s,l,h;return u()(e,[{key:"justifyList",value:(h=o()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.justifyRequire=!1,t=this.justifyForce,this.justifyForce=!1,this.scrollElement.setScrollY(0),e.next=6,this.listTool.justify(t);case 6:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"setJustifyRequire",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.justifyRequire=!0,this.justifyForce=e}},{key:"isJustifyRequire",value:function(){return this.justifyRequire}},{key:"makeElement",value:function(){var e=this;this.element=document.createElement("div"),this.element.className=f.a.PAGINATION_TOOL,this.scrollElement=new g.a(!1,!0,"100%"),this.listTool=new p.a(this.listToolInitParam.listItemRenderAction,this.listToolInitParam.justifyOption),this.element.appendChild(this.scrollElement.render(this.listTool.render())),this.pagination=new m.a(function(){var t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.paginationParam=n,t.next=3,e.doRequestAction();case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),this.pageSize),this.element.appendChild(this.pagination.render()),this.loadingUI=new E.a(this.element)}},{key:"render",value:function(){switch(this.paginationMode){case T.b.SCROLL:this.renderScrollMode();break;case T.b.BUTTON:this.renderButtonMode()}return this.element}},{key:"renderScrollMode",value:function(){var e=this,t=this.scrollElement.contents;$(t).off("scroll").on("scroll",o()(a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.scrollElement.hasScroll()&&t.scrollHeight-$(t).height()<t.scrollTop+1)){n.next=5;break}if(!e.hasNextPage){n.next=5;break}return e.paginationParam.page++,n.next=5,e.doRequestAction();case 5:case"end":return n.stop()}},n)}))),this.element.classList.remove(f.a.BUTTON_MODE)}},{key:"renderButtonMode",value:function(){$(this.scrollElement.contents).off("scroll"),this.element.classList.add(f.a.BUTTON_MODE)}},{key:"doRequestAction",value:(l=o()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.listTool.refreshWidthOption(),e.next=3,this.loadList();case 3:t=e.sent,this.renderEmptyListView(t.listItemParams.filter(function(e){return!e.extraData.isRecycleBin&&!e.extraData.isAddFolderBin}).length);case 5:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"loadList",value:(s=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.listEmptyView&&$(this.listEmptyView).remove(),1!==this.paginationParam.page&&this.paginationMode!==T.b.BUTTON||(this.listTool.clear(),this.scrollElement.setScrollY(0)),t=this.showLoadingBoxes(),e.next=5,this.requestAction(this.paginationParam);case 5:return n=e.sent,this.hasNextPage=!v.ArrayUtil.isEmpty(n.listItemParams)&&this.paginationParam.page*this.paginationParam.pageSize<n.totalRow,e.next=9,this.renderList(n.listItemParams,t);case 9:return e.next=11,this.checkScroll();case 11:return this.renderPagination(n.totalRow),this.endRequsetAction&&this.endRequsetAction(),this.loading(!1),e.abrupt("return",n);case 15:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"checkScroll",value:(r=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.paginationMode===T.b.SCROLL){e.next=2;break}return e.abrupt("return");case 2:if(!this.isElementVisible()||this.hasVerticalScroll()||!this.hasNextPage){e.next=6;break}return this.paginationParam.page++,e.next=6,this.loadList();case 6:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"isElementVisible",value:function(){return $(this.scrollElement.contents).is(":visible")}},{key:"hasVerticalScroll",value:function(){return this.scrollElement.contents.clientHeight<this.scrollElement.contents.scrollHeight}},{key:"initList",value:(i=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.paginationParam.page=1,this.hasNextPage=!0,e.next=4,this.doRequestAction();case 4:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"showLoadingBoxes",value:function(){return this.listTool.showLoadingBoxes(this.pageSize,this.listToolInitParam.justifyOption)}},{key:"renderList",value:(n=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listTool.updateUI({list:t,isAppend:!0,loadingBoxes:n});case 2:this.scrollElement.updateScrollbar();case 3:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"renderEmptyListView",value:function(e){this.listEmptyView&&(1===this.paginationParam.page&&0===e?this.element.appendChild(this.listEmptyView):$(this.listEmptyView).remove())}},{key:"renderPagination",value:function(e){this.pagination.render({page:this.paginationParam.page,pageSize:this.paginationParam.pageSize,totalRow:e})}},{key:"setPaginationMode",value:function(e){this.paginationMode=e,this.render()}},{key:"setListEmptyView",value:function(e){this.listEmptyView=e}},{key:"prependItem",value:(t=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(this.listEmptyView).remove(),e.next=3,this.listTool.prependItem(t);case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"setRecommendList",value:function(e){if(!this.recommendListTool){this.recommendListTool=new p.a(this.listToolInitParam.listItemRenderAction);var t=this.recommendListTool.render();t.classList.add(f.a.RECOMMEND_LIST),$(this.scrollElement.contents).prepend(t)}this.recommendListTool.updateUI({list:e})}},{key:"loading",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.element.classList.add(f.a.LOADING):this.element.classList.remove(f.a.LOADING)}}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(3),c=n(12),l=function(){function e(){a()(this,e)}return o()(e,null,[{key:"fadeInDisplay",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:700;n=t||"1",$(e).css("display","block").stop().delay(i).animate({opacity:n},0)}},{key:"fadeOutDisplay",value:function(e){$(e).stop().animate({opacity:"0"},0).css("display","none")}},{key:"addLayerOpenEventListener",value:function(e,t){var n="click.".concat(s.StringUtil.random());e.addEventListener("click",function(e){e.stopPropagation(),$(document.body).off(n).trigger("click");var i=$(t);i.toggle(),i.is(":visible")&&$(document.body).on(n,function(){i.hide()})}),t.addEventListener("click",function(e){e.stopPropagation()})}},{key:"makeInlineButton",value:function(e,t){var n=document.createElement("div");return n.className="inline_button",n.classList.add(e),Object(c.setToolsIcon)(n,t,!0),n}},{key:"makeMobileButton",value:function(e,t){var n=document.createElement("div");return n.innerText=t,n.className="mobile_button",n.classList.add(e),n}}]),e}()},,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=function(){function e(){c()(this,e)}var t,n,i;return u()(e,null,[{key:"init",value:(i=o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initIconElements();case 2:case"end":return t.stop()}},t)})),function(){return i.apply(this,arguments)})},{key:"initIconElements",value:(n=o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getSVGElementFromLocalFile(e.PATH_ICON_PDF);case 2:return e.pdfIcon=t.sent,t.next=5,e.getSVGElementFromLocalFile(e.PATH_ICON_JPG);case 5:return e.jpgIcon=t.sent,t.next=8,e.getSVGElementFromLocalFile(e.PATH_ICON_PNG);case 8:return e.pngIcon=t.sent,t.next=11,e.getSVGElementFromLocalFile(e.PATH_ICON_PNG_TRANSPARENT);case 11:e.pngTransparentIcon=t.sent;case 12:case"end":return t.stop()}},t)})),function(){return n.apply(this,arguments)})},{key:"getSVGElementFromLocalFile",value:(t=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=new XMLHttpRequest,i="".concat(window.location.origin).concat(t);n.open("GET",i,!0),n.overrideMimeType("image/svg+xml"),n.onload=function(){e(n.responseXML.documentElement)},n.send()}));case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"getClonedPDFIconElement",value:function(){return e.pdfIcon.cloneNode(!0)}},{key:"getClonedJPGIconElement",value:function(){return e.jpgIcon.cloneNode(!0)}},{key:"getClonedPNGIconElement",value:function(){return e.pngIcon.cloneNode(!0)}},{key:"getClonedPNGTransparentIconElement",value:function(){return e.pngTransparentIcon.cloneNode(!0)}}]),e}();d()(p,"PATH_ICON_PDF","/resources/image/printout_info/download_popup/image_file_type_pdf.svg"),d()(p,"PATH_ICON_JPG","/resources/image/printout_info/download_popup/image_file_type_jpg.svg"),d()(p,"PATH_ICON_PNG","/resources/image/printout_info/download_popup/image_file_type_png.svg"),d()(p,"PATH_ICON_PNG_TRANSPARENT","/resources/image/printout_info/download_popup/image_file_type_png_transparent.svg")},function(e,t,n){"use strict";n.d(t,"a",function(){return x});var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(35),l=n.n(c),u=n(36),h=n.n(u),d=n(39),p=n.n(d),m=n(44),f=n.n(m),g=n(38),v=n.n(g),E=n(46),T=n.n(E),I=n(40),_=n.n(I),y=n(37),L=n.n(y),O=n(3),S=n(42),P=n(129),k=n(128),A=n(77),R=n(55),C=n(279),b=n(48),w=n(76);!function(e){e.DEFAULT="DEFAULT",e.BY_TEMPLATE_IDX="BY_TEMPLATE_IDX",e.BY_DESIGNER_ID="BY_DESIGNER_ID"}(i||(i={}));var x=function(e){function t(e){var n;return l()(this,t),n=p()(this,v()(t).call(this)),L()(f()(n),"templateType",R.d.ALL_TYPE),L()(f()(n),"templateStatus",k.b.ACTIVE),L()(f()(n),"requestMode",i.DEFAULT),n.param=e,n.addFavoriteEvent(b.a.TEMPLATE),n}var n,a,o,c,u,d,m,g;return _()(t,e),h()(t,[{key:"setKeyword",value:function(e){this.keyword=e}},{key:"getKeyword",value:function(){return this.keyword}},{key:"setTemplateType",value:function(e){this.templateType=e}},{key:"getTemplateType",value:function(){return this.templateType}},{key:"setTemplateStatus",value:function(e){this.templateStatus=e}},{key:"loadList",value:(g=s()(r.a.mark(function e(n,i){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initRequestMode(),e.next=3,T()(v()(t.prototype),"loadList",this).call(this,n,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return g.apply(this,arguments)})},{key:"requestList",value:(m=s()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setGTMLibDataAuto(this.keyword),e.t0=this.requestMode,e.next=e.t0===i.BY_TEMPLATE_IDX?4:e.t0===i.BY_DESIGNER_ID?7:(e.t0,i.DEFAULT,10);break;case 4:return e.next=6,this.requestListByTemplateIdx(t);case 6:return e.abrupt("return",e.sent);case 7:return e.next=9,this.requestListByDesignerId(t);case 9:return e.abrupt("return",e.sent);case 10:return e.next=12,this.requestListDefault(t);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e,this)})),function(e){return m.apply(this,arguments)})},{key:"requestListDefault",value:(d=s()(r.a.mark(function e(t){var n,i,a,o,s,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.getList(t);case 2:if(n=e.sent,i=this.makeListItems(n.list),a={items:i,totalRow:n.pagination.totalRow},i.length>0)try{o=this.getGTMLibData(),s=o.listTitle,c=o.category,w.a.sendImpressions({items:i,category:c,listTitle:s,pageNo:t.page,pageSize:t.pageSize})}catch(e){}return e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"requestListByDesignerId",value:(u=s()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.getList(t);case 2:return n=e.sent,e.next=5,this.makeListItems(n.list);case 5:return e.t0=e.sent,e.t1=n.pagination.totalRow,e.abrupt("return",{items:e.t0,totalRow:e.t1});case 8:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"requestListByTemplateIdx",value:(c=s()(r.a.mark(function e(t){var n,i,a=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={items:[],totalRow:0},isNaN(t.templateIdx)){e.next=6;break}return e.next=4,k.a.findOne(t.templateIdx);case 4:null!=(i=e.sent).templateTypeList.find(function(e){return a.templateType.id===e.id})&&(n.items=i?this.makeListItems([i]):[],n.totalRow=n.items.length);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"getRequestParam",value:function(e){switch(this.requestMode){case i.BY_TEMPLATE_IDX:return{templateIdx:Number(this.keyword.substr(1))};case i.BY_DESIGNER_ID:var t=this.keyword.substr(1);return{page:e.page,pageSize:e.pageSize,status:this.templateStatus,creatorEmail:t+P.a.ADMIN_EMAIL_DOMAIN,templateTypeId:this.templateType?this.templateType.id:""};case i.DEFAULT:default:return{page:e.page,pageSize:e.pageSize,status:S.a.getEnv().adminMode?this.templateStatus:k.b.ACTIVE,keyword:this.keyword,templateTypeId:this.templateType?this.templateType.id:""}}}},{key:"initRequestMode",value:function(){if(!S.a.getEnv().adminMode||O.StringUtil.isEmpty(this.keyword))this.requestMode=i.DEFAULT;else switch(this.keyword.charAt(0)){case"#":this.requestMode=i.BY_TEMPLATE_IDX;break;case"@":this.requestMode=i.BY_DESIGNER_ID;break;default:this.requestMode=i.DEFAULT}}},{key:"setGTMLibDataAuto",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="템플릿>",n=this.templateType.title,i=this.templateType.groupTitle;i?(t+="".concat(i,">").concat(n),n="".concat(i," ").concat(n)):t+=n,e&&(n+=":검색:".concat(e));var a="템플릿 > ".concat(n);this.setGTMLibData({listTitle:a,category:t,keyword:e})}},{key:"setGTMLibDataForce",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setGTMLibDataAuto(e)}},{key:"isMultiType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.templateType;return!e||e.id===R.d.ALL_TYPE.id}},{key:"loadMultiTypeList",value:(o=s()(r.a.mark(function e(n){var i,a,o,s,c,l,u,h,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!O.StringUtil.isEmpty(this.keyword),a=[],o=0,!i){e.next=14;break}return s=C.a.MAX_ROWS+1,e.next=7,k.a.getList({page:1,pageSize:s,status:k.b.ACTIVE,keyword:this.keyword,templateTypeId:n.id});case 7:return c=e.sent,e.next=10,this.makeListItems(c.list);case 10:a=e.sent,o=c.pagination.totalRow,e.next=30;break;case 14:return e.next=16,this.loadMultiTypeListDataMap();case 16:if(l=e.sent,!(u=l.get(n.id))){e.next=30;break}d=t.getColsByTemplateType(n),e.t0=d,e.next=1===e.t0?23:2===e.t0?25:3===e.t0?25:27;break;case 23:return h=2,e.abrupt("break",28);case 25:return h=1,e.abrupt("break",28);case 27:throw new Error("잘못된 열 개수");case 28:a=u.items.slice(0,d*h),o=a.length;case 30:return a.forEach(function(e){return e.setTemplateType(n)}),e.abrupt("return",{items:a,totalRow:o});case 32:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"loadMultiTypeListDataMap",value:(a=s()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.multiTypeListDataMap){e.next=7;break}return e.next=3,k.a.getListAllType({pageSize:4,status:this.templateStatus});case 3:return t=e.sent,e.next=6,this.makeMultiTypeDataMap(t.list);case 6:this.multiTypeListDataMap=e.sent;case 7:return e.abrupt("return",this.multiTypeListDataMap);case 8:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"makeMultiTypeDataMap",value:(n=s()(r.a.mark(function e(t){var n,i,a,o,s,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=this.makeListItems(t),i=new Map,t.forEach(function(e){i.has(e.templateTypeId)||i.set(e.templateTypeId,{items:[],totalRow:0})}),a=0,o=t.length;a<o;a++)s=t[a].templateTypeId,(c=i.get(s)).totalRow++,c.items.push(n[a]);return e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"makeListItems",value:function(e){var t=this;return e.map(function(e){return t.param.makeListItem(e)})}},{key:"getLibType",value:function(){return A.b.TEMPLATE}}],[{key:"getColsByTemplateType",value:function(e){return isNaN(e.width)||isNaN(e.height)?-1:this.getColsByRatio(e.width/e.height)}},{key:"getColsByRatio",value:function(e){return e>2.5?1:e>1?2:1===e?2:e>=.45?2:e>=.3?3:e>=.2?4:5}}]),t}(A.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return D});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(44),g=n.n(f),v=n(40),E=n.n(v),T=n(37),I=n.n(T),_=n(61),y=n(42),L=n(154),O=n(41),S=n(148),P=n(182),k=n(57),A=n(177),R=n(157),C=n(3),b=n(98),w=n(12),x=n(360),N=n(162),D=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c()(this,t),e=d()(this,m()(t).call(this)),I()(g()(e),"resourceListRenderers",[]),I()(g()(e),"waitQueue",[]),I()(g()(e),"withParam",!1),I()(g()(e),"lock",!1),e.makeButton=i,e.makeElement(),e.setResourceListRenderers(n),e}var n,i;return E()(t,e),u()(t,[{key:"setResourceListRenderers",value:function(e){var t=this;this.resourceListRenderers.forEach(function(e){return e.removeElement()}),this.resourceListRenderers=[],e.forEach(function(e){var n=new M(e);t.resourceListRenderers.push(n),t.contentsElement.appendChild(n.element)})}},{key:"makeButtonUsingMyImage",value:function(){var e=document.createElement("div");e.className="contents_button",Object(w.setToolsIcon)(e,w.ToolsIcon.ADD_PHOTO_OUTLINE);var t=document.createElement("div");return t.className="buttons_label",t.innerText="내 이미지 사용",e.appendChild(t),e.addEventListener("click",function(){N.a.instance.btnLoadClickEvent()}),e}},{key:"makeElement",value:function(){var e=this;this.element=document.createElement("div"),this.element.className=O.a.MULTI_TYPE_RESOURCE_LIST_TOOL,this.scrollElement=new k.a(!1,!0,"100%");var t=document.createElement("div");this.contentsElement=document.createElement("div"),this.makeButton&&t.appendChild(this.makeButtonUsingMyImage()),t.appendChild(this.contentsElement),this.element.appendChild(this.scrollElement.render(t)),this.scrollElement.contents.addEventListener("scroll",o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.loadWaitQueue());case 1:case"end":return t.stop()}},t)}))),this.loadingUI=new R.a(this.element),this.emptyListView=b.a.makeEmptyListView()}},{key:"render",value:function(){return this.element}},{key:"loadList",value:(i=o()(a.a.mark(function e(){var t,n,i=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]&&i[0],$(this.emptyListView).remove(),this.resourceListRenderers.forEach(function(e){return e.hide().clear()}),this.setSearchMode(t),this.waitQueue=this.resourceListRenderers.slice(),e.next=7,this.loadWaitQueue();case 7:return n=e.sent,this.checkListEmpty(),this.loadingUI.hide(),e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"getRenderedTotalRows",value:function(){return this.resourceListRenderers.reduce(function(e,t){return e+t.getTotalRow()},0)}},{key:"loadWaitQueue",value:(n=o()(a.a.mark(function e(){var t,n,i,r=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.lock&&!C.ArrayUtil.isEmpty(this.waitQueue)){e.next=3;break}return e.abrupt("return",t);case 3:this.lock=!0;case 4:if(C.ArrayUtil.isEmpty(this.waitQueue)){e.next=22;break}if(n=this.waitQueue.shift(),this.checkRendererVisible(n)){e.next=9;break}return this.waitQueue.unshift(n),e.abrupt("break",22);case 9:return e.prev=9,e.next=12,n.loadList(this.withParam,function(){return r.scrollElement.updateScrollbar()});case 12:(i=e.sent)&&i.forEach(function(e){return t.push(e)}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(9),console.error(e.t0),n.hide().clear();case 20:e.next=4;break;case 22:return this.lock=!1,e.abrupt("return",t);case 24:case"end":return e.stop()}},e,this,[[9,16]])})),function(){return n.apply(this,arguments)})},{key:"checkRendererVisible",value:function(e){var t=$(e.element.parentElement).children(":not(.hide)");if(0===t.length)return!0;var n=t.last(),i=this.scrollElement.contents;return i.scrollTop+i.clientHeight>=n.position().top+n.height()}},{key:"setSearchMode",value:function(e){this.withParam=e,e?this.element.classList.add(O.a.SEARCH_MODE):this.element.classList.remove(O.a.SEARCH_MODE)}},{key:"checkListEmpty",value:function(){if(C.ArrayUtil.isEmpty(this.waitQueue)){var e=!0,t=!1,n=void 0;try{for(var i,a=this.resourceListRenderers[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){if(!i.value.isHidden())return}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}this.element.appendChild(this.emptyListView)}}}]),t}(L.a);I()(D,"MAX_ROWS",40);var M=function(){function e(t){c()(this,e),I()(this,"hidden",!0),this.param=t,this.makeElement()}var t,n;return u()(e,[{key:"makeElement",value:function(){this.element=document.createElement("div"),this.element.className="".concat(O.a.MULTI_TYPE_ITEM," ").concat(O.a.HIDE),this.makeHeader(),this.makeList(),this.makeFooter()}},{key:"makeHeader",value:function(){var e=document.createElement("div");e.className=O.a.HEADER,e.appendChild(this.makeTitle()),e.appendChild(this.makeBtnMoveDetail()),this.element.appendChild(e)}},{key:"makeTitle",value:function(){var e=document.createElement("span");return e.innerText=this.param.title,e.className=O.a.TITLE,e}},{key:"makeBtnMoveDetail",value:function(){var e=this,t=document.createElement("span");return t.innerText="더보기",t.className=O.a.BTN_MORE,Object(w.setToolsIcon)(t,w.ToolsIcon.GREATER_THAN,!0),t.addEventListener("click",function(){return e.param.moveDetail()}),t}},{key:"makeList",value:function(){var e=this;this.listTool=new A.a(function(t){var n=t.render();t instanceof x.a&&n.classList.add(O.a.SHORT);var i=t.getThumbUrlList();return!C.ArrayUtil.isEmpty(i)&&i.length>1&&$(n).off("click").on("click",function(){$(e.subPagesTool.element).remove(),n.classList.contains(O.a.SUB_PAGE_OPENED)?n.classList.remove(O.a.SUB_PAGE_OPENED):($(n.parentElement).children(".".concat(O.a.SUB_PAGE_OPENED)).removeClass(O.a.SUB_PAGE_OPENED),n.classList.add(O.a.SUB_PAGE_OPENED),e.subPagesTool.updateUI({listItem:t,cols:e.param.simpleLayoutOption?e.param.simpleLayoutOption.cols:void 0}),e.listTool.insertElement(e.subPagesTool.element,P.a.getNextLineLiIdx(n)))}),n},this.param.justifyOption),this.element.appendChild(this.listTool.render()),this.param.simpleLayoutOption&&this.listTool.element.setAttribute("data-cols",String(this.param.simpleLayoutOption.cols)),this.subPagesTool=new P.a(function(e,t){var n=e.listItemData.dropEventKey,i=_.b.getDesignParam(n,e.listItemData.myCollectionPk.repositoryType);y.a.dispatch(new S.a(i,t))}),this.subPagesTool.render()}},{key:"makeFooter",value:function(){var e=document.createElement("div");e.className=O.a.FOOTER,e.appendChild(this.makeBtnMoveDetail()),this.element.appendChild(e)}},{key:"loadList",value:(n=o()(a.a.mark(function e(t,n){var i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clear().show(),this.element.classList.add(O.a.HIDDEN_HEADER),i=this.listTool.showLoadingBoxes(D.MAX_ROWS,this.param.justifyOption),n(),!t){e.next=10;break}return e.next=7,this.param.getListWithKeyword();case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,this.param.getList();case 12:e.t0=e.sent;case 13:return this.resData=e.t0,e.next=16,this.render(t,i);case 16:return n(),e.abrupt("return",this.resData.items);case 18:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"render",value:(t=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.resData.totalRow>D.MAX_ROWS?this.element.classList.add(O.a.HAS_MORE):this.element.classList.remove(O.a.HAS_MORE),C.ArrayUtil.isEmpty(this.resData.items)&&this.hide(),this.element.classList.remove(O.a.HIDDEN_HEADER),e.next=5,this.listTool.updateUI({list:C.ArrayUtil.isEmpty(this.resData.items)?[]:this.resData.items.slice(0,D.MAX_ROWS),loadingBoxes:n,maxRowsJustified:t?-1:this.param.maxRowsJustified,preventJustify:!t&&this.param.preventJustifyWithoutKeyword});case 5:return e.abrupt("return",this.element);case 6:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"clear",value:function(){return this.resData={items:[],totalRow:0},this.listTool.clear(),this}},{key:"hide",value:function(){return this.hidden=!0,this.element.classList.add(O.a.HIDE),this}},{key:"show",value:function(){return this.hidden=!1,this.element.classList.remove(O.a.HIDE),this}},{key:"isHidden",value:function(){return this.hidden}},{key:"removeElement",value:function(){return $(this.element).remove(),this}},{key:"getTotalRow",value:function(){return null!=this.resData?this.resData.totalRow:0}}]),e}()},function(e,t,n){"use strict";n.d(t,"b",function(){return k}),n.d(t,"e",function(){return A}),n.d(t,"a",function(){return C}),n.d(t,"c",function(){return w}),n.d(t,"d",function(){return x});var i=n(36),a=n.n(i),r=n(0),o=n.n(r),s=n(1),c=n.n(s),l=n(35),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(44),g=n.n(f),v=n(40),E=n.n(v),T=n(37),I=n.n(T),_=n(45),y=n(42),L=n(56),O=n(140),S=n(105),P=n(227),k=function(e){function t(e,n,i){var a;return u()(this,t),a=d()(this,m()(t).call(this)),I()(g()(a),"doSaveQueue",!1),I()(g()(a),"actionType",_.a.TEXT_CHANGE),I()(g()(a),"commitAction",function(){var e=c()(o.a.mark(function e(t,n,i){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.skipAction){e.next=2;break}return e.abrupt("return");case 2:L.a.selectItem(a.gridItem),n.pageController.getItemRenderer(a.gridItem).toggleEditMode(a.offsetX,a.offsetY);case 5:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(a),"rollbackAction",function(e,t,n){}),I()(g()(a),"recycle",function(){a.gridItem=null}),a.offsetX=n,a.offsetY=i,a.gridItem=e,a.skipAction=null===e.positionTool.getCell(n,i),a.skipAction||y.a.dispatch(new P.a(e,n,i,n,i,!1,!1)),a}return E()(t,e),t}(O.a),A=function(e){function t(e){var n,i;u()(this,t),n=d()(this,m()(t).call(this)),I()(g()(n),"deleted",[]),I()(g()(n),"selectedCells",[]),I()(g()(n),"doSaveQueue",!0),I()(g()(n),"actionType",_.a.TEXT_CHANGE),I()(g()(n),"commitAction",function(){var e=c()(o.a.mark(function e(t,i,a){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.selectedCells.forEach(function(e){return e.textProps.setText("")});case 1:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(e,t,i){n.selectedCells.forEach(function(e,t){return e.textProps.setText(n.deleted[t])})}),I()(g()(n),"recycle",function(){n.gridItem=null,n.deleted=[],n.selectedCells=[]}),n.gridItem=e;for(var a=0;a<e.row;a++)for(var r=0;r<e.col;r++)(i=e.cells[a][r]).selected&&(n.selectedCells.push(i),n.deleted.push(i.textProps.getText()));return n}return E()(t,e),t}(O.a),R=function e(t,n){var i=this;u()(this,e),I()(this,"stoppoint",!1),I()(this,"doSaveQueue",!0),I()(this,"changeDesign",function(){return!0}),I()(this,"isLastSavedAction",!1),I()(this,"isActionGroupEquals",function(t){return t instanceof e&&!(i.stoppoint||t.stoppoint)&&t.editingCell===i.editingCell}),I()(this,"actionType",_.a.TEXT_CHANGE),I()(this,"commit",function(){var e=c()(o.a.mark(function e(t,n,a){var r,s,c,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i.commitAction(t,n),r=i.gridItem.adjustRowThickness(i.editingCell.row),s=i.gridItem.adjustColThickness(i.editingCell.col),!r&&!s){e.next=10;break}i.gridItem.adjustSize(),a.renderHandler(t,n),a.renderCanvas(t,n,[i.gridItem]),i.isUpdateThickness=!0,e.next=19;break;case 10:return i.gridItem.zoomScale=n.zoomScale,c=n.pageController.getItemRenderer(i.gridItem),l=c.getCellRenderers(i.editingCell),e.next=15,l.updateText(i.gridItem.lastRenderEditScale);case 15:i.gridItem.zoomScale=1,i.gridItem.adjustSize(),a.renderHandler(t,n),i.isUpdateThickness=!1;case 19:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(this,"rollback",function(){var e=c()(o.a.mark(function e(t,n,a){var r,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.rollbackAction(t,n),i.gridItem.zoomScale=n.zoomScale,r=n.pageController.getItemRenderer(i.gridItem),s=r.getCellRenderers(i.editingCell),e.next=6,s.updateText(i.gridItem.lastRenderEditScale);case 6:i.gridItem.zoomScale=1,i.gridItem.adjustSize(),a.renderHandler(t,n),i.isUpdateThickness&&a.renderCanvas(t,n,[i.gridItem]);case 10:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(this,"concat",function(e){return!1}),I()(this,"commitAction",function(e,t){i.bleft=i.editingCell.textProps.getLeft(),i.btop=i.editingCell.textProps.getTop(),i.bright=i.editingCell.textProps.getRight(),i.bbottom=i.editingCell.textProps.getBottom(),i.rowThickness=i.gridItem.rows[i.editingCell.row].thickness,i.colThickness=i.gridItem.cols[i.editingCell.col].thickness,i.commitTextAction(e,t)}),I()(this,"rollbackAction",function(e,t){i.rollbackTextAction(e,t),i.editingCell.textProps.setLeft(i.bleft),i.editingCell.textProps.setTop(i.btop),i.editingCell.textProps.setRight(i.bright),i.editingCell.textProps.setBottom(i.bbottom),i.gridItem.rows[i.editingCell.row].thickness=i.rowThickness,i.gridItem.cols[i.editingCell.col].thickness=i.colThickness}),I()(this,"recycle",function(){i.gridItem=null,i.recycleText()}),this.gridItem=t,this.editingCell=n},C=function(e){function t(e,n,i){var a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];u()(this,t),(a=d()(this,m()(t).call(this,e,e.editingCell))).stoppoint=r,a.gridItem=e;var o=Object(S.d)(n,i),s=o.firstSel,c=o.lastSel;return a.startPos=Object.assign({},s),a.endPos=Object.assign({},c),a.props=a.gridItem.editingCell.textProps,a}return E()(t,e),a()(t,[{key:"commitTextAction",value:function(e,t){this.deleted=this.props.deleteText(this.startPos,this.endPos)}},{key:"rollbackTextAction",value:function(e,t){this.props.insertText(this.startPos,this.deleted),t.pageController.getItemRenderer(this.gridItem).elements.editElement.selectByPos(this.startPos.row,this.startPos.col,this.endPos.row,this.endPos.col)}},{key:"recycleText",value:function(){this.startPos=null,this.endPos=null,this.deleted=null}}]),t}(R),b=function(e){function t(e,n){var i;return u()(this,t),i=d()(this,m()(t).call(this,e,e.editingCell)),I()(g()(i),"isActionGroupEquals",function(e){return e instanceof R&&(!i.stoppoint&&!e.stoppoint&&(e.editingCell===i.editingCell&&(!i.text||-1===i.text.indexOf("\n"))))}),i.text=n,i}return E()(t,e),t}(R),w=function(e){function t(e,n,i){var a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return u()(this,t),(a=d()(this,m()(t).call(this,e,i))).stoppoint=r,a.gridItem=e,a.startPos=Object.assign({},n),a.props=a.gridItem.editingCell.textProps,a}return E()(t,e),a()(t,[{key:"commitTextAction",value:function(e,t){this.endPos=this.props.insertText(this.startPos,this.text)}},{key:"rollbackTextAction",value:function(e,t){this.props.deleteText(this.startPos,this.endPos),t.pageController.getItemRenderer(this.gridItem).elements.editElement.selectByPos(this.startPos.row,this.startPos.col,this.startPos.row,this.startPos.col)}},{key:"recycleText",value:function(){this.startPos=null,this.endPos=null}}]),t}(b),x=function(e){function t(e,n,i,a){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return u()(this,t),(r=d()(this,m()(t).call(this,e,a))).stoppoint=o,r.startPos=Object.assign({},n),r.endPos=Object.assign({},i),r.props=r.gridItem.editingCell.textProps,r}return E()(t,e),a()(t,[{key:"commitTextAction",value:function(e,t){this.beforeReplace=this.props.deleteText(this.startPos,this.endPos);var n=Object(S.d)(this.startPos,this.endPos).firstSel;this.deleteEndPos=this.props.insertText(n,this.text)}},{key:"rollbackTextAction",value:function(e,t){var n=Object(S.d)(this.startPos,this.endPos).firstSel;this.props.deleteText(n,this.deleteEndPos),this.beforeReplace&&this.props.insertText(n,this.beforeReplace),t.pageController.getItemRenderer(this.gridItem).elements.editElement.selectByPos(this.startPos.row,this.startPos.col,this.endPos.row,this.endPos.col)}},{key:"recycleText",value:function(){this.startPos=null,this.endPos=null,this.deleteEndPos=null,this.beforeReplace=null}}]),t}(b)},function(e,t,n){"use strict";var i,a,r;n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),(a=i||(i={})).isLeftKey=function(e){return e===r.ARROW_LEFT||"Left"===e},a.isRightKey=function(e){return e===r.ARROW_RIGHT||"Right"===e},a.isUpKey=function(e){return e===r.ARROW_UP||"Up"===e},a.isDownKey=function(e){return e===r.ARROW_DOWN||"Down"===e},function(e){e.ARROW_LEFT="ArrowLeft",e.ARROW_UP="ArrowUp",e.ARROW_RIGHT="ArrowRight",e.ARROW_DOWN="ArrowDown",e.SPACE_BAR=" ",e.ENTER="Enter",e.HOME="Home",e.END="End",e.PAGE_UP="PageUp",e.PAGE_DOWN="PageDown",e.ESC="Escape"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"b",function(){return L});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(44),g=n.n(f),v=n(40),E=n.n(v),T=n(37),I=n.n(T),_=n(45),y=function(e){function t(e,n){var i;return c()(this,t),i=d()(this,m()(t).call(this)),I()(g()(i),"doSaveQueue",!0),I()(g()(i),"actionType",_.a.LAYER_NAME_EDIT),I()(g()(i),"changeDesign",function(){return!1}),I()(g()(i),"commitAction",function(){var e=o()(a.a.mark(function e(t,n,r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.setName(t,n,i.newName),r.renderLayer(t,n);case 2:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(i),"rollbackAction",function(e,t,n){i.setName(e,t,i.lastName),n.renderLayer(e,t)}),I()(g()(i),"recycle",function(){}),i.targetKey=e,i.newName=n,i}return E()(t,e),u()(t,[{key:"setName",value:function(e,t,n){var i=this,a=e.pages[t.renderPageIdx];if(a.background.getItemKey()!==this.targetKey){var r=a.getAllSingleItems().find(function(e){return e.getItemKey()===i.targetKey});r&&(r.layerName=n)}else a.background.layerName=n}}]),t}(_.b),L=function(e){function t(){var e,n;c()(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=d()(this,(e=m()(t)).call.apply(e,[this].concat(r))),I()(g()(n),"actionType",_.a.ONE_TIME),I()(g()(n),"doSaveQueue",!1),I()(g()(n),"renderAuto",!1),I()(g()(n),"changeDesign",function(){return!1}),I()(g()(n),"commitAction",function(){var e=o()(a.a.mark(function e(t,n,i){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.rightSection.layerToolManager.toggleLayerToolboxEvent(),e.next=3,i.renderAppHeader(t,n);case 3:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),I()(g()(n),"rollbackAction",function(){}),I()(g()(n),"recycle",function(){}),n}return E()(t,e),t}(_.b)},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return l});var i,a,r=n(35),o=n.n(r),s=n(37),c=n.n(s);!function(e){e.NONE="NONE",e.STAND_SIGN="입간판"}(i||(i={})),function(e){e.NONE="NONE",e.SMALL="소",e.MEDIUM="중",e.LARGE="대"}(a||(a={}));var l=function e(){o()(this,e),c()(this,"name",i.NONE),c()(this,"size",a.NONE)}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return m});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(374),m=function(){function e(t){c()(this,e),d()(this,"memberRenderers",[]),this.item=t}var t,n;return u()(e,[{key:"initMemberRenderers",value:function(t){var n=this;this.memberRenderers=[],this.item.getMembers().forEach(function(i){var a=t.find(function(e){return!!e.getMatchedRenderer(i)});a||(a=p.a.getItemRenderer(i))instanceof e&&a.initMemberRenderers(t),n.memberRenderers.push(a)})}},{key:"getMemberRenderers",value:function(){return this.memberRenderers}},{key:"clearMemberRenderers",value:function(){this.memberRenderers=[]}},{key:"renderAutoAsync",value:(n=o()(a.a.mark(function e(t){var n,i,r=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],i=[],this.memberRenderers.forEach(function(){var e=o()(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,r.renderAutoAsync(t,n);case 3:e.t1=e.sent,i=e.t0.concat.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"renderLiveEdit",value:(t=o()(a.a.mark(function e(t,n){var i,r,s=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],r=[],this.memberRenderers.forEach(function(){var e=o()(a.a.mark(function e(o){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,o.renderLiveEdit(t,n,i);case 3:e.t1=e.sent,r=e.t0.concat.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"getMatchedRenderer",value:function(e){if(e===this.item)return this;var t=this.getMemberRenderers(),n=!0,i=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value.getMatchedRenderer(e);if(s)return s}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return null}}]),e}()},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(59),d=n(51),p=n(3),m=n(43),f=function(){function e(){c()(this,e)}var t,n;return u()(e,null,[{key:"init",value:(n=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadInvalidItemViewImage();case 2:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"loadInvalidItemViewImage",value:(t=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.b.setUrlImage(d.a.DISABLED_ORIGIN_ITEM,p.CRM.get(m.a.EDITOR_RESOURCE_PATH_DISABLED_ORIGIN_ITEM));case 2:return e.next=4,h.b.setUrlImage(d.a.NOT_FOUND_ORIGIN_ITEM,p.CRM.get(m.a.EDITOR_RESOURCE_PATH_NOT_FOUND_ORIGIN_ITEM));case 4:return e.next=6,h.b.setUrlImage(d.a.DISABLED_ORIGIN_ITEM_BACKGROUND,p.CRM.get(m.a.EDITOR_RESOURCE_PATH_DISABLED_ORIGIN_ITEM_BACKGROUND));case 6:return e.next=8,h.b.setUrlImage(d.a.DISABLED_ORIGIN_USER_RESOURCE,p.CRM.get(m.a.EDITOR_RESOURCE_PATH_DISABLED_USER_IMAGE));case 8:return e.next=10,h.b.setUrlImage(d.a.RESOURCE_FETCH_ERROR,p.CRM.get(m.a.EDITOR_RESOURCE_PATH_FETCH_ERROR));case 10:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})}]),e}()},,function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(42),m=n(3),f=n(43),g=n(39),v=n.n(g),E=n(38),T=n.n(E),I=n(40),_=n.n(I),y=n(63),L=n(41),O=function(e){function t(e){var n;return c()(this,t),(n=v()(this,T()(t).call(this))).id="warningPopup",n.wrap=document.createElement("div"),n.confirmBtn=document.createElement("div"),n.confirmListener=e.confirmListener,n.initDom(e),n.initEvent(),n}return _()(t,e),u()(t,[{key:"initEvent",value:function(){var e=this;this.confirmListener&&this.confirmBtn.addEventListener("click",function(){return e.confirmListener()})}},{key:"initDom",value:function(e){this.wrap.className=L.a.POPUP_WARNING;var t=document.createElement("div");t.className=L.a.POPUP_WARNING_ICON_WRAP;var n=document.createElement("img");n.onload=function(){t.appendChild(n)},n.src="/resources/image/common/warning.png",this.wrap.appendChild(t);var i=document.createElement("div");i.className=L.a.POPUP_WARNING_TITLE,i.innerHTML=e.title,this.wrap.appendChild(i);var a=document.createElement("div");a.className=L.a.POPUP_WARNING_SUB_TITLE,a.innerHTML=e.subtitle||"",this.wrap.appendChild(a),this.confirmBtn.innerHTML=e.confirmBtnText||"확인",this.confirmBtn.className=L.a.POPUP_WARNING_BTN_CONFIRM;var r=document.createElement("div");r.className=L.a.POPUP_WARNING_BTN_WRAP,r.appendChild(this.confirmBtn),this.wrap.appendChild(r)}},{key:"getContents",value:function(){return this.wrap}},{key:"getId",value:function(){return this.id}},{key:"updateUI",value:function(){}}]),t}(y.a),S=function(e){function t(e){var n;return c()(this,t),(n=v()(this,T()(t).call(this))).id="localDownloadFailruePopup",n.wrap=document.createElement("div"),n.confirmBtn=document.createElement("div"),n.confirmListener=e.confirmListener,n.initDom(e),n.initEvent(),n}return _()(t,e),u()(t,[{key:"initEvent",value:function(){var e=this;this.confirmListener&&this.confirmBtn.addEventListener("click",function(){return e.confirmListener()})}},{key:"initDom",value:function(e){this.wrap.className=L.a.POPUP_WARNING;var n=document.createElement("div");n.className=L.a.POPUP_WARNING_ICON_WRAP;var i=document.createElement("img");i.onload=function(){n.appendChild(i)},i.src="/resources/image/common/warning.png",this.wrap.appendChild(n);var a=document.createElement("div");a.className=L.a.POPUP_WARNING_TITLE,a.innerHTML=e.title,this.wrap.appendChild(a);var r=document.createElement("div");r.className=L.a.POPUP_WARNING_SUB_TITLE,r.innerHTML=e.subTitle,this.wrap.appendChild(r);var o=document.createElement("div");o.className="description";var s=!0,c=!1,l=void 0;try{for(var u,h=function(){var e=u.value,n=void 0;e.url?((n=t.createChromeLink(e.url)).classList.add("has_url"),n.addEventListener("mouseenter",function(){n.classList.add("hover")}),n.addEventListener("mouseleave",function(){n.classList.remove("hover")}),t.addText(n,e.message,e.lineBreak),o.appendChild(n)):t.addText(o,e.message,e.lineBreak)},d=e.texts[Symbol.iterator]();!(s=(u=d.next()).done);s=!0)h()}catch(e){c=!0,l=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}this.wrap.appendChild(o),this.confirmBtn.innerHTML=e.confirmBtnText||"확인",this.confirmBtn.className=L.a.POPUP_WARNING_BTN_CONFIRM;var p=document.createElement("div");p.className=L.a.POPUP_WARNING_BTN_WRAP,p.appendChild(this.confirmBtn),this.wrap.appendChild(p)}},{key:"getContents",value:function(){return this.wrap}},{key:"getId",value:function(){return this.id}},{key:"updateUI",value:function(){}}],[{key:"createChromeLink",value:function(e){var t=document.createElement("a");return t.target="_blank",t.href=e,t}},{key:"addText",value:function(e,t,n){var i=document.createTextNode(m.CRM.get(t));if(e.appendChild(i),n){var a=document.createElement("br");e.appendChild(a)}}}]),t}(y.a),P=n(130),k=n(426),A=function(){function e(){c()(this,e),d()(this,"params",[])}var t;return u()(e,[{key:"pushFile",value:function(e){this.params.push(e)}},{key:"getUrlOfCreatedZip",value:(t=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new k,this.params.forEach(function(e){t.file(e.fileName,e.blob)}),e.next=4,t.generateAsync({type:"base64"});case 4:return n="data:application/zip;base64,"+(n=e.sent),e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),R=function(){function e(){c()(this,e)}return u()(e,null,[{key:"downloadByATag",value:function(e,t){var n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),setTimeout(function(){return n.parentElement.removeChild(n)},3e3)}},{key:"downloadInNewTab",value:function(e,t){window.open(e,"_blank","")}}]),e}(),C=function(){function e(){c()(this,e)}return u()(e,null,[{key:"getDocument",value:function(e){var t=96|e.dpi,n=72*e.width/t,i=72*e.height/t,a=n>=i?"l":"p",r=[n,i],o=new jsPDF({orientation:a,unit:"px",format:r,compress:!0}),s=o.internal.pageSize.getWidth(),c=o.internal.pageSize.getHeight();o.addImage(e.imageSrcList[0],0,0,s,c);for(var l=1;l<e.imageSrcList.length;l++)o.addPage(r,a),o.addImage(e.imageSrcList[l],0,0,s,c);return o}},{key:"download",value:function(t){e.getDocument(t).save(t.fileName)}},{key:"getDataUriOfPdf",value:function(t){return e.getDocument(t).output("datauristring")}},{key:"createBlobByImageSrc",value:function(t){return e.getDocument(t).output("blob")}}]),e}(),b=function(){function e(t){c()(this,e),this.successEvent=t}var t,n;return u()(e,[{key:"execute",value:(n=o()(a.a.mark(function t(n){var i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=n.imgParamList.length)){t.next=3;break}return t.abrupt("return");case 3:if(!e.isPDF(n.fileExt)&&1!==i){t.next=7;break}this.downloadSingleFile(n),t.next=9;break;case 7:return t.next=9,this.downloadZipFile(n);case 9:case"end":return t.stop()}},t,this)})),function(e){return n.apply(this,arguments)})},{key:"downloadZipFile",value:(t=o()(a.a.mark(function t(n){var i,r,o,s;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new A,n.imgParamList.forEach(function(e){var t=e.imgDataSrc,n=e.fileName,a=P.a.getImgUriToBlob(t);i.pushFile({blob:a,fileName:n})}),t.next=4,i.getUrlOfCreatedZip();case 4:r=t.sent,o="".concat(n.fileName,".zip"),e.isIeBrowser()?(s=P.a.getImgUriToBlob(r),e.downloadFromIe(s,o)):this.downloadFromChromeOrOther(r,o);case 7:case"end":return t.stop()}},t,this)})),function(e){return t.apply(this,arguments)})},{key:"downloadSingleFile",value:function(t){if(0!==t.imgParamList.length){var n=t.imgParamList[0],i=n.fileName;e.isPDF(t.fileExt)?this.pdfDownload(t.imgParamList.map(function(e){return e.imgDataSrc}),t.pageSize,t.dpi,i):this.normalDownload(n.imgDataSrc,i)}}},{key:"normalDownload",value:function(t,n){if(e.isIeBrowser()){var i=P.a.getImgUriToBlob(t);e.downloadFromIe(i,n)}else this.downloadFromChromeOrOther(t,n)}},{key:"pdfDownload",value:function(e,t,n,i){var a={imageSrcList:e,width:t.width,height:t.height,dpi:n,fileName:i};p.a.getEnv().browser.isMobile()&&p.a.isIOS()?this.successEvent({downloadLink:C.getDataUriOfPdf(a),fileName:i}):C.download(a)}},{key:"downloadFromChromeOrOther",value:function(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){var e=window.URL.createObjectURL(this.response);p.a.getEnv().browser.isMobile()&&p.a.isIOS()?i.successEvent({downloadLink:e,fileName:t}):R.downloadByATag(e,t)},n.send();var i=this}}],[{key:"isIeBrowser",value:function(){return p.a.getEnv().browser.isHell()}},{key:"downloadFromIe",value:function(e,t){navigator.msSaveBlob(e,t)}},{key:"isPDF",value:function(e){return"pdf"===e.toLowerCase()}}]),e}(),w=n(47),x=n(45),N=n(71),D=function(){function e(){c()(this,e)}return u()(e,null,[{key:"getWorkTime",value:function(t){if(0===t.pageList.length)return 300;var n=0;return p.a.dispatch(new x.c(function(i){var a=i.pages[0].sheetSize,r=Math.max(a.width,a.height)*t.printScale;n+=e.getPageTime({pageCount:t.pageList.length,printMaxSize:r}),t.pageList.forEach(function(t){i.pages[t].getAllSingleItems().forEach(function(t){n+=e.getItemTime(t)})})})),n}},{key:"getPageTime",value:function(t){var n=0;return n+=t.pageCount*e.RENDER_TIME_PAGE,n+=t.printMaxSize/e.CORRECT_SIZE_MEASURE}},{key:"getItemTime",value:function(t){var n=0,i=Math.max(t.getWidth(),t.getHeight());switch(i>=e.CORRECT_SIZE_MEASURE&&(n+=i/e.CORRECT_SIZE_MEASURE),t.getItemType()){case N.a.STICKER:case N.a.PHOTO:var a=Math.max(t.getWidth(),t.getHeight());n+=Math.ceil(a/e.CORRECT_SIZE_MEASURE);break;default:n+=e.RENDER_TIME_ITEM_COMMON}return n}}]),e}();d()(D,"RENDER_TIME_PAGE",5),d()(D,"RENDER_TIME_ITEM_COMMON",.1),d()(D,"CORRECT_SIZE_MEASURE",1e3);var M,B=n(378),U=n(55);!function(e){e.NEW_REQUEST="NEW_REQUEST",e.PROCESSING="PROCESSING",e.COMPLETE="COMPLETE",e.FAILED="FAILED"}(M||(M={}));var G=function(){function e(t,n,i){c()(this,e),d()(this,"currentIdx",0),d()(this,"pollingTimerId",0),d()(this,"progressPercent",0),d()(this,"progressStartTime",0),d()(this,"progressEstimatedTime",0),this.runningEvent=t,this.successEvent=n,this.failureEvent=i}var t,n;return u()(e,[{key:"execute",value:(n=o()(a.a.mark(function e(t){var n,i,r,o,s=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setProgressEstimatedTime(t),n=this.makeProcessorParameter(t),i=m.CRM.get(f.a.HQ_IMAGE),e.next=5,w.UnicornApiRequest.post(i,{contentType:"application/json",dataType:"json",data:n});case 5:r=e.sent,this.stopPolling(),o=r.data,this.currentIdx=o.idx,this.loopPolling(o.idx),this.tempProgressTimeEventId=window.setInterval(function(){var e=(Date.now()-s.progressStartTime)/1e3/s.progressEstimatedTime;e=(e*=100)>95?95:e,s.runningEvent({percent:e})},150);case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"loopPolling",value:function(e){this.loopPollingDefault(e)}},{key:"loopPollingDefault",value:function(t){var n=this,i=m.CRM.get(f.a.HQ_IMAGE)+"/".concat(t);this.pollingTimerId=window.setTimeout(o()(a.a.mark(function r(){var o;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.UnicornApiRequest.get(i);case 2:o=a.sent.data,a.t0=o.status,a.next=a.t0===M.NEW_REQUEST?6:a.t0===M.PROCESSING?6:a.t0===M.COMPLETE?7:a.t0===M.FAILED?10:13;break;case 6:return a.abrupt("break",13);case 7:return window.clearInterval(n.tempProgressTimeEventId),n.successEvent({downloadLink:e.getDownloadUrl(o.resultFileKey),fileName:o.filename||"",hqIdx:t}),a.abrupt("return");case 10:return window.clearInterval(n.tempProgressTimeEventId),n.failureEvent(),a.abrupt("return");case 13:n.stopPolling(),n.loopPolling(t);case 15:case"end":return a.stop()}},r)})),e.CHECK_INTERVAL_TIME)}},{key:"loopPollingDev",value:function(t){var n=this,i="".concat(m.CRM.get(f.a.HQ_IMAGE_PROGRESS),"/").concat(t);this.pollingTimerId=window.setTimeout(o()(a.a.mark(function r(){var o,s,c;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.UnicornApiRequest.get(i);case 2:if(!(o=a.sent)||200!==o.code||Number.isNaN(o.data.progress)){a.next=8;break}n.progressPercent=100*o.data.progress,a.next=10;break;case 8:return n.failureEvent(),a.abrupt("return");case 10:if(!(n.progressPercent<100)){a.next=14;break}n.runningEvent({percent:n.progressPercent}),a.next=21;break;case 14:return s=m.CRM.get(f.a.HQ_IMAGE)+"/".concat(t),a.next=17,w.UnicornApiRequest.get(s);case 17:return c=a.sent.data,n.successEvent({downloadLink:e.getDownloadUrl(c.resultFileKey),fileName:c.filename||"",hqIdx:t}),n.progressPercent=0,a.abrupt("return");case 21:n.stopPolling(),n.loopPolling(t);case 23:case"end":return a.stop()}},r)})),e.CHECK_INTERVAL_TIME)}},{key:"sendHQImageFileByEmail",value:(t=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stopPolling(),!(this.currentIdx<=0)){e.next=3;break}return e.abrupt("return");case 3:return t=m.CRM.get(f.a.HQ_IMAGE)+"/".concat(this.currentIdx),n=JSON.stringify({mailRequired:!0}),e.next=7,w.UnicornApiRequest.put(t,{contentType:"application/json",data:n});case 7:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"setProgressEstimatedTime",value:function(e){this.progressStartTime=Date.now(),this.progressEstimatedTime=D.getWorkTime({pageList:e.pageIdxList,printScale:e.printScale})}},{key:"stopPolling",value:function(){this.pollingTimerId&&(window.clearTimeout(this.pollingTimerId),this.pollingTimerId=0)}},{key:"cancelDownload",value:function(){this.sendCancelImageProcess(),this.stopPolling()}},{key:"sendCancelImageProcess",value:function(){try{var e=m.CRM.get(f.a.HQ_IMAGE)+"/".concat(this.currentIdx);w.UnicornApiRequest.delete(e)}catch(e){}}},{key:"makeProcessorParameter",value:function(e){var t,n,i,a,r=B.a.getOutputInfo();e.isWebFormat?(t=r.pageWidth,n=r.pageHeight,i=e.dpi,a=U.b.PX.toLowerCase()):(t=r.workWidth,n=r.workHeight,i=r.dpi,a=r.unit.toLowerCase());var o,s,c=this.makeDocAndCropSize(e.pageIdxList,t,n),l=c.docSize,u=c.cropSize;return p.a.instance.env.devMode?(o=l,s=l):(o=u,s=u),JSON.stringify({designIdx:e.designIdx,xml:e.sheetXmlText,args:{designIndex:e.designIdx,designHistoryIndex:e.designHistoryIndex,pages:e.pageIdxList.join(","),extension:e.fileExt,backgroundOpacity:e.backgroundTransparent,printScale:e.printScale,designname:e.designTitle,docSize:o,crop:s,measure:a,dpi:i,imgCombine:e.isImgCombine}})}},{key:"makeDocAndCropSize",value:function(e,t,n){var i=[],a=[];return p.a.dispatch(new x.c(function(r){var o=t,s=n,c=o,l=s;r.pages.forEach(function(t,n){var r=!1,u=!0,h=!1,d=void 0;try{for(var p,m=e[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){if(n===p.value){r=!0;break}}}catch(e){h=!0,d=e}finally{try{u||null==m.return||m.return()}finally{if(h)throw d}}r?(i.push("".concat(c,"X").concat(l)),a.push("".concat(o,"X").concat(s))):(i.push("null"),a.push("null"))})})),{docSize:i.join(","),cropSize:a.join(",")}}}],[{key:"getDownloadUrl",value:function(e){return e?m.CRM.get(f.a.COMMON_FILE_DOWNLOAD_API).replace("${uuid}",e):""}}]),e}();d()(G,"CHECK_INTERVAL_TIME",5e3);var F=function(e){function t(){return c()(this,t),v()(this,T()(t).apply(this,arguments))}return _()(t,e),u()(t,[{key:"getId",value:function(){return"pixabayDownloadWarningPopup"}}]),t}(O),H=n(12),V=n(44),W=n.n(V),K=n(46),Y=n.n(K),z=n(210),X=n(90),j=n(211),Z=function(){function e(){c()(this,e)}return u()(e,[{key:"makeElement",value:function(){var e=document.createElement("div");e.className=X.a.CHARACTER_VIEW;var t=this.leftHand=document.createElement("div");t.classList.add(X.a.CHARACTER,X.a.SUCCESS_CHARACTER_LEFT_HAND),e.appendChild(t);var n=this.rightHand=document.createElement("div");n.classList.add(X.a.CHARACTER,X.a.SUCCESS_CHARACTER_RIGHT_HAND),e.appendChild(n);var i=this.clapEffect=document.createElement("div");i.classList.add(X.a.CHARACTER,X.a.SUCCESS_CHARACTER_CLAP_EFFECT),e.appendChild(i);return $([t,n,i]).on("click",function(){j.a.clickElement(t),j.a.clickElement(n),j.a.clickElement(i)}),e}}]),e}(),q=n(212),Q=function(e){function t(){var e;return c()(this,t),e=v()(this,T()(t).call(this)),d()(W()(e),"characterView",new Z),e.initialize(),e}return _()(t,e),u()(t,[{key:"initialize",value:function(){Y()(T()(t.prototype),"initialize",this).call(this),this.popup.classList.add(X.a.SUCCESS)}},{key:"makeContentElement",value:function(){var e=Y()(T()(t.prototype),"makeContentElement",this).call(this);return e.appendChild(this.characterView.makeElement()),e.appendChild(t.makeTitleElement()),e.appendChild(this.makeDownloadPathInfoElement()),e.appendChild(this.makeButtonAreaElement()),e}},{key:"makeDownloadPathInfoElement",value:function(){var e=this,t=this.downloadPathInfo=document.createElement("div");t.className=X.a.INFORMATION_WRAP;var n=document.createElement("div");n.className=X.a.INFORMATION,n.innerText=m.CRM.get(f.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_SUCCESS_DOWNLOAD_PATH_INFO);return Object(H.setToolsIcon)(n,H.ToolsIcon.OUTLINE,!1,"left"),t.appendChild(n),t.addEventListener("click",function(){return q.a.openByNewTab(e.downloadPathInfoUrl)}),t}},{key:"makeButtonAreaElement",value:function(){var e=this,t=this.btnArea=document.createElement("div");t.className=X.a.BTN_AREA;var n=document.createElement("button");n.className=X.a.SUCCESS_BTN_CLOSE,n.innerText=m.CRM.get(f.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_SUCCESS_BTN_CLOSE),n.addEventListener("click",function(){return e.close()}),t.appendChild(n);var i=document.createElement("button");return i.className=X.a.SUCCESS_BTN_DOWNLOAD,i.innerText=m.CRM.get(f.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_SUCCESS_BTN_DOWNLOAD),i.addEventListener("click",function(){return e.actionSet.downloadFile()}),t.appendChild(i),t}},{key:"setActionSet",value:function(e){this.actionSet=e}},{key:"setDownloadPathLinkUrl",value:function(e){this.downloadPathInfoUrl=e}},{key:"updateUI",value:function(){}},{key:"existDownloadPathInfoLink",value:function(){return Boolean(this.downloadPathInfoUrl)}}],[{key:"makeTitleElement",value:function(){var e=document.createElement("div");return e.className=X.a.MAIN_TITLE,e.innerText=m.CRM.get(f.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_SUCCESS_TITLE),e}},{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(z.a),J=function(e){function t(){var e,n;c()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=v()(this,(e=T()(t)).call.apply(e,[this].concat(a))),d()(W()(n),"actionType",x.a.ONE_TIME),d()(W()(n),"doSaveQueue",!1),d()(W()(n),"renderAuto",!1),d()(W()(n),"changeDesign",function(){return!1}),d()(W()(n),"commitAction",function(e,i,a){n.meta=e,n.store=i,n.renderer=a;var r=Q.instance;if(!r.existDownloadPathInfoLink()){r.setDownloadPathLinkUrl("https://bo.miricanvas.com/s/24")}var o={isMobileMode:function(){return p.a.isMobileMode()},isDevMode:function(){return p.a.getEnv().devMode},downloadFile:function(){return t.downloadFile()}};r.setActionSet(o),r.open()}),d()(W()(n),"rollbackAction",function(){}),d()(W()(n),"recycle",function(){}),n}return _()(t,e),u()(t,null,[{key:"downloadFile",value:function(){re.doDownloadFile()}}]),t}(x.b),ee=function(){function e(){c()(this,e)}return u()(e,[{key:"makeElement",value:function(){var e=document.createElement("div");e.className=X.a.CHARACTER_VIEW;var t=this.crying=document.createElement("div");return t.classList.add(X.a.CHARACTER,X.a.FAILURE_CHARACTER_CRYING),t.addEventListener("click",function(){return j.a.clickElement(t)}),e.appendChild(t),e}}]),e}(),te=function(e){function t(){var e;return c()(this,t),e=v()(this,T()(t).call(this)),d()(W()(e),"characterView",new ee),e.initialize(),e}return _()(t,e),u()(t,[{key:"initialize",value:function(){Y()(T()(t.prototype),"initialize",this).call(this),this.popup.classList.add(X.a.FAILURE)}},{key:"makeContentElement",value:function(){var e=Y()(T()(t.prototype),"makeContentElement",this).call(this);return e.appendChild(this.characterView.makeElement()),e.appendChild(t.makeTitleElement()),e.appendChild(this.makeSubTitleElement()),e.appendChild(this.makeDownloadPathInfoElement()),e.appendChild(this.makeButtonAreaElement()),e}},{key:"makeSubTitleElement",value:function(){var e=this.subTitle=document.createElement("div");return e.className=X.a.SUB_TITLE,e.innerText=m.CRM.get(f.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_FAILURE_SUB_TITLE),e}},{key:"makeDownloadPathInfoElement",value:function(){var e=this,t=this.information=document.createElement("div");t.className=X.a.INFORMATION_WRAP;var n=document.createElement("div");n.className=X.a.INFORMATION,n.innerText=m.CRM.get(f.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_FAILURE_DOWNLOAD_FAIL_INFO);return Object(H.setToolsIcon)(n,H.ToolsIcon.OUTLINE,!1,"left"),t.appendChild(n),t.addEventListener("click",function(){return q.a.openByNewTab(e.downloadFailInfoUrl)}),t}},{key:"makeButtonAreaElement",value:function(){var e=this,t=this.btnArea=document.createElement("div");t.className=X.a.BTN_AREA;var n=document.createElement("button");return n.className=X.a.FAILURE_BTN_CONFIRM,n.innerText=m.CRM.get(f.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_FAILURE_BTN_CONFIRM),n.addEventListener("click",function(){return e.close()}),t.appendChild(n),t}},{key:"setActionSet",value:function(e){this.actionSet=e}},{key:"setDownloadFailLinkUrl",value:function(e){this.downloadFailInfoUrl=e}},{key:"updateUI",value:function(){this.updateSubTitle()}},{key:"updateSubTitle",value:function(){var e=m.CRM.get(f.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_FAILURE_SUB_TITLE),t=this.subTitle;this.actionSet.isMobileMode()?t.innerText=e.replace(". ","\n"):t.innerText=e}},{key:"existDownloadFailInfoLink",value:function(){return Boolean(this.downloadFailInfoUrl)}}],[{key:"makeTitleElement",value:function(){var e=document.createElement("div");return e.className=X.a.MAIN_TITLE,e.innerText=m.CRM.get(f.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_FAILURE_TITLE),e}},{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(z.a),ne=function(e){function t(){var e,n;c()(this,t);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return n=v()(this,(e=T()(t)).call.apply(e,[this].concat(a))),d()(W()(n),"actionType",x.a.ONE_TIME),d()(W()(n),"doSaveQueue",!1),d()(W()(n),"renderAuto",!1),d()(W()(n),"changeDesign",function(){return!1}),d()(W()(n),"commitAction",function(e,t,i){n.meta=e,n.store=t,n.renderer=i;var a=te.instance;if(!a.existDownloadFailInfoLink()){a.setDownloadFailLinkUrl("https://bo.miricanvas.com/s/23")}var r={isMobileMode:function(){return p.a.isMobileMode()},isDevMode:function(){return p.a.getEnv().devMode}};a.setActionSet(r),a.open()}),d()(W()(n),"rollbackAction",function(){}),d()(W()(n),"recycle",function(){}),n}return _()(t,e),t}(x.b),ie=n(296),ae=function(e){function t(e){var n;return c()(this,t),n=v()(this,T()(t).call(this)),d()(W()(n),"actionType",x.a.ONE_TIME),d()(W()(n),"doSaveQueue",!1),d()(W()(n),"renderAuto",!1),d()(W()(n),"changeDesign",function(){return!1}),d()(W()(n),"commitAction",function(){!n.percent||n.percent<0||ie.a.instance.updateProgressBar(n.percent)}),d()(W()(n),"rollbackAction",function(){}),d()(W()(n),"recycle",function(){}),n.percent=e,n}return _()(t,e),t}(x.b);n.d(t,"a",function(){return re});var re=function(){function e(){c()(this,e),d()(this,"browserDownloader",new b(e.imageProcessSuccessEvent)),d()(this,"imgProcessorDownloader",new G(e.imageProcessRunningEvent,e.imageProcessSuccessEvent,e.imageProcessFailureEvent)),d()(this,"downloadDoneEventList",[]),d()(this,"lastBrowserDownloadProperty",null),d()(this,"lastImageProcessDownloadProperty",null),d()(this,"downloaderSuccessProperty",{downloadLink:"",fileName:"",hqIdx:0})}var t,n,i,r;return u()(e,null,[{key:"makeWaitingElement",value:function(){var e=document.createElement("div");e.className=L.a.POPUP_DOWNLOAD_WAITING;var t=document.createElement("div");t.className=L.a.POPUP_DOWNLOAD_WAITING_BACKGROUND,e.appendChild(t);var n=document.createElement("div");n.className=L.a.POPUP_DOWNLOAD_WAITING_CONTENTS,Object(H.setToolsIcon)(n,H.ToolsIcon.OUTLINE);var i=document.createElement("p");i.className=L.a.TITLE,i.innerText=m.CRM.get(f.a.TOOLS_POPUP_INFO_DOWNLOAD_WAITING_TITLE),n.appendChild(i);var a=document.createElement("p");a.innerHTML=m.CRM.get(f.a.TOOLS_POPUP_INFO_DOWNLOAD_WAITING_DESCRIPTION),n.appendChild(a),e.appendChild(n),this.instance.downloadWaitingElem=e}},{key:"isChromeBrowser",value:function(){return p.a.getEnv().browser.getType()===m.BrowserType.CHROME}},{key:"addDownloadDoneEventList",value:function(e){-1===this.instance.downloadDoneEventList.indexOf(e)&&this.instance.downloadDoneEventList.push(e)}},{key:"stop",value:function(){this.instance.imgProcessorDownloader.stopPolling(),e.doneDownload()}},{key:"cancel",value:function(){this.instance.imgProcessorDownloader.cancelDownload(),e.doneDownload()}},{key:"doneDownload",value:function(){0!==this.instance.downloadDoneEventList.length&&this.instance.downloadDoneEventList.forEach(function(e){return e()})}},{key:"downloadByBrowser",value:(r=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.instance.lastBrowserDownloadProperty=n,t.next=4,e.instance.browserDownloader.execute(n);case 4:e.doneDownload(),e.hideDownloadWaitingUI(),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),e.doneDownload(),e.hideDownloadWaitingUI();case 13:case"end":return t.stop()}},t,this,[[0,8]])})),function(e){return r.apply(this,arguments)})},{key:"downloadByImageProcessor",value:(i=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.instance.lastImageProcessDownloadProperty=t,e.next=3,this.instance.imgProcessorDownloader.execute(t);case 3:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"showDownloadWaitingUI",value:function(){this.instance.downloadWaitingElem||e.makeWaitingElement(),this.instance.downloadWaitingElem.parentElement||document.body.appendChild(this.instance.downloadWaitingElem)}},{key:"hideDownloadWaitingUI",value:function(){this.instance.downloadWaitingElem&&this.instance.downloadWaitingElem.parentElement&&this.instance.downloadWaitingElem.parentElement.removeChild(this.instance.downloadWaitingElem)}},{key:"showDownloadFailureUI",value:function(){var e=this,t=new O({title:m.CRM.get(f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_TITLE),subtitle:"".concat(m.CRM.get(f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION1),"<br/>\n                        ").concat(m.CRM.get(f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION2)),confirmBtnText:m.CRM.get(f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_CONFIRM),confirmListener:function(){t.close(),e.hideDownloadWaitingUI()}}).open()}},{key:"showNotReadyToDownloadUI",value:function(){var e=new F({title:m.CRM.get(f.a.PIXABAY_DOWNLOAD_WARNING_POPUP_TITLE),subtitle:"<p>".concat(m.CRM.get(f.a.PIXABAY_DOWNLOAD_WARNING_POPUP_DESCRIPTION1),"<br/>\n                      ").concat(m.CRM.get(f.a.PIXABAY_DOWNLOAD_WARNING_POPUP_DESCRIPTION2),"<br/></p>\n                      <span>").concat(m.CRM.get(f.a.PIXABAY_DOWNLOAD_WARNING_POPUP_DESCRIPTION3),"</span>"),confirmBtnText:m.CRM.get(f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_CONFIRM),confirmListener:function(){e.close()}}).open()}},{key:"showDownloadFailureUIIE",value:function(){var e=new S({title:m.CRM.get(f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_TITLE),subTitle:m.CRM.get(f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_SUB_TITLE_IE),texts:[{message:f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION_IE1,lineBreak:!0},{message:f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION_IE2,url:"https://www.google.com/intl/ko_ALL/chrome/",lineBreak:!1},{message:f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION_IE3,lineBreak:!0},{message:f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_DESCRIPTION_IE4,lineBreak:!0}],confirmBtnText:m.CRM.get(f.a.TOOLS_POPUP_WARNING_DOWNLOAD_FAILURE_CONFIRM),confirmListener:function(){e.close()}}).open()}},{key:"imageProcessRunningEvent",value:function(e){p.a.dispatch(new ae(e.percent))}},{key:"imageProcessSuccessEvent",value:(n=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.doneDownload(),e.setDownloaderSuccessProperty(n),e.doDownloadFile(),p.a.dispatch(new J);case 4:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)})},{key:"imageProcessFailureEvent",value:function(){e.doneDownload(),p.a.dispatch(new ne)}},{key:"showNotReadyToDownloadPopup",value:function(){e.doneDownload(),e.showNotReadyToDownloadUI()}},{key:"setDownloaderSuccessProperty",value:function(e){this.instance.downloaderSuccessProperty=e}},{key:"doDownloadFile",value:function(){var e=this.instance.downloaderSuccessProperty.downloadLink,t=this.instance.downloaderSuccessProperty.fileName;e?p.a.getEnv().browser.isMobile()&&p.a.isIOS()?R.downloadInNewTab(e,t):R.downloadByATag(e,t):console.log("cannot found download link")}},{key:"getLastBrowserDownloadProperty",value:function(){return this.instance.lastBrowserDownloadProperty}},{key:"getLastImageProcessDownloadProperty",value:function(){return this.instance.lastImageProcessDownloadProperty}},{key:"sendHQImageFileByEmail",value:(t=o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.instance.imgProcessorDownloader.sendHQImageFileByEmail();case 2:e.doneDownload();case 3:case"end":return t.stop()}},t,this)})),function(){return t.apply(this,arguments)})}]),e}();d()(re,"instance",new re)},,function(e,t,n){"use strict";var i,a=n(0),r=n.n(a),o=n(1),s=n.n(o),c=n(35),l=n.n(c),u=n(36),h=n.n(u),d=n(37),p=n.n(d),m=n(173),f=n(42),g=n(474),v=n(123),E=n(51),T=n(41),I=n(72),_=n(45),y=n(65),L=function(){function e(t,n,i,a,r){l()(this,e),p()(this,"horGuidelineRenderers",[]),p()(this,"verGuidelineRenderers",[]),this.guidelineManager=t,this.pageIdx=n,this.makeElement(),this.setSize(a),i.appendChild(this.elementWrapper),this.addEventListeners(),this.makeTooltip(),this.registGuidelineInfos(r)}return h()(e,[{key:"makeElement",value:function(){var e=document.createElement("div");e.className=T.a.GUIDELINE_CONTENTS,f.a.instance.showGuideline?e.classList.remove(T.a.HIDE):e.classList.add(T.a.HIDE),f.a.instance.lockGuideline&&e.classList.add(T.a.LOCK),this.elementWrapper=e}},{key:"setSize",value:function(e){this.width=e.width,this.height=e.height,this.guidelineManager.verGuidelineFactory&&this.guidelineManager.horGuidelineFactory&&(this.guidelineManager.verGuidelineFactory.setMaxPosition(this.width/2),this.guidelineManager.horGuidelineFactory.setMaxPosition(this.height/2))}},{key:"changeTooltipDir",value:function(e){this.tooltipElem.classList.add(e===v.c.HOR?I.b.T:I.b.R),this.tooltipElem.classList.remove(e===v.c.HOR?I.b.R:I.b.T)}},{key:"changeTooltipText",value:function(e,t){var n=(t?this.guidelineManager.horGuidelineFactory.getMaxPosition():this.guidelineManager.verGuidelineFactory.getMaxPosition())+e;this.tooltipSpan.innerText="".concat(Math.round(n)," px")}},{key:"addEventListeners",value:function(){var e,t,n,i,a=this,r=!1,o=0,s=0,c=0,l=0,u=function(u){var h=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r){var d=h?u.touches[0]:u,p=(c=t?d.clientY-s:d.clientX-o)+(t?i.scrollTop-l:0);a.moveTooltip(d.clientX,d.clientY,t),a.changeTooltipText(e.guideline.lastPosition+p/n,t),e.render(p/n)}},h=function(o){if(r&&t){var s=c+i.scrollTop-l;a.changeTooltipText(e.guideline.lastPosition+s/n,t),e.render(s/n)}},d=function c(d){var p=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r){f.a.instance.mouseAction.mode=y.a.MODE_NONE,a.elementWrapper.style.cursor="default",r=!1,a.hideTooltip();var m=p?d.changedTouches[0]:d;if(t){var g=e.guideline.lastPosition+(m.clientY-s+i.scrollTop-l)/n;a.guidelineManager.horGuidelineFactory.setGuidelinePosition(e.guideline,Math.round(g))}else{var v=e.guideline.lastPosition+(m.clientX-o)/n;a.guidelineManager.verGuidelineFactory.setGuidelinePosition(e.guideline,Math.round(v))}document.removeEventListener("mousemove",u),document.removeEventListener("touchmove",function(e){return u(e,!0)}),i.removeEventListener("scroll",h),document.removeEventListener("mouseup",c),document.removeEventListener("touchend",function(e){return c(e,!0)})}},p=function(p){var m=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(p.preventDefault(),!a.elementWrapper.classList.contains(T.a.LOCK)&&(e=$(p.currentTarget).data("guideline"))){f.a.dispatch(new _.c(function(e,t){t.mouseAction.mode=y.a.MODE_GUIDELINE_MOVE,n=t.zoomScale*t.pageEditScale})),i||(i=f.a.instance.renderer.canvasRenderer.scrollElement.contents),t=e.guideline.type===v.c.HOR,a.elementWrapper.style.cursor=t?"row-resize":"col-resize",a.changeTooltipDir(e.guideline.type),a.changeTooltipText(e.guideline.lastPosition,t);var g=m?p.touches[0]:p;a.moveTooltip(g.clientX,g.clientY,t),a.showTooltip(),o=g.clientX,s=g.clientY,l=i.scrollTop,c=0,r=!0,document.addEventListener("mousemove",u),document.addEventListener("touchmove",function(e){return u(e,!0)}),i.addEventListener("scroll",h),document.addEventListener("mouseup",d),document.addEventListener("touchend",function(e){return d(e,!0)})}};$(this.elementWrapper).on("mousedown",".".concat(T.a.GUIDELINE),p),$(this.elementWrapper).on("touchstart",".".concat(T.a.GUIDELINE),function(e){return p(e,!0)})}},{key:"makeTooltip",value:function(){var e=document.body.querySelector(".".concat(T.a.GUIDELINE_TOOLTIP));if(e)return this.tooltipElem=e,void(this.tooltipSpan=e.firstChild.firstChild);this.tooltipElem=document.createElement("div");var t=document.createElement("p");this.tooltipSpan=document.createElement("span"),this.tooltipElem.classList.add(T.a.TOOLTIP,T.a.GUIDELINE_TOOLTIP),t.appendChild(this.tooltipSpan),this.tooltipElem.appendChild(t),this.hideTooltip(),document.body.appendChild(this.tooltipElem)}},{key:"moveTooltip",value:function(e,t,n){this.tooltipElem.style.top="".concat(t+(n?-this.tooltipElem.offsetHeight-20:-this.tooltipElem.offsetHeight/2),"px"),this.tooltipElem.style.left="".concat(e+(n?-this.tooltipElem.offsetWidth/2:20),"px")}},{key:"showTooltip",value:function(){f.a.getEnv().browser.isMobile()||(this.tooltipElem.style.visibility="visible")}},{key:"hideTooltip",value:function(){this.tooltipElem.style.visibility="hidden"}},{key:"setPageIdx",value:function(e){this.pageIdx=e}},{key:"appendGuidelineAuto",value:function(e){var t=e===v.c.HOR?this.guidelineManager.horGuidelineFactory.makeGuidelineAuto():this.guidelineManager.verGuidelineFactory.makeGuidelineAuto();if(t){var n=new O(t);return(e===v.c.HOR?this.horGuidelineRenderers:this.verGuidelineRenderers).push(n),this.elementWrapper.appendChild(n.elem),!0}return!1}},{key:"removeLastGuidelineAuto",value:function(e){if(e===v.c.HOR?this.guidelineManager.horGuidelineFactory.removeLastGuideline():this.guidelineManager.verGuidelineFactory.removeLastGuideline()){var t=(e===v.c.HOR?this.horGuidelineRenderers:this.verGuidelineRenderers).pop();return this.elementWrapper.removeChild(t.elem),!0}return!1}},{key:"appendGuideline",value:function(e,t){var n=e===v.c.HOR?this.guidelineManager.horGuidelineFactory.makeGuideline(e,t):this.guidelineManager.verGuidelineFactory.makeGuideline(e,t);if(n){var i=new O(n);return(e===v.c.HOR?this.horGuidelineRenderers:this.verGuidelineRenderers).push(i),this.elementWrapper.appendChild(i.elem),!0}return!1}},{key:"clear",value:function(){$(this.elementWrapper).empty(),this.guidelineManager.horGuidelineFactory.init(),this.guidelineManager.verGuidelineFactory.init()}},{key:"registGuidelines",value:function(e,t){var n;e===v.c.HOR?(this.horGuidelineRenderers=[],n=this.horGuidelineRenderers):(this.verGuidelineRenderers=[],n=this.verGuidelineRenderers);var i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value,l=new O(c);n.push(l),this.elementWrapper.appendChild(l.elem)}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}}},{key:"registGuidelineInfos",value:function(e){e?this.guidelineManager.registGuidelineInfos(e):this.guidelineManager.makeDefaultGuideLine(),this.registGuidelines(v.c.HOR,this.guidelineManager.horGuidelineFactory.getGuidelines()),this.registGuidelines(v.c.VER,this.guidelineManager.verGuidelineFactory.getGuidelines())}},{key:"setZoomScale",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=this.horGuidelineRenderers[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){a.value.setZoomScale(e)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}var o=!0,s=!1,c=void 0;try{for(var l,u=this.verGuidelineRenderers[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){l.value.setZoomScale(e)}}catch(e){s=!0,c=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}}},{key:"show",value:function(){this.elementWrapper&&this.elementWrapper.classList.remove(T.a.HIDE)}},{key:"hide",value:function(){this.elementWrapper&&this.elementWrapper.classList.add(T.a.HIDE)}},{key:"lock",value:function(){this.elementWrapper&&this.elementWrapper.classList.add(T.a.LOCK)}},{key:"unlock",value:function(){this.elementWrapper&&this.elementWrapper.classList.remove(T.a.LOCK)}}]),e}(),O=function(){function e(t){l()(this,e),this.guideline=t,this.elem=document.createElement("div"),this.elem.classList.add(T.a.GUIDELINE,this.guideline.type.toString()),$(this.elem).data("guideline",this),this.render()}return h()(e,[{key:"setZoomScale",value:function(e){e!==this.guideline.scale&&(this.guideline.setZoomScale(e),this.render())}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.guideline.type===v.c.HOR?this.elem.style.top="calc(50% + ".concat((this.guideline.lastPosition+e)*this.guideline.scale,"px)"):this.elem.style.left="calc(50% + ".concat((this.guideline.lastPosition+e)*this.guideline.scale,"px)")}}]),e}(),S=n(374),P=n(184),k=n(319),A=function(){function e(t){l()(this,e),this.background=t,this.makeElement()}return h()(e,[{key:"makeElement",value:function(){this.element||(this.element=document.createElement("div"))}},{key:"removeElement",value:function(){this.element&&(this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.element=null)}},{key:"render",value:function(e){return this.drawDefaultBackground(this.element,e),this.element}},{key:"drawDefaultBackground",value:function(e,t){e.removeAttribute("style"),e.className="tbpe_skin",e.style.position="relative",e.style.backgroundColor=this.background.color,this.setScale(t)}},{key:"setScale",value:function(e){var t=f.a.instance.size;this.element.style.width=t.pageWidth+"px",this.element.style.height=t.pageHeight+"px"}},{key:"updateColor",value:function(e){this.background.color!==e&&e&&(this.element.style.backgroundColor=e,this.background.color=e)}},{key:"initDefaultColor",value:function(){this.updateColor(k.a.DEFAULT_COLOR)}}]),e}(),R=n(3),C=n(49),b=n(54),w=n(50),x=n(71),N=n(286),D=n(495),M=n(59),B=n(152),U=n(39),G=n.n(U),F=n(38),H=n.n(F),V=n(40),W=n.n(V),K=function(){function e(){l()(this,e)}return h()(e,[{key:"setIconPosition",value:function(e,t,n,i,a){var r,o,s=t.getItemBound().centerPos,c=n-14,l=i-14;r=C.b.getValidNumber(s.x*a,14,c)-14,o=C.b.getValidNumber(s.y*a,14,l)-14,this.setElementLeftTopByPx(e,r,o)}},{key:"setElementLeftTopByPx",value:function(e,t,n){e.style.left="".concat(t,"px"),e.style.top="".concat(n,"px")}}]),e}();!function(e){e[e.UNSUPPORTED_LICENSE=0]="UNSUPPORTED_LICENSE"}(i||(i={}));var Y=n(155),z=function(e){function t(){return l()(this,t),G()(this,H()(t).apply(this,arguments))}return W()(t,e),h()(t,[{key:"getAlertInfo",value:function(){return{type:this.getType(),icon:this.getIcon()}}},{key:"getType",value:function(){return i.UNSUPPORTED_LICENSE}},{key:"getIcon",value:function(){var e=document.createElement("div");return e.className="unsupported_license_alert",e.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault(),Y.c.showPusher()}),e}},{key:"checkAlert",value:function(e){return e.isUnsupportedLicense()}}]),t}(K),X=function(){function e(){l()(this,e),p()(this,"alertList",[]),this.itemGuideLayer=document.createElement("div"),this.itemGuideLayer.className="layer item_guide_layer",this.alertList.push(new z),this.itemGuideAlertMap=new Map}return h()(e,[{key:"getItemGuideLayer",value:function(){return this.itemGuideLayer}},{key:"render",value:function(e,t,n,i){var a=this;0!==e.length&&(this.itemGuideAlertMap.forEach(function(t,n){e.indexOf(n)<0&&a.removeGuide(n)}),e.forEach(function(e){a.alertList.forEach(function(r){r.checkAlert(e)?a.updateAlert(r,e,t,n,i):a.removeGuide(e)})}))}},{key:"updateAlert",value:function(e,t,n,i,a){var r=e.getAlertInfo(),o=r.icon,s=this.itemGuideAlertMap.get(t);if(s){var c=!1;s.forEach(function(e){e.type===r.type&&(o=e.icon,c=!0)}),c||this.addAlert(t,r)}else this.createAlert(t,r);e.setIconPosition(o,t,n,i,a)}},{key:"createAlert",value:function(e,t){this.itemGuideAlertMap.set(e,[t]),this.itemGuideLayer.appendChild(t.icon)}},{key:"addAlert",value:function(e,t){var n=this.itemGuideAlertMap.get(e);n&&(n.push(t),this.itemGuideLayer.appendChild(t.icon))}},{key:"removeGuide",value:function(e){var t=this,n=this.itemGuideAlertMap.get(e);n&&(n.forEach(function(e){t.itemGuideLayer.removeChild(e.icon)}),this.itemGuideAlertMap.delete(e))}}]),e}();n.d(t,"a",function(){return j});var j=function(){function e(t){l()(this,e),p()(this,"itemRenderers",[]),this.props=t,this.page=t.page,this.initItemRenderers(this.page.items);var n=document.createElement("div");n.className=e.PAGE_CLASS,n.id=this.page.pageId,this.pageToolboxTop=new D.a({page:this.page,parentElement:n,title:this.props.title?this.props.title:""});var i=document.createElement("div");i.className=e.PAGE_CONTENTS_CLASS+" test",n.appendChild(i),this.element=n,this.contents=i}var t,n,i,a;return h()(e,[{key:"getDividedRenderers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.itemRenderers,n=[],i=[];return t.forEach(function(t){if(t instanceof P.a)n.push(t);else if(t instanceof N.a){var a=e.getDividedRenderers(t.getMemberRenderers());n=n.concat(a.singleRenderers),i=i.concat(a.groupRenderers,t)}}),{singleRenderers:n,groupRenderers:i}}},{key:"getAllSingleRenderers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.itemRenderers,n=[];return t.forEach(function(t){t instanceof P.a?n.push(t):t instanceof N.a&&(n=n.concat(e.getAllSingleRenderers(t.getMemberRenderers())))}),n}},{key:"setItemRenderers",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.itemRenderers;e.forEach(function(e,a){var r;(r=e.getItemType()===x.a.GROUP?t.groupRenderers:t.singleRenderers).forEach(function(t,n){if(t.item===e)return i[a]=t,void r.splice(n,1)}),i[a]||(i[a]=n.getItemRenderer(e));var o=i[a];e instanceof b.a&&o instanceof N.a?n.setItemRenderers(e.getMembers(),t,o.getMemberRenderers()):e instanceof E.e&&e.props.updateRevision()})}},{key:"getItemRenderer",value:function(e){var t=S.a.getItemRenderer(e);return t instanceof N.a&&t.initMemberRenderers(this.itemRenderers),t}},{key:"initItemRenderers",value:function(e){var t=this.getDividedRenderers();this.itemRenderers=[],t.groupRenderers.forEach(function(e){e.clearMemberRenderers()}),this.setItemRenderers(e,t),t.singleRenderers.forEach(function(e){e.removeElement()}),t.groupRenderers.forEach(function(e){e.item.removeBoxElement()})}},{key:"needToSyncItemRenderers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page.items,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.itemRenderers;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++){var i=e[n],a=t[n];if(i!==a.item)return!0;if(i instanceof b.a&&t instanceof N.a){var r=this.needToSyncItemRenderers(i.getMembers(),t.getMemberRenderers());if(r)return!0}}return!1}},{key:"syncItemRenderers",value:function(){this.needToSyncItemRenderers()&&this.initItemRenderers(this.page.items)}},{key:"render",value:(a=s()(r.a.mark(function e(){var t,n,i,a,o,s,c,l,u,h,d,p,g,v,E,I,_,y,L,O,S=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=S.length>0&&void 0!==S[0]?S[0]:this.lastRenderEditScale,n=S.length>1&&void 0!==S[1]?S[1]:this.lastRenderTime,i=S.length>2&&void 0!==S[2]?S[2]:f.a.instance.zoomScale,this.lastRenderEditScale=t,this.lastRenderTime=n,this.page.lastRenderEditScale=t,a=i*t,o=this.needToSyncItemRenderers(),this.makeElement(),this.makeLayers(),this.backgroundRenderer.element&&this.backgroundRenderer.setScale(t),s=this.element,c=this.contents,this.syncItemRenderers(),l=this.page.sheetSize.width+"px",u=this.page.sheetSize.height+"px",h=this.page.sheetSize.width*a+"px",d=this.page.sheetSize.height*a+"px",p="scale(".concat(a,")"),this.layers.style.width=h,this.layers.style.height=d,this.pageToolboxTop.element.style.width=h,c.style.width=h,c.style.height=d,g=!0,v=!1,E=void 0,e.prev=23,I=this.layers.children[Symbol.iterator]();!(g=(_=I.next()).done);g=!0)y=_.value,(L=y)===this.itemAreaLayer?((O=this.itemLayer).style.width=l,O.style.height=u,O.style.transform=p):(L.style.width=h,L.style.height=d);e.next=31;break;case 27:e.prev=27,e.t0=e.catch(23),v=!0,E=e.t0;case 31:e.prev=31,e.prev=32,g||null==I.return||I.return();case 34:if(e.prev=34,!v){e.next=37;break}throw E;case 37:return e.finish(34);case 38:return e.finish(31);case 39:if(this.guidelineRenderer.setZoomScale(f.a.instance.zoomScale*f.a.instance.pageEditScale),o||this.page.getStatus()!==m.b.LOADING_WITH_COVER||!this.page.thumbnailPath){e.next=45;break}return e.next=43,this.renderLoadingLayer(n);case 43:e.next=48;break;case 45:return n===this.lastRenderTime&&this.loadingLayer.classList.remove(T.a.VISIBLE),e.next=48,this.renderItemTree(n);case 48:this.element=s,this.contents=c;try{f.a.instance.renderer&&(this.pageToolboxTop.render(),this.setDesignGuide())}catch(e){console.error("아마 뷰어모드라서 오류. 일단 무시",e)}return this.updateRenderPage(f.a.instance.renderPageIdx),e.abrupt("return",s);case 53:case"end":return e.stop()}},e,this,[[23,27,31,39],[32,,34,38]])})),function(){return a.apply(this,arguments)})},{key:"renderItemTree",value:(i=s()(r.a.mark(function e(t){var n,i,a,o,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,i=this.getAllSingleRenderers(),a=0,o=i.length;case 3:if(!(a<o)){e.next=13;break}return(s=i[a]).item.props.zIndex=a,e.next=8,s.renderAutoAsync(1);case 8:(e.sent&&t===this.lastRenderTime||s.item.getStatus()===E.d.NEW)&&(s.item.setStatus(E.d.STABLE),n=!0);case 10:a++,e.next=3;break;case 13:this.pageDOM.makeItemTree(this.itemRenderers,1,n);case 14:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"renderLoadingLayer",value:(n=s()(r.a.mark(function e(t){var n,i,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return e.toFixed(n)===t.toFixed(n)},this.lastRenderTime===t&&!this.loadingLayer.classList.contains(T.a.VISIBLE)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,M.b.loadImageAsync(this.page.thumbnailPath);case 6:i=e.sent,this.loadingLayer.innerHTML="",this.loadingLayer.appendChild(i),this.loadingLayer.classList.add(T.a.VISIBLE),a=n(i.width/i.height,this.page.sheetSize.width/this.page.sheetSize.height)?B.a.FIT:B.b.instance.getSelectedArrangeType(),this.loadingLayer.setAttribute("data-arrange-type",a),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0),this.loadingLayer.classList.remove(T.a.VISIBLE);case 18:case"end":return e.stop()}},e,this,[[3,14]])})),function(e){return n.apply(this,arguments)})},{key:"renderElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.instance.zoomScale;this.lastRenderEditScale=e,this.page.lastRenderEditScale=e,this.makeElement();var n=this.element,i=this.contents,a=this.getScaleSize(t);return i.style.width="".concat(a.width,"px"),i.style.height="".concat(a.height,"px"),n}},{key:"getScaleSize",value:function(e){var t=e*this.lastRenderEditScale;return{width:this.page.sheetSize.width*t,height:this.page.sheetSize.height*t}}},{key:"renderItems",value:(t=s()(r.a.mark(function e(t){var n,i,a,o,s,c,l,u,h,d,p,m,f,g,v,E=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:E.length>1&&void 0!==E[1]?E[1]:this.lastRenderEditScale,n=E.length>2&&void 0!==E[2]&&E[2],E.length>3&&void 0!==E[3]&&E[3],i=b.b.convertSinglesToItems(t.slice()),a=!0,o=!1,s=void 0,e.prev=7,c=this.itemRenderers[Symbol.iterator]();case 9:if(a=(l=c.next()).done){e.next=43;break}u=l.value,h=!0,d=!1,p=void 0,e.prev=14,m=i[Symbol.iterator]();case 16:if(h=(f=m.next()).done){e.next=26;break}if(g=f.value,!(v=u.getMatchedRenderer(g))){e.next=23;break}return v.renderLiveEdit(1,n),i.splice(i.indexOf(g),1),e.abrupt("break",26);case 23:h=!0,e.next=16;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(14),d=!0,p=e.t0;case 32:e.prev=32,e.prev=33,h||null==m.return||m.return();case 35:if(e.prev=35,!d){e.next=38;break}throw p;case 38:return e.finish(35);case 39:return e.finish(32);case 40:a=!0,e.next=9;break;case 43:e.next=49;break;case 45:e.prev=45,e.t1=e.catch(7),o=!0,s=e.t1;case 49:e.prev=49,e.prev=50,a||null==c.return||c.return();case 52:if(e.prev=52,!o){e.next=55;break}throw s;case 55:return e.finish(52);case 56:return e.finish(49);case 57:case"end":return e.stop()}},e,this,[[7,45,49,57],[14,28,32,40],[33,,35,39],[50,,52,56]])})),function(e){return t.apply(this,arguments)})},{key:"setDesignGuide",value:function(){var e=T.a.DESIGN_GUIDE_ON;f.a.instance.config.showDesignGuide?document.body.classList.add(e):document.body.classList.remove(e)}},{key:"setPosition",value:function(){this.guidelineRenderer.setSize(this.page.sheetSize),this.guidelineRenderer.setPageIdx(this.page.pageIdx)}},{key:"makeElement",value:function(){this.layers||(this.layers=document.createElement("div"),this.layers.className="layers"),this.itemAreaLayer||(this.itemAreaLayer=document.createElement("div"),this.itemAreaLayer.className="layer item_area_layer",this.itemLayer=document.createElement("div"),this.itemLayer.className="layer item_layer",this.itemAreaLayer.appendChild(this.itemLayer)),this.guidelineLayer||(this.guidelineLayer=document.createElement("div"),this.guidelineLayer.className="layer guideline_layer"),this.printoutLayer||(this.printoutLayer=document.createElement("div"),this.printoutLayer.className="layer printout_layer"),this.hoverLayer||(this.hoverLayer=document.createElement("div"),this.hoverLayer.className="layer hover_layer"),this.handlerLayer||(this.handlerLayer=document.createElement("div"),this.handlerLayer.className="layer handler_layer"),this.itemGuideRenderer||(this.itemGuideRenderer=new X),this.loadingLayer||(this.loadingLayer=document.createElement("div"),this.loadingLayer.className="layer loading_layer"),this.backgroundRenderer||(this.backgroundRenderer=new A(this.page.background)),this.pageDOM||(this.pageDOM=new g.a(this.itemLayer,this.backgroundRenderer,this.hoverLayer)),this.page.guidelineManager||(this.page.guidelineManager=new v.b),this.guidelineRenderer||(this.guidelineRenderer=new L(this.page.guidelineManager,this.page.pageIdx,this.guidelineLayer,this.page.sheetSize,this.page.guidelineFactoryInfos))}},{key:"removeElement",value:function(){this.backgroundRenderer.removeElement(),this.removeLayers(),this.element&&(this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.element=null)}},{key:"makeLayers",value:function(){this.layers.parentElement!==this.contents&&this.contents.appendChild(this.layers),this.itemAreaLayer.parentElement!==this.layers&&this.layers.appendChild(this.itemAreaLayer),this.guidelineLayer.parentElement!==this.layers&&this.layers.appendChild(this.guidelineLayer),this.printoutLayer.parentElement!==this.layers&&this.layers.appendChild(this.printoutLayer),this.hoverLayer.parentElement!==this.layers&&this.layers.appendChild(this.hoverLayer),this.handlerLayer.parentElement!==this.layers&&this.layers.appendChild(this.handlerLayer),this.itemGuideRenderer.getItemGuideLayer().parentElement!==this.layers&&this.layers.appendChild(this.itemGuideRenderer.getItemGuideLayer()),this.loadingLayer.parentElement!==this.layers&&this.layers.appendChild(this.loadingLayer)}},{key:"removeLayers",value:function(){this.layers&&(this.layers.parentElement&&this.layers.parentElement.removeChild(this.layers),this.layers=null)}},{key:"showHeader",value:function(){this.pageToolboxTop.element.classList.remove(T.a.HIDE)}},{key:"hideHeader",value:function(){this.pageToolboxTop.element.classList.add(T.a.HIDE)}},{key:"updateHoverLayer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.hoverLayer){var n=document.createDocumentFragment();this.page.getAllSingleItems().forEach(function(e){var i=b.b.getRootGroup(e.groupId),a=t.length>1||i,r=i?i.getSelectedItem()===e&&e.select:e.select;if(e.hover&&(a||!r)||a&&r||a&&e.select&&e.hover||!i&&e.select&&a){var o=e instanceof w.e,s=e.getLTRBCoordinate(!1),c=o?Math.ceil(s.getWidth()):s.getWidth(),l=o?Math.ceil(s.getHeight()):s.getHeight(),u=f.a.instance.zoomScale*f.a.instance.pageEditScale;s.changeScale(u);var h=document.createElement("div");h.style.left="".concat(s.left,"px"),h.style.top="".concat(s.top,"px"),h.style.width="".concat(c*u,"px"),h.style.height="".concat(l*u,"px"),h.style.transform="rotate(".concat(e.props.getRotate(),"deg)"),h.className=T.a.ITEM_HOVER_BOX,n.appendChild(h)}}),this.hoverLayer.querySelectorAll(".".concat(T.a.ITEM_HOVER_BOX)).forEach(function(t){e.hoverLayer.removeChild(t)}),this.hoverLayer.appendChild(n)}}},{key:"isInRange",value:function(e,t){var n=this.contents.getBoundingClientRect();return n.left<=e&&e<=n.right&&n.top<=t&&t<=n.bottom}},{key:"getPagePosition",value:function(e,t){var n=this.contents.getBoundingClientRect();return{x:e-n.left,y:t-n.top}}},{key:"getInRangeGroup",value:function(e,t){var n=this.getInRangeGroups(e,t,e,t,1);return 1===n.length?n[0]:null}},{key:"getInRangeGroups",value:function(e,t,n,i){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,r=[],o=this.getOffsetLTRB(e,t,n,i),s=0,c=this.page.items.length;c>0;c--){var l=this.page.items[c-1];if(l instanceof b.a&&(C.b.isCollisionAABB(l.getLTRBCoordinate(),o)&&(r.push(l),s++),a>0&&a===s))return r}return r}},{key:"getOffsetLTRB",value:function(e,t,n,i){var a=this.contents.getBoundingClientRect(),r=f.a.instance.pageEditScale,o=Math.min(e,n)-a.left/f.a.instance.zoomScale,s=Math.max(e,n)-a.left/f.a.instance.zoomScale,c=Math.min(t,i)-a.top/f.a.instance.zoomScale,l=Math.max(t,i)-a.top/f.a.instance.zoomScale;return new C.a(o,c,s,l).changeScaleReverse(r)}},{key:"getSelectedItemInfo",value:function(e,t,n){var i={selectedItem:this.getInRangeItem(e,t),selectedGroupItems:[]},a=this.getInRangeGroup(e,t);if(a){var r=a.getAllSingleMembers();if(r.indexOf(i.selectedItem)<0||!a.getSelectedItem()){var o=this.page.getAllSingleItems(),s=o.indexOf(i.selectedItem);o.indexOf(r[r.length-1])>=s&&(i.selectedItem=null,i.selectedGroupItems=r)}}return i}},{key:"isGroupSelected",value:function(e,t){return!R.ArrayUtil.isEmpty(this.getSelectedItemInfo(e,t).selectedGroupItems)}},{key:"getInRangeItems",value:function(e,t,n,i){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,r=[],o=this.page.getAllSingleItems(),s=this.getOffsetLTRB(e,t,n,i),c=o.length;c>0;c--){var l=o[c-1];if(l.isInRange(s)&&r.push(l),a>0&&a===r.length)return r}return r}},{key:"getInRangeItem",value:function(e,t){var n=this.getInRangeItems(e,t,e,t,1);return 1===n.length?n[0]:null}},{key:"isPageInRange",value:function(e,t,n,i){var a=Math.min(e,n),r=Math.max(e,n),o=Math.min(t,i),s=Math.max(t,i),c=this.contents.getBoundingClientRect();return!(r<c.left||s<c.top||a>c.right||o>c.bottom)}},{key:"updateRenderPage",value:function(e){this.element&&(e!==this.page.pageIdx?this.element.classList.remove(T.a.RENDER_PAGE):this.element.classList.add(T.a.RENDER_PAGE))}}]),e}();p()(j,"PAGE_CLASS","tbpe_page"),p()(j,"PAGE_CONTENTS_CLASS","page_contents")},function(e,t,n){"use strict";var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(39),c=n.n(s),l=n(44),u=n.n(l),h=n(38),d=n.n(h),p=n(46),m=n.n(p),f=n(40),g=n.n(f),v=n(37),E=n.n(v),T=n(210),I=n(3),_=n(43),y=n(90),L=n(12),O=n(211),S=function(){function e(){a()(this,e)}return o()(e,[{key:"makeElement",value:function(){var t=this.wrapper=document.createElement("div");t.className=y.a.RUNNING_PROGRESS;var n=this.barCharacter=document.createElement("div");n.classList.add(y.a.CHARACTER,y.a.RUNNING_PROGRESS_BAR_CHARACTER),n.style.transform="translate(".concat(-e.CHARACTER_CORRECT_X,"px, 0)"),n.addEventListener("click",function(){return O.a.clickElement(n)}),t.appendChild(n);var i=this.bar=document.createElement("div");i.className=y.a.RUNNING_PROGRESS_BAR;var a=this.barBg=document.createElement("div");return a.className=y.a.RUNNING_PROGRESS_BAR_BACKGROUND,a.addEventListener("click",function(){return O.a.clickElement(a)}),a.appendChild(i),t.appendChild(a),t}},{key:"updateUI",value:function(){this.updateProgress(0)}},{key:"updateProgress",value:function(e){this.updateBar(e),this.updateCharacterPosition(e)}},{key:"updateBar",value:function(e){this.bar.style.width="".concat(e,"%")}},{key:"updateCharacterPosition",value:function(t){var n=(this.barBg.offsetWidth-e.CHARACTER_CORRECT_X)*(t/100);this.barCharacter.style.left="".concat(n,"px")}}]),e}();E()(S,"CHARACTER_CORRECT_X",15);var P=function(){function e(){a()(this,e)}return o()(e,null,[{key:"shuffleTipProperties",value:function(e){for(var t=e.slice(),n=t.length-1;n>0;n--){var i=Math.floor(Math.random()*(n+1)),a=[t[i],t[n]];t[n]=a[0],t[i]=a[1]}return t}}]),e}(),k=function(){function e(){a()(this,e)}return o()(e,null,[{key:"convertTipTextIncludedHighlightAsHTMLFormat",value:function(e){var t=this,n=[];return e.forEach(function(e){var i=t.appendPrefixInFrontOf(e.content);i=t.applyHighlightTextAsHTML(i,e.highlightText),n.push({content:i,highlightText:e.highlightText,linkUrl:e.linkUrl})}),n}},{key:"appendPrefixInFrontOf",value:function(e){return"".concat(this.PREFIX_TIP," ").concat(e)}},{key:"applyHighlightTextAsHTML",value:function(e,t){if(!t)return e;var n='<a class="'.concat(y.a.RUNNING_TIP_HIGHLIGHT,'">').concat(t,"</a>");return e.replace(t,n)}}]),e}();E()(k,"PREFIX_TIP","TIP.");var A=n(212),R=function(){function e(){a()(this,e),E()(this,"currentTipIdx",0)}return o()(e,[{key:"makeElement",value:function(){var e=this,t=this.tip=document.createElement("div");return t.className=y.a.RUNNING_TIP,t.addEventListener("click",function(){return e.openTipLink()}),t}},{key:"setTipProps",value:function(e){this.tipProperties=k.convertTipTextIncludedHighlightAsHTMLFormat(e)}},{key:"shuffleTipList",value:function(){this.shuffledTipProperties=P.shuffleTipProperties(this.tipProperties)}},{key:"updateProperty",value:function(){this.tipProperties&&this.shuffleTipList()}},{key:"updateTip",value:function(){this.existTipProperties()&&(this.updateTipCssStyle(),this.startChangingTip())}},{key:"updateTipCssStyle",value:function(){this.shuffledTipProperties[this.currentTipIdx].linkUrl?this.tip.classList.add(y.a.RUNNING_LINK_ACTIVE):this.tip.classList.remove(y.a.RUNNING_LINK_ACTIVE)}},{key:"startChangingTip",value:function(){var t=this;this.tip.innerHTML||(this.currentTipIdx=this.shuffledTipProperties.length-1,this.tip.innerHTML=this.shuffledTipProperties[this.currentTipIdx].content,this.updateTipCssStyle()),window.clearInterval(this.showTipTimeEventId);this.showTipTimeEventId=window.setInterval(function(){t.currentTipIdx=t.currentTipIdx===t.shuffledTipProperties.length-1?0:t.currentTipIdx+1,t.tip.innerHTML=t.shuffledTipProperties[t.currentTipIdx].content,t.updateTipCssStyle()},e.TIP_CHANGE_INTERVAL_TIME)}},{key:"stopChangingTip",value:function(){window.clearInterval(this.showTipTimeEventId),this.clearTipText()}},{key:"openTipLink",value:function(){if(this.existTipProperties()){var e=this.shuffledTipProperties[this.currentTipIdx].linkUrl;A.a.openByNewTab(e)}}},{key:"existTipProperties",value:function(){return this.tipProperties&&this.tipProperties.length>0&&this.shuffledTipProperties&&this.shuffledTipProperties.length>0}},{key:"clearTipText",value:function(){this.tip.innerHTML=""}}]),e}();E()(R,"TIP_CHANGE_INTERVAL_TIME",12e3);var C=n(41),b=n(204);n.d(t,"a",function(){return w});var w=function(e){function t(){var e;return a()(this,t),e=c()(this,d()(t).call(this)),E()(u()(e),"progressTip",new R),E()(u()(e),"progressBar",new S),E()(u()(e),"eventListenerSet",{startEventListeners:[],cancelEventListeners:[]}),e.initialize(),e}return g()(t,e),o()(t,[{key:"initialize",value:function(){m()(d()(t.prototype),"initialize",this).call(this),this.popup.classList.add(y.a.RUNNING)}},{key:"setActionSet",value:function(e){this.actionSet=e}},{key:"setTipProps",value:function(e){this.progressTip.setTipProps(e)}},{key:"setDividePageInfoUrl",value:function(e){this.dividePageInfoUrl=e}},{key:"makeContentElement",value:function(){var e=m()(d()(t.prototype),"makeContentElement",this).call(this);return e.appendChild(t.makeTitleElement()),e.appendChild(this.progressBar.makeElement()),e.appendChild(this.progressTip.makeElement()),e.appendChild(this.makeTimeOverInformationElement()),e}},{key:"makeTimeOverInformationElement",value:function(){var e=this,n=this.overTimeInformation=document.createElement("div");n.classList.add(y.a.RUNNING_OVERTIME_INFORMATION,C.a.HIDE);var i=this.dividePageBtn=t.makeTimeOverInformationButtonElement(y.a.RUNNING_BTN_DIVIDE_PAGE,I.CRM.get(_.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_RUNNING_DIVIDE_PAGE),function(){return A.a.openByNewTab(e.dividePageInfoUrl)});i.classList.add(C.a.HIDE),n.appendChild(i);var a=this.receiveEmailBtn=t.makeTimeOverInformationButtonElement(y.a.RUNNING_BTN_RECEIVE_EMAIL,I.CRM.get(_.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_RUNNING_RECEIVE_EMAIL),function(){return e.actionSet.receiveDesignFileByEmail()});return n.appendChild(a),n}},{key:"open",value:function(){this.updateProperty(),m()(d()(t.prototype),"open",this).call(this),this.startTimeOverEvent(),this.doStartEventListeners()}},{key:"close",value:function(){this.clearElementClassNames(),this.progressTip.stopChangingTip(),this.clearEventListeners(),m()(d()(t.prototype),"close",this).call(this)}},{key:"closeByButton",value:function(){m()(d()(t.prototype),"closeByButton",this).call(this),this.doCancelEventListeners()}},{key:"updateProperty",value:function(){this.progressTip.updateProperty()}},{key:"updateUI",value:function(){this.isOpened()||this.progressTip.updateTip(),this.progressBar.updateUI(),this.updateInformationButtons()}},{key:"updateInformationButtons",value:function(){var e=C.a.HIDE;this.overTimeInformation.classList.add(e),this.actionSet.isDownloadMultipleFile()?this.dividePageBtn.classList.remove(e):this.dividePageBtn.classList.add(e)}},{key:"updateProgressBar",value:function(e){this.progressBar.updateProgress(e)}},{key:"addStartEventListener",value:function(e){this.eventListenerSet.startEventListeners.includes(e)||this.eventListenerSet.startEventListeners.push(e)}},{key:"addCancelEventListener",value:function(e){this.eventListenerSet.cancelEventListeners.includes(e)||this.eventListenerSet.cancelEventListeners.push(e)}},{key:"doStartEventListeners",value:function(){this.eventListenerSet.startEventListeners.forEach(function(e){return e()})}},{key:"doCancelEventListeners",value:function(){this.eventListenerSet.cancelEventListeners.forEach(function(e){return e()})}},{key:"clearEventListeners",value:function(){this.eventListenerSet={startEventListeners:[],cancelEventListeners:[]}}},{key:"clearElementClassNames",value:function(){this.popup.classList.remove(y.a.EXPAND_HEIGHT)}},{key:"startTimeOverEvent",value:function(){var e=this;this.overTimeEvent?this.overTimeEvent.resetExecCallBack():this.overTimeEvent=new b.a(t.TIME_OVER_PROCESS_TIME,function(){e.isOpened()&&(e.overTimeInformation.classList.remove(C.a.HIDE),e.popup.classList.add(y.a.EXPAND_HEIGHT))})}}],[{key:"makeTitleElement",value:function(){var e=document.createElement("div");return e.className=y.a.MAIN_TITLE,e.innerText=I.CRM.get(_.a.TOOLS_POPUP_DOWNLOAD_PROGRESS_RUNNING_TITLE),e}},{key:"makeTimeOverInformationButtonElement",value:function(e,t,n){var i=document.createElement("button");i.classList.add(e),i.innerText=t,i.addEventListener("click",n);return Object(L.setToolsIcon)(i,L.ToolsIcon.OUTLINE,!1,"left"),i}},{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}(T.a);E()(w,"TIME_OVER_PROCESS_TIME",6e4)},function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(3),c=n(43),l=n(47),u=n(129),h=n(42),d=n(35),p=n.n(d),m=n(36),f=n.n(m),g=n(39),v=n.n(g),E=n(38),T=n.n(E),I=n(40),_=n.n(I),y=n(37),L=n.n(y),O=n(89),S=n(46),P=n.n(S),k=n(41),A=function(e){function t(){return p()(this,t),v()(this,T()(t).call(this))}return _()(t,e),f()(t,[{key:"getContents",value:function(){return this.contents=document.createElement("div"),this.makeSleepImageRow(),this.makeTitleRow(),this.makeContentsRow(),this.makeTipRow(),this.makeButtonRow(),this.contents}},{key:"makeSleepImageRow",value:function(){var e=document.createElement("img");e.src="/resources/image/popup/logout_popup.svg",this.contents.appendChild(this.makeRow(e))}},{key:"makeTitleRow",value:function(){var e=document.createElement("span");e.innerText=s.CRM.get(c.a.TOOLS_POPUP_LOGOUT_TITLE),this.contents.appendChild(this.makeRow(e))}},{key:"makeContentsRow",value:function(){var e=document.createElement("p");e.innerHTML=this.getContentsStr(),this.contents.appendChild(this.makeRow(e))}},{key:"makeTipRow",value:function(){var e=document.createElement("p");e.innerHTML=this.getTipStr(),this.contents.appendChild(this.makeRow(e))}},{key:"makeButtonRow",value:function(){var e=this,t=document.createElement("button");t.innerText=s.CRM.get(c.a.TOOLS_POPUP_LOGOUT_BTN_LOGIN),t.addEventListener("click",function(){e.close(!0),e.openLoginPopup()}),this.contents.appendChild(this.makeRow(t))}},{key:"makeRow",value:function(e){var t=document.createElement("div");return t.className=k.a.TOOLS_ROW,e&&t.appendChild(e),t}},{key:"updateUI",value:function(){}},{key:"close",value:function(e){return e||this.moveLogoutUrl(),P()(T()(t.prototype),"close",this).call(this)}},{key:"isPreventBackgroundCloseEvent",value:function(){return!0}}]),t}(n(63).a),R=function(e){function t(e,n){var i;return p()(this,t),(i=v()(this,T()(t).call(this))).openLoginPopup=e,i.moveLogoutUrl=n,i}return _()(t,e),f()(t,[{key:"getContentsStr",value:function(){return s.CRM.get(c.a.TOOLS_POPUP_LOGOUT_DEFAULT_CONTENTS)}},{key:"getTipStr",value:function(){return""}},{key:"getId",value:function(){return"defaultLogoutPopup"}}]),t}(A),C=function(e){function t(e,n){var i;return p()(this,t),(i=v()(this,T()(t).call(this))).openLoginPopup=e,i.moveLogoutUrl=n,i}return _()(t,e),f()(t,[{key:"getContentsStr",value:function(){return s.CRM.get(c.a.TOOLS_POPUP_LOGOUT_TIMEOUT_CONTENTS)}},{key:"getTipStr",value:function(){return s.CRM.get(c.a.TOOLS_POPUP_LOGOUT_TIMEOUT_TIP)}},{key:"getId",value:function(){return"logoutByTimeoutPopup"}}]),t}(A),b=function(){function e(){p()(this,e)}var t;return f()(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.beforeAccountId=e,t?this.openTimeoutPopup():this.openDefaultPopup()}},{key:"openTimeoutPopup",value:function(){var e=this;this.timeoutPopup||(this.timeoutPopup=new C(function(){return e.openLoginPopup()},function(){return e.moveLogoutUrl()})),this.timeoutPopup.open()}},{key:"openDefaultPopup",value:function(){var e=this;this.defaultPopup||(this.defaultPopup=new R(function(){return e.openLoginPopup()},function(){return e.moveLogoutUrl()})),this.defaultPopup.open()}},{key:"checkAccountChange",value:(t=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.CRM.get(c.a.CHECK_MY_IDENTITY),e.next=3,l.UnicornApiRequest.get(t,{cache:!1});case 3:n=e.sent,this.beforeAccountId!==n.data.accountId&&(window.onbeforeunload=null,document.location.reload(!0));case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}(),w=n(165),x=function(e){function t(){return p()(this,t),v()(this,T()(t).apply(this,arguments))}return _()(t,e),f()(t,[{key:"openLoginPopup",value:function(){var e=this;w.a.open(O.a.LOGOUT_NOTIFICATION,function(){return e.checkAccountChange()},function(){return e.moveLogoutUrl()})}},{key:"moveLogoutUrl",value:function(){window.onbeforeunload=null,document.location.href="".concat(s.CRM.getBasePath(),"design")}}]),t}(b);function N(){return D.apply(this,arguments)}function D(){return(D=o()(a.a.mark(function e(){var t,n,i,r,o=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(o.length>0&&void 0!==o[0])||o[0],n=s.CRM.get(c.a.CHECK_MY_IDENTITY),e.next=4,l.UnicornApiRequest.get(n,{cache:!1});case 4:i=e.sent,r=new u.a(i.data),h.a.getEnv().devMode&&console.log("current user: ",r),h.a.instance.user.isLogin()&&!r.isLogin()&&x.instance.open(h.a.instance.user.accountId),t&&setTimeout(N,6e4);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}L()(x,"instance",new x),n.d(t,"a",function(){return N})},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=n(3),u=function(){function e(){a()(this,e)}return o()(e,null,[{key:"isSVGElement",value:function(e){return e&&e instanceof Element}},{key:"validateChildElement",value:function(e){if(!e||!e.childNodes)return!1;var t=!0,n=!1,i=void 0;try{for(var a,r=e.childNodes[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(this.isSVGElement(o)){if(this.SVG_NOT_RENDERING_DATA_NODE_NAME.indexOf(o.nodeName)<0)return!0;if(this.validateChildElement(o))return!0}}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return!1}},{key:"validateElement",value:function(e){return!!this.isSVGElement(e)&&(this.SVG_NOT_RENDERING_DATA_NODE_NAME.indexOf(e.nodeName)<0||this.validateChildElement(e))}},{key:"getElementAttribute",value:function(e,t){var n=e.attributes.getNamedItem(t);return n?n.value:null}},{key:"initElementFillColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.SKIP_INIT_NODENAME_LIST.indexOf(e.nodeName)>=0,i=this.NOT_INIT_NODENAME_LIST.indexOf(e.nodeName)<0,a=this.getElementAttribute(e,"fill"),r=this.getElementAttribute(e,"style"),o=r&&r.indexOf("fill")>=0;if(!n){if(a){if(0===a.indexOf("#")){var s=a;4===a.length&&(s=a[0]+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]),e.setAttribute(this.SVG_ATTRIBUTE_FILL,s.toLowerCase()),e.setAttribute(this.SVG_ATTRIBUTE_ORIGIN_FILL,s.toLowerCase())}}else t||!i||o||(e.setAttribute(this.SVG_ATTRIBUTE_FILL,this.SVG_DEFAULT_FILL),e.setAttribute(this.SVG_ATTRIBUTE_ORIGIN_FILL,this.SVG_DEFAULT_FILL));t=!!a;var c=!0,l=!1,u=void 0;try{for(var h,d=e.childNodes[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;p instanceof Element&&this.initElementFillColor(p,t)}}catch(e){l=!0,u=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}}}},{key:"initSvgImageElement",value:function(e){"image"===e.nodeName&&e.setAttribute(this.SVG_XLINK_HREF,"");var t=!0,n=!1,i=void 0;try{for(var a,r=e.childNodes[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;o instanceof Element&&this.initSvgImageElement(o)}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"initSize",value:function(e){if(!e.getAttribute("width")&&e.getAttribute("viewBox")){var t=e.getAttribute("viewBox").split(" ");e.setAttribute("width","".concat(Number(t[2])-Number(t[0]),"px"))}if(!e.getAttribute("height")&&e.getAttribute("viewBox")){var n=e.getAttribute("viewBox").split(" ");e.setAttribute("height","".concat(Number(n[3])-Number(n[1]),"px"))}}},{key:"getOriginColorSet",value:function(e){var t=new Set,n=e.attributes.getNamedItem(this.SVG_ATTRIBUTE_ORIGIN_FILL);n&&n.value!==this.SVG_NOT_FILL&&t.add(n.value);var i=!0,a=!1,r=void 0;try{for(var o,s=e.childNodes[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;if(c instanceof Element){var l=this.getOriginColorSet(c),u=!0,h=!1,d=void 0;try{for(var p,m=l[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){var f=p.value;t.add(f)}}catch(e){h=!0,d=e}finally{try{u||null==m.return||m.return()}finally{if(h)throw d}}}}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return t}},{key:"getUniquekey",value:function(){for(var e=l.StringUtil.random(10).toLowerCase();this.SVG_UNIQUE_GRADIENT_ID_LIST.indexOf(e)>=0;)e=l.StringUtil.random(10).toLowerCase();return this.SVG_UNIQUE_GRADIENT_ID_LIST.push(e),e}},{key:"appendKeyToId",value:function(e,t){t||(t=this.getUniquekey());var n=this.getElementAttribute(e,"id");if(n){var i=(t+n).toLowerCase();e.setAttribute("id",i)}var a=this.getElementAttribute(e,"fill");if(a&&a.indexOf("url(")>=0){var r=a.split("#");r[1]="#".concat(t).concat(r[1].toLowerCase());var o="",s=!0,c=!1,l=void 0;try{for(var u,h=r[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){o+=u.value}}catch(e){c=!0,l=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}e.setAttribute("fill",o)}var d=this.getElementAttribute(e,"style");if(d&&d.indexOf("url(")>=0){var p=d.split("#");p[1]="#".concat(t).concat(p[1].toLowerCase());var m="",f=!0,g=!1,v=void 0;try{for(var E,T=p[Symbol.iterator]();!(f=(E=T.next()).done);f=!0){m+=E.value}}catch(e){g=!0,v=e}finally{try{f||null==T.return||T.return()}finally{if(g)throw v}}e.setAttribute("style",m)}var I=this.getElementAttribute(e,this.SVG_XLINK_HREF);if(I&&I.indexOf("http")<0&&I.indexOf("#")>=0){var _=I.split("#");_[1]="#".concat(t).concat(_[1].toLowerCase());var y="",L=!0,O=!1,S=void 0;try{for(var P,k=_[Symbol.iterator]();!(L=(P=k.next()).done);L=!0){y+=P.value}}catch(e){O=!0,S=e}finally{try{L||null==k.return||k.return()}finally{if(O)throw S}}e.setAttribute(this.SVG_XLINK_HREF,y)}var A=this.getElementAttribute(e,"clip-path");if(A&&A.indexOf("url(")>=0){var R=A.split("#");R[1]="#".concat(t).concat(R[1].toLowerCase());var C="",b=!0,w=!1,x=void 0;try{for(var N,D=R[Symbol.iterator]();!(b=(N=D.next()).done);b=!0){C+=N.value}}catch(e){w=!0,x=e}finally{try{b||null==D.return||D.return()}finally{if(w)throw x}}e.setAttribute("clip-path",C)}var M=!0,B=!1,U=void 0;try{for(var G,F=e.childNodes[Symbol.iterator]();!(M=(G=F.next()).done);M=!0){var H=G.value;this.isSVGElement(H)&&this.appendKeyToId(H,t)}}catch(e){B=!0,U=e}finally{try{M||null==F.return||F.return()}finally{if(B)throw U}}}},{key:"optimizeSvgElement",value:function(e){}}]),e}();c()(u,"SVG_XLINK_HREF","xlink:href"),c()(u,"SVG_UNIQUE_GRADIENT_ID_LIST",[]),c()(u,"SVG_NOT_RENDERING_DATA_NODE_NAME",["g","svg"]),c()(u,"SKIP_INIT_NODENAME_LIST",["defs","linearGradient","radialGradient","title","image","clipPath","pattern","style"]),c()(u,"NOT_INIT_NODENAME_LIST",["g","svg"]),c()(u,"SVG_DEFAULT_FILL","#000000"),c()(u,"SVG_NOT_FILL","none"),c()(u,"SVG_ATTRIBUTE_FILL","fill"),c()(u,"SVG_ATTRIBUTE_ORIGIN_FILL","origin_fill")},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(65),c=n(87),l=function(){function e(){a()(this,e)}return o()(e,null,[{key:"mouseActionToHandle",value:function(e){switch(e){case s.a.MODE_HANDLER_RESIZE_TL:return c.b.TOP_LEFT;case s.a.MODE_HANDLER_RESIZE_T:return c.b.TOP;case s.a.MODE_HANDLER_RESIZE_TR:return c.b.TOP_RIGHT;case s.a.MODE_HANDLER_RESIZE_L:return c.b.LEFT;case s.a.MODE_HANDLER_RESIZE_R:return c.b.RIGHT;case s.a.MODE_HANDLER_RESIZE_BL:return c.b.BOTTOM_LEFT;case s.a.MODE_HANDLER_RESIZE_B:return c.b.BOTTOM;case s.a.MODE_HANDLER_RESIZE_BR:return c.b.BOTTOM_RIGHT;default:return}}}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=function(){function e(){a()(this,e)}return o()(e,null,[{key:"makeCropParam",value:function(e,t){var n=e.pageController.getPageRenderer(t).contents,i=n.getBoundingClientRect(),a=n.parentElement.parentElement.getBoundingClientRect();return{cropContentsLeft:i.left-a.left,cropContentsTop:i.top-a.top,zoomScale:e.zoomScale}}},{key:"getBackgroundCropParam",value:function(t,n,i){var a=e.makeCropParam(t,n);return a.applyChangePosition=!0,a.cropBoxLeft=i.props.getLeft(),a.cropBoxTop=i.props.getTop(),a.cropBoxWidth=n.sheetSize.width,a.cropBoxHeight=n.sheetSize.height,a}},{key:"getImageframeCropParam",value:function(t,n){var i=e.makeCropParam(t,n);return i.canMoveIgnoreCropBox=!0,i.removePhotoCropImgTransform=!0,i}},{key:"getCropParam",value:function(t,n,i){var a=e.makeCropParam(t,n);return a.applyChangePosition=i,a}}]),e}()},,,function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),(i||(i={})).DESIGN_HISTORY_PREVIEW_PLACEHOLDER="".concat("/resources/image","/common/design-history-preview-placeholder.png")},,function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(48),d=n(47),p=n(3),m=n(43),f=function(){function e(){c()(this,e)}var t,n,i,r,s;return u()(e,null,[{key:"insert",value:(s=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.UnicornApiRequest.post(p.CRM.get(m.a.MY_COLLECTION_INSERT),{data:t});case 2:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},{key:"delete",value:(r=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.UnicornApiRequest.delete(p.CRM.get(m.a.MY_COLLECTION_DELETE_BY_PK),{data:JSON.stringify(t),contentType:"application/json"});case 2:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})},{key:"getList",value:(i=o()(a.a.mark(function e(t){var n,i,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getListParam(t),i=this.getListUrl(n.fromAccountId),e.next=4,d.UnicornApiRequest.get("".concat(i,"?").concat($.param(n,!0)));case 4:return r=e.sent,o=r.data,e.abrupt("return",{list:o.list,pagination:o.pagination});case 7:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getListParam",value:function(e){var t=[];if(e.resourceType)t.push(e.resourceType);else{var n=!0,i=!1,a=void 0;try{for(var r,o=h.b.values()[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;t.push(s)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}var c={resourceTypeList:t,page:e.page,pageSize:e.pageSize};if(e.category)if(e.category.idx>=0)c.categoryIdx=e.category.idx;else{var l=new Date;"최근 일주일"===e.category.text?l.setDate(l.getDate()-7):"최근 한달"===e.category.text?l.setMonth(l.getMonth()-1):l.setFullYear(l.getFullYear()-1),c.startDate=this.dateToString(l)}else c.categoryIdx=0;return e.keyword&&(c.keyword=e.keyword),e.fromAccountId&&0!==e.fromAccountId&&(c.fromAccountId=e.fromAccountId),c}},{key:"getListUrl",value:function(e){return"".concat(p.CRM.get(m.a.MY_COLLECTION_FILTER_HOST),e&&0!==e?"/api/my-collection/list-share":"/api/my-collection/list")}},{key:"dateToString",value:function(e){return e.toLocaleString("en-us",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/(\d+)\/(\d+)\/(\d+)/,"$3-$1-$2")}},{key:"getListByReferenceKeyList",value:(n=o()(a.a.mark(function e(t,n,i){var r,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.CRM.get(m.a.MY_COLLECTION_LIST_BY_REFERENCE_KEY_LIST),o={referenceKeyList:t,resourceType:n,repositoryType:i},e.next=4,d.UnicornApiRequest.get("".concat(r,"?").concat($.param(o,!0)));case 4:return s=e.sent,e.abrupt("return",s.data.list);case 6:case"end":return e.stop()}},e)})),function(e,t,i){return n.apply(this,arguments)})},{key:"findOne",value:(t=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURI($.param(t)),e.next=3,d.UnicornApiRequest.get("".concat(p.CRM.get(m.a.MY_COLLECTION_FILTER_HOST),"/api/my-collection/select?").concat(n));case 3:return i=e.sent,e.abrupt("return",i.data);case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return h});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=function(){function e(){c()(this,e)}var t;return u()(e,null,[{key:"renderThumbnailByMaximumSize",value:(t=o()(a.a.mark(function e(t,n){var i,r,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Math.max(t.sheetSize.width,t.sheetSize.height),r=i>n?n/i:1,o=t.sheetSize.width*r,s=t.sheetSize.height*r,e.next=6,t.renderThumbnail(o,s,r);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})}]),e}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return f});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(70),d=n(3),p=n(43),m=n(88),f=function(){function e(){c()(this,e)}var t,n;return u()(e,null,[{key:"getSvgWidth",value:function(e){return Number(e.getAttribute("width").replace(/[^\d.]/g,""))}},{key:"getSvgHeight",value:function(e){return Number(e.getAttribute("height").replace(/[^\d.]/g,""))}},{key:"makeImageframeData",value:function(e){var t=new m.b,n=e.cloneNode(!0);h.a.makeUnicornSvgElement(n),n.style.position="absolute",n.style.visibility="hidden",document.body.appendChild(n);var i=this.getSvgWidth(n),a=this.getSvgHeight(n);t.status=m.g.INACTIVE,t.svg=e.cloneNode(!0),t.width=i,t.height=a,t.minWidth=i,t.minHeight=a;for(var r=h.a.getOriginFillColors(n),o=0;o<r.length;o++){var s=r[o],c=new m.a;c.color=s,c.editable=!0,c.photoInColor=0===o,t.addColor(c)}if(r.length<1)throw new Error("Imageframe has no color");var l=h.a.getFirstElementByOriginColor(n,r[0]).getBoundingClientRect(),u=new m.e;return u.color=r[0],u.width=l.width,u.height=l.height,u.x=l.left,u.y=l.top,t.maskData=u,document.body.removeChild(n),t}},{key:"appendImageframeInsertData",value:function(e,t){e.append("status",t.status.value),e.append("width",String(t.width)),e.append("height",String(t.height)),e.append("minWidth",String(t.minWidth)),e.append("minHeight",String(t.minHeight));for(var n=0;n<t.colorList.length;n++){var i=t.colorList[n];e.append("colorDtoList[".concat(n,"].color"),i.color),e.append("colorDtoList[".concat(n,"].editable"),String(i.editable)),e.append("colorDtoList[".concat(n,"].photoInColor"),String(i.photoInColor))}e.append("imageFrameMaskMetaDto.width",String(t.maskData.width)),e.append("imageFrameMaskMetaDto.height",String(t.maskData.height)),e.append("imageFrameMaskMetaDto.x",String(t.maskData.x)),e.append("imageFrameMaskMetaDto.y",String(t.maskData.y)),e.append("imageFrameMaskMetaDto.color",String(t.maskData.color))}},{key:"makeImageframeDataFromFileKey",value:(n=o()(a.a.mark(function e(t){var n,i,r,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getImageframeFile(t);case 2:return n=e.sent,i=new DOMParser,r=i.parseFromString(n,"image/svg+xml"),o=r.getElementsByTagName("svg").item(0),h.a.makeUnicornSvgElement(o),(s=this.makeImageframeData(o)).svg=o,s.key=t,e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getImageframeFile",value:(t=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get(d.CRM.get(p.a.SVG_HOST)+"/file/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return O}),n.d(t,"a",function(){return S});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(46),g=n.n(f),v=n(40),E=n.n(v),T=n(45),I=n(59),_=n(50),y=n(101),L=function(e){function t(e,n,i,a){var r,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return c()(this,t),(r=d()(this,m()(t).call(this,e,i,a,o))).stickerId=n,r.actionType=T.a.ADD_STICKER,r}var n,i;return E()(t,e),u()(t,[{key:"getImageSize",value:(i=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.from(t,!0).getStickerData(this.stickerId);case 2:return n=e.sent.thumb800url,e.next=5,I.b.setUrlImage(this.stickerId,n);case 5:return i=e.sent,e.abrupt("return",{imgWidth:i.width,imgHeight:i.height});case 7:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"createNewItem",value:(n=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new _.e(t,n.left,n.top,n.right,n.bottom));case 1:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"setItemOption",value:function(e){g()(m()(t.prototype),"setItemOption",this).call(this,e);var n=e;n.props.setPhotoKey(this.stickerId),n.orgType=this.getOriginalPhotoType()}}]),t}(n(92).j),O=function(e){function t(e,n,i,a,r){return c()(this,t),d()(this,m()(t).call(this,e,n,i,a,r))}return E()(t,e),u()(t,[{key:"getOriginalPhotoType",value:function(){return _.b.Image}}]),t}(L),S=function(e){function t(e,n,i,a,r){return c()(this,t),d()(this,m()(t).call(this,e,n,i,a,r))}return E()(t,e),u()(t,[{key:"getOriginalPhotoType",value:function(){return _.b.Sticker}}]),t}(L)},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var i=n(35),a=n.n(i),r=n(39),o=n.n(r),s=n(38),c=n.n(s),l=n(40),u=n.n(l),h=n(214),d=n(48),p=function(e){function t(e){return a()(this,t),o()(this,c()(t).call(this,e,d.a.LINE))}return u()(t,e),t}(h.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return O});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(39),c=n.n(s),l=n(38),u=n.n(l),h=n(46),d=n.n(h),p=n(40),m=n.n(p),f=n(63),g=n(12),v=n(108),E=n(121),T=n(89),I=n(41),_=n(42),y=n(94),L=n(237),O=function(e){function t(){return a()(this,t),c()(this,u()(t).apply(this,arguments))}return m()(t,e),o()(t,[{key:"makeFavoritesBtn",value:function(){var e=this,t=this.favoritesBtn=document.createElement("div");t.className=L.a.FAVORITES_WRAP,this.contents.appendChild(t);var n=y.a.makeBtnFavorites("add_favorites",g.ToolsIcon.HEART);n.addEventListener("click",function(n){n.stopPropagation(),n.preventDefault();var i=e.favoritesParam;i.useFavorite&&i.myCollectionPk&&v.a.openLoginPopup(T.a.FAVORITES,function(){E.a.registerFavorite(i.myCollectionPk),t.classList.add(I.a.MY_COLLECTION)})}),t.appendChild(n);var i=y.a.makeBtnFavorites("cancel_favorites",g.ToolsIcon.HEART_FILL);return i.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation();var i=e.favoritesParam;i.useFavorite&&i.myCollectionPk&&v.a.openLoginPopup(T.a.FAVORITES,function(){E.a.unregisterFavorite(i.myCollectionPk),t.classList.remove(I.a.MY_COLLECTION)})}),t.appendChild(i),t}},{key:"renderFavorite",value:function(e){if(e&&_.a.instance.user.isLogin()&&this.favoritesBtn){var t=E.a.get(e);t&&t.isFavorite()?this.favoritesBtn.classList.add(I.a.MY_COLLECTION):this.favoritesBtn.classList.remove(I.a.MY_COLLECTION)}else this.favoritesBtn.classList.remove(I.a.MY_COLLECTION)}},{key:"makeElement",value:function(){(this.contents=document.createElement("div")).className=L.a.LEFT_MENU_DDDOT_POPUP_WRAPPER,this.makeBtnClose=!1}},{key:"openPopup",value:function(e,n){this.favoritesParam=e,this.favoritesParam.useFavorite&&this.renderFavorite(e.myCollectionPk),d()(u()(t.prototype),"open",this).call(this,n)}},{key:"getContents",value:function(){return this.contents}},{key:"updateUI",value:function(){}}]),t}(f.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return I});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(45),m=n(97),f=n(42),g=n(163),v=n(3),E=n(62),T=n(465),I=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.a.instance.renderPageIdx;c()(this,e),d()(this,"doSaveQueue",!0),d()(this,"actionType",p.a.ADD_TEXT_ITEM),d()(this,"isActionGroupEquals",function(){return!1}),d()(this,"concat",function(e){return!1}),d()(this,"changeDesign",function(){return!0}),d()(this,"isLastSavedAction",!1),d()(this,"commit",function(){var e=o()(a.a.mark(function e(n,i,r){var o,s,c,l,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.newItems,e.next=3,m.a.getDefaultText();case 3:return s=e.sent,c=i.size,l=c.pageOffsetX*i.zoomScale+c.pageWidth*i.zoomScale/2,u=c.pageOffsetY*i.zoomScale+c.pageHeight*i.zoomScale/2,e.next=9,g.b.loadToPage(s.idx,t.pageIdx,t.newItems,l,u,!1);case 9:return t.newItems=e.sent,e.next=12,r.renderAppHeader(n,i);case 12:i.env.browser.isMobile()||o||t.selectTextItemWordAll();case 13:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),d()(this,"rollback",function(){var e=o()(a.a.mark(function e(n,i,r){var o,s,c,l,u,h,d;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=n.pages[t.pageIdx],s=!0,c=!1,l=void 0,e.prev=4,u=t.newItems[Symbol.iterator]();!(s=(h=u.next()).done);s=!0)(d=h.value)instanceof E.b&&d.isEditMode&&i.pageController.getItemRenderer(d).toggleEditMode(),o.removeItem(d);e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),c=!0,l=e.t0;case 12:e.prev=12,e.prev=13,s||null==u.return||u.return();case 15:if(e.prev=15,!c){e.next=18;break}throw l;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.next=22,r.renderAuto(n,i);case 22:case"end":return e.stop()}},e,null,[[4,8,12,20],[13,,15,19]])}));return function(t,n,i){return e.apply(this,arguments)}}()),d()(this,"recycle",function(){}),this.pageIdx=n}return u()(e,[{key:"selectTextItemWordAll",value:function(){!v.ArrayUtil.isEmpty(this.newItems)&&this.newItems[0]instanceof E.b&&T.a.selectTextItemWordAll(this.newItems[0])}}]),e}()},,,,,,,,,function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){function t(e){e.focus(),e.setSelectionRange(0,999999)}e.copyValue=function(e){t(e),document.execCommand("copy"),window.getSelection().removeAllRanges(),e.blur()},e.selectAll=t}(i||(i={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(37),c=n.n(s),l=n(41),u=function(){function e(){a()(this,e),c()(this,"doTimeout",!0),this.element=document.createElement("div"),this.element.className=l.a.DESIGN_VIEWER_PROGRESS_BAR,this.wrap=document.createElement("div"),this.container=document.createElement("div"),this.container.className=l.a.CONTAINER,this.wrap.appendChild(this.container),this.focusBar=document.createElement("div"),this.focusBar.className=l.a.FOCUS_BAR,this.wrap.appendChild(this.focusBar),this.element.appendChild(this.wrap),this.bindEvent()}return o()(e,[{key:"bindEvent",value:function(){var e=this;this.element.addEventListener("mouseenter",function(){e.doTimeout=!1,e.show()}),this.element.addEventListener("mouseleave",function(){e.doTimeout=!0,e.show()}),this.element.addEventListener("click",function(e){return e.stopPropagation()})}},{key:"init",value:function(e){e>1?this.enable():this.disable(),this.container.innerHTML="";for(var t=0;t<e;t++)this.container.appendChild(this.makePartitionBox(t))}},{key:"enable",value:function(){this.element.classList.remove(l.a.DISABLE)}},{key:"disable",value:function(){this.element.classList.add(l.a.DISABLE)}},{key:"makePartitionBox",value:function(e){var t=this,n=document.createElement("div");return n.addEventListener("click",function(){t.activePageIdx!==e&&t.focusPage(e)}),n}},{key:"setPage",value:function(e){if(!(e<0||e>this.container.childElementCount-1)){var t=this.activePageIdx;this.activePageIdx=e,this.moveFocusBar(),this.activePageIdx!==t&&this.show()}}},{key:"moveFocusBar",value:function(){var e=this.container.childNodes[this.activePageIdx];if(!e)throw new Error("인덱스가 잘못되었습니다.");var t=e.getBoundingClientRect();this.focusBar.style.transform="translateX(calc(".concat(t.right,"px - 100%))")}},{key:"show",value:function(){var e=this;this.wrap.classList.remove(l.a.HIDDEN);var t=(new Date).getTime();this.lastShowTime=t,this.doTimeout&&setTimeout(function(){e.lastShowTime===t&&e.wrap.classList.add(l.a.HIDDEN)},3e3)}}]),e}()},,function(e,t,n){"use strict";var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(0),c=n.n(s),l=n(1),u=n.n(l),h=n(39),d=n.n(h),p=n(38),m=n.n(p),f=n(46),g=n.n(f),v=n(40),E=n.n(v),T=n(184),I=n(64),_=n(379),y=n(49),L=n(42),O=function(){function e(t,n,i){a()(this,e),this.photoCrop=t,this.makeElement(n,i)}return o()(e,[{key:"makeElement",value:function(e,t){var n=document.createElement("div");n.className="crop_area",n.style.width="".concat(e,"px"),n.style.height="".concat(t,"px"),this.areaElem=n;var i=document.createElement("div");i.className="crop_box",i.style.width="".concat(e,"px"),i.style.height="".concat(t,"px"),this.boxElem=i;var a=document.createElement("div");a.className="crop_box_overflow",this.boxImgElem=document.createElement("img");var r=document.createElement("div");r.className="crop_box_img_translate",this.boxImgTranslateElem=r;var o=document.createElement("div");o.className="crop_box_img_scale",this.boxImgScaleElem=o,this.boxImgScaleElem.appendChild(this.boxImgElem),this.boxImgTranslateElem.appendChild(this.boxImgScaleElem),a.appendChild(this.boxImgTranslateElem),this.boxElem.appendChild(a),this.areaElem.appendChild(this.boxElem),this.cropContentsElement=document.createElement("div"),this.cropContentsElement.className="crop_contents"}},{key:"setCropContentsElementPosition",value:function(e){var t=e.zoomScale;this.cropContentsElement.style.transform="scale(".concat(t*L.a.instance.pageEditScale,")"),this.cropContentsElement.style.transformOrigin="0% 0%",this.cropContentsElement.style.left="".concat(Math.ceil(e.cropContentsLeft),"px"),this.cropContentsElement.style.top="".concat(Math.ceil(e.cropContentsTop),"px"),this.cropContentsElement.style.width="".concat(e.cropBoxWidth,"px"),this.cropContentsElement.style.height="".concat(e.cropBoxHeight,"px")}}]),e}(),S=function(){function e(t){a()(this,e),this.item=t,this.photoCrop=t.photoCrop,this.cropElements=new O(t.photoCrop,t.itemPosition.getWidth(),t.itemPosition.getHeight()),this.updateBox(),this.updateBoxImgTranslate()}return o()(e,[{key:"updateBox",value:function(){this.cropElements.boxElem.style.transform="translate(".concat(this.photoCrop.boxDivRect.left,"px, ").concat(this.photoCrop.boxDivRect.top,"px)"),this.cropElements.boxElem.style.width="".concat(this.photoCrop.boxDivRect.width,"px"),this.cropElements.boxElem.style.height="".concat(this.photoCrop.boxDivRect.height,"px"),this.photoCrop.cropAreaRect=this.cropElements.boxElem.getBoundingClientRect()}},{key:"updateImgSize",value:function(e,t){this.cropElements.boxImgElem.style.width="".concat(e,"px"),this.cropElements.boxImgElem.style.height="".concat(t,"px")}},{key:"updateBoxImgTranslate",value:function(){var e=this.photoCrop.cloneDivRect.left-this.photoCrop.boxDivRect.left,t=this.photoCrop.cloneDivRect.top-this.photoCrop.boxDivRect.top;this.cropElements.boxImgTranslateElem.style.transform="translate(".concat(e,"px, ").concat(t,"px)"),this.photoCrop.imgPositionV.x=e,this.photoCrop.imgPositionV.y=t}},{key:"addCropElements",value:function(e,t){this.cropElements.mainPageElement&&(this.cropElements.setCropContentsElementPosition(e),this.cropElements.cropPhotoCloneElement||this.cropElements.cropPhotoImgCloneElement||(this.cropElements.cropPhotoCloneElement=t.elementWrapper.cloneNode(),this.cropElements.cropPhotoImgCloneElement=t.element.cloneNode(),e.removePhotoCropImgTransform&&(this.cropElements.cropPhotoImgCloneElement.style.transform=""),this.cropElements.cropPhotoCloneElement.className="crop_photo_clone",this.cropElements.cropPhotoImgCloneElement.className="crop_photo_img_clone"),this.cropElements.mainPageElement.parentElement&&this.cropElements.mainPageElement.parentElement.appendChild(this.cropElements.cropContentsElement),this.cropElements.cropContentsElement.appendChild(this.cropElements.cropPhotoCloneElement),this.cropElements.cropPhotoCloneElement.appendChild(this.cropElements.cropPhotoImgCloneElement),this.cropElements.cropContentsElement.appendChild(this.cropElements.areaElem))}},{key:"positionAdjustmentAboutFlip",value:function(e){var t=this.item;if(t.props.isFlipH()){var n=t.itemPosition.left-e.left+(t.itemPosition.right-e.right);t.itemPosition.move(-n,0)}if(t.props.isFlipV()){var i=t.itemPosition.top-e.top+(t.itemPosition.bottom-e.bottom);t.itemPosition.move(0,-i)}}},{key:"getCenterOffset",value:function(e,t){new y.c(0,0);var n=this.item.props.getRotate(),i=this.item.itemPosition.getCenterPos(),a=e.getCenterPos(),r=y.b.calcLocationByRotate(i,a,n),o=y.b.calcLocationByRotate(a,i,n);return t?o.sub(a):r.sub(i)}},{key:"enterCropMode",value:function(t,n,i){var a=this.item;a.backupRect=a.getLTRBCoordinate(),a.backupImgRect=a.itemPosition.clone(),this.addCropElements(t,n),e.displayPhotoElements(n,!1),this.positionAdjustmentAboutFlip(a.getLTRBCoordinate());var r=a.itemPosition.clone().changeScale(i),o=this.getCenterOffset(this.item.getLTRBCoordinate(),!1),s=r.left+o.x,c=r.top+o.y,l=r.getWidth(),u=r.getHeight();this.setPhotoCropArea(s,c,l,u,this.item.props.getRotate()),this.setPhotoCropBox(l,u),a.itemPosition=new y.a(s,c,s+l,c+u),a.props.setPosition(s,c,s+l,c+u),this.updateCropCloneElement()}},{key:"setPhotoCropArea",value:function(t,n,i,a,r){this.setAreaDivRect(t,n,i,a),this.cropElements.areaElem.style.transform="translate(".concat(t,"px, ").concat(n,"px) rotate(").concat(r,"deg)"),e.setElementSize(this.cropElements.areaElem,i,a)}},{key:"setPhotoCropBox",value:function(e,t){var n=this.item;if(n.photoCrop.initPhotoCloneBox(0,0,e,t),this.updateImgSize(e,t),n.photoCrop.updateBoxVisible(e,t),n.photoCrop.isCropped){var i=n.getLTRBCoordinate(),a=n.itemPosition.clone(),r=i.left-a.left,o=i.top-a.top;n.photoCrop.initBox(r,o,i.getWidth(),i.getHeight())}this.updateBox()}},{key:"setAreaDivRect",value:function(e,t,n,i){var a=this.item;a.photoCrop.areaDivRect.left=e,a.photoCrop.areaDivRect.top=t,a.photoCrop.areaDivRect.width=n,a.photoCrop.areaDivRect.height=i}},{key:"exitCropMode",value:function(t,n,i){t.applyChangePosition?this.applayCrop(i):this.cancelCrop(),e.displayPhotoElements(n,!0),this.updateCropCloneElement(),this.cropElements.mainPageElement=null,this.cropElements.cropContentsElement.parentElement&&this.cropElements.cropContentsElement.parentElement.removeChild(this.cropElements.cropContentsElement)}},{key:"applayCrop",value:function(e){var t=this.item,n=t.getLTRBCoordinate(),i=n.left-t.photoCrop.imgPositionV.x,a=n.top-t.photoCrop.imgPositionV.y,r=t.photoCrop.getBoxDivRect(),o=i+r.width,s=a+r.height;t.itemPosition=t.getLTRBCoordinate().clone();var c=new y.a(i,a,o,s),l=this.getCenterOffset(c,!0);t.itemPosition.move(l.x,l.y),c.move(l.x,l.y),t.props.setPosition(c.left,c.top,c.right,c.bottom),this.positionAdjustmentAboutFlip(c),t.photoCrop.applyBoxPosition()}},{key:"cancelCrop",value:function(){var e=this.item;e.props.setPosition(e.backupRect.left,e.backupRect.top,e.backupRect.right,e.backupRect.bottom),e.itemPosition=e.backupImgRect.clone()}},{key:"updateCropCloneElement",value:function(){var t=this.item.itemPosition.clone();this.cropElements.cropPhotoCloneElement.style.transform="translate(".concat(t.left,"px, ").concat(t.top,"px) \n            rotate(").concat(this.item.props.getRotate(),"deg)"),e.setElementSize(this.cropElements.cropPhotoCloneElement,t.getWidth(),t.getHeight()),e.setElementSize(this.cropElements.cropPhotoImgCloneElement,t.getWidth(),t.getHeight())}},{key:"changeCropMode",value:function(e,t,n,i){n?this.enterCropMode(e,t,i):this.exitCropMode(e,t,i)}},{key:"update",value:function(){this.updateBox(),this.updateBoxImgTranslate(),this.updateImgSize(this.item.getWidth(),this.item.getHeight()),this.updateCropCloneElement()}},{key:"setImageSrc",value:function(e){this.cropElements.boxImgElem&&(this.cropElements.boxImgElem.src=e),this.cropElements.cropPhotoImgCloneElement&&(this.cropElements.cropPhotoImgCloneElement.src=e)}},{key:"setMainPageElement",value:function(e){this.cropElements.mainPageElement=e}}],[{key:"displayPhotoElements",value:function(e,t){var n=t?"":"none";e.element.style.display=n,e.liveCanvasElement&&(e.liveCanvasElement.style.display=n)}},{key:"setElementSize",value:function(e,t,n){e.style.width="".concat(Math.ceil(t),"px"),e.style.height="".concat(Math.ceil(n),"px")}}]),e}(),P=n(59),k=n(51),A=function(){function e(t){a()(this,e),this.item=t}return o()(e,[{key:"makeElement",value:function(){return this.element&&this.elementWrapper||this.createInitialElement(),{element:this.element,wrapper:this.elementWrapper}}},{key:"removeElement",value:function(){this.elementWrapper&&(this.elementWrapper.parentNode&&this.elementWrapper.parentNode.removeChild(this.elementWrapper),this.elementWrapper=null,this.element=null)}},{key:"createInitialElement",value:function(){var e=document.createElement("div");e.className="".concat(k.e.ITEM_CLASS," ").concat(this.item.getItemType().toLowerCase()),e.setAttribute("data-id",this.item.tbpeId);var t=document.createElement("img");e.appendChild(t),this.elementWrapper=e,this.element=t}}]),e}(),R=function(e){function t(e){return a()(this,t),d()(this,m()(t).call(this,e))}return E()(t,e),o()(t,[{key:"makeElement",value:function(){var e=g()(m()(t.prototype),"makeElement",this).call(this);if(!this.shadowCanvas){var n=I.a.createCanvas();n.style.display="none",n.style.position="absolute",n.style.zIndex="-1",e.element.style.zIndex="10",e.wrapper.insertBefore(n,e.element),this.shadowCanvas=n}return this._downloadCheck&&this._downloadCheck(this.elementWrapper),e}},{key:"removeElement",value:function(){this.shadowCanvas&&this.shadowCanvas.parentElement&&(this.shadowCanvas.parentElement.removeChild(this.shadowCanvas),this.shadowCanvas=null),g()(m()(t.prototype),"removeElement",this).call(this)}},{key:"downloadCheck",set:function(e){this._downloadCheck=e}}]),t}(A),C=function(e){function t(e){var n;return a()(this,t),(n=d()(this,m()(t).call(this,e))).photoCropRenderer=new S(e),n}var n;return E()(t,e),o()(t,[{key:"createElements",value:function(){this.elements=new R(this.item)}},{key:"updateContents",value:(n=u()(c.a.mark(function e(){var t,n,i,a,r=this,o=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:this.elements.element,n=o.length>1&&void 0!==o[1]?o[1]:this.lastRenderEditScale,i=o.length>2&&void 0!==o[2]&&o[2],a=i&&this.item.isActiveLiveEdit,e.abrupt("return",new Promise(function(){var e=u()(c.a.mark(function e(i,o){var s,l,u,h,d,p,m,f,g,v,E,T,L,O,S,P,k,A,R,C,b,w,x;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.item.getCanvasPosData(n),l=s.width,u=s.height,h=s.contentleft,d=s.contenttop,p=s.offsetX,m=s.offsetY,(f=r.item.getImageElement())?(g=f.width,v=f.height,L=r.item.props.getWidth()/r.item.itemPosition.getWidth(),O=r.item.props.getHeight()/r.item.itemPosition.getHeight(),E=g*L,T=v*O):(g=Math.ceil(r.item.props.getWidth()*n),v=Math.ceil(r.item.props.getHeight()*n),E=g,T=v),!a||r.item.isResourceLoadFail()){e.next=29;break}if(t.parentNode&&t.parentNode.removeChild(t),null!=r.elements.liveCanvasElement&&null==(r.item.isActiveWebGLFilter?r.elements.liveCanvasElement.getContext("webgl")||r.elements.liveCanvasElement.getContext("experimental-webgl"):r.elements.liveCanvasElement.getContext("2d"))&&(r.elements.liveCanvasElement.parentNode&&r.elements.liveCanvasElement.parentNode.removeChild(r.elements.liveCanvasElement),r.elements.liveCanvasElement=null),null==r.elements.liveCanvasElement&&(r.elements.liveCanvasElement=_.a.getCanvas(),r.elements.liveCanvasElement.style.position="absolute",r.elements.liveCanvasElement.style.display="",r.elements.elementWrapper.appendChild(r.elements.liveCanvasElement)),r.elements.liveCanvasElement.width=E,r.elements.liveCanvasElement.height=T,!r.item.isActiveWebGLFilter||!_.a.isEnableWebGL()){e.next=20;break}S=r.item.getPhotoImageRect(n),P=g/r.item.itemPosition.getWidth(),k=v/r.item.itemPosition.getHeight(),A=new y.a(S.left*P,S.top*k,S.right*P,S.bottom*k),_.a.renderWebGL(r.item,A,n,E,T),r.elements.liveCanvasElement.parentElement||(r.elements.liveCanvasElement.style.position="absolute",r.elements.elementWrapper.appendChild(r.elements.liveCanvasElement)),r.item.renderShadow(r.elements.shadowCanvas,n,r.elements.liveCanvasElement,l,u),r.updateShadowPosition(n),e.next=27;break;case 20:return(R=r.elements.liveCanvasElement.getContext("2d")).translate(-h+p,-d+m),e.next=24,r.item.render(R,1);case 24:r.item.renderShadow(r.elements.shadowCanvas,n,R.canvas,l,u),r.updateShadowPosition(n),r.updateContentsAfter(R,n);case 27:e.next=46;break;case 29:return(C=I.a.createCanvas()).width=E,C.height=T,t.parentNode!==r.elements.elementWrapper&&r.elements.elementWrapper.appendChild(t),r.elements.liveCanvasElement&&(r.elements.liveCanvasElement.parentElement&&r.elements.liveCanvasElement.parentElement.removeChild(r.elements.liveCanvasElement),r.elements.liveCanvasElement=null),r.elements.shadowIncludedCanvas&&(r.elements.shadowIncludedCanvas.parentElement&&r.elements.shadowIncludedCanvas.parentElement.removeChild(r.elements.shadowIncludedCanvas),r.elements.shadowIncludedCanvas=null),(b=C.getContext("2d")).translate(-h+p,-d+m),e.next=39,r.item.render(b,1);case 39:r.item.renderShadow(r.elements.shadowCanvas,n,b.canvas,l,u),r.updateShadowPosition(n),r.updateContentsAfter(b,n),t.onload=function(){return i()},t.onerror=function(){return o()},w=r.item.canDrawShadow()?3:1,t.src=r.item.getLimitedCanvasSizeImgSrc(C,E,T,w);case 46:(x=a&&r.elements.liveCanvasElement?r.elements.liveCanvasElement:t).style.width="".concat(l,"px"),x.style.height="".concat(u,"px"),x.style.left="".concat(h-p,"px"),x.style.top="".concat(d-m,"px"),r.updateShadowPosition(n),i(t);case 53:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.elementWrapper,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;if(L.a.isCropMode()&&this.item.isEditMode){var i=this.item.getWidth(),a=this.item.getHeight();this.elements.elementWrapper.style.width="".concat(i,"px"),this.elements.elementWrapper.style.height="".concat(a,"px"),this.elements.element.style.width="".concat(i,"px"),this.elements.element.style.height="".concat(a,"px"),this.photoCropRenderer.update()}else{var r=this.item.getCanvasPosData(n),o=r.width,s=r.height,c=r.contentleft,l=r.contenttop,u=r.offsetX,h=r.offsetY;this.elements.liveCanvasElement&&(this.elements.liveCanvasElement.style.width="".concat(o,"px"),this.elements.liveCanvasElement.style.height="".concat(s,"px"),this.elements.liveCanvasElement.style.left="".concat(c-u,"px"),this.elements.liveCanvasElement.style.top="".concat(l-h,"px")),this.elements.element.style.width="".concat(o,"px"),this.elements.element.style.height="".concat(s,"px"),this.elements.element.style.left="".concat(c-u,"px"),this.elements.element.style.top="".concat(l-h,"px"),this.updateShadowPosition(n),g()(m()(t.prototype),"updatePosition",this).call(this,e,n)}return this}},{key:"updateShadowPosition",value:function(e){if(this.item.canDrawShadow()){var t=Math.ceil(this.item.props.getWidth()*e),n=Math.ceil(this.item.props.getHeight()*e),i=t<n?t:n,a=this.item.props.getShadowDistance()*i/130,r=y.b.getPointByDistanceAngle(a,this.item.props.getShadowAngle()+90-this.item.props.getRotate()),o=this.item.getShadowCanvasPosData(e);this.elements.shadowCanvas.style.display="block",this.elements.shadowCanvas.style.width="".concat(o.width,"px"),this.elements.shadowCanvas.style.height="".concat(o.height,"px"),this.elements.shadowCanvas.style.left="".concat(o.contentleft-o.offsetX+r.cx,"px"),this.elements.shadowCanvas.style.top="".concat(o.contenttop-o.offsetY+r.cy,"px")}else this.elements.shadowCanvas.style.display="none"}},{key:"toggleEditMode",value:function(e){var t=this.item;t.isEditMode=!t.isEditMode,L.a.isDefaultMode()?L.a.setCropMode():L.a.setDefaultMode(),t.canIgnoreCropBox=!!e.canMoveIgnoreCropBox,this.photoCropRenderer.changeCropMode(e,this.elements,L.a.isCropMode(),this.lastRenderEditScale)}},{key:"changeNormalMode",value:function(){L.a.isCropMode()&&this.toggleEditMode({cropContentsTop:0,cropContentsLeft:0,zoomScale:0}),this.item.isEditMode=!1}},{key:"cloneImageSrcToCropImageElement",value:function(){var e=this.elements.element.src;this.photoCropRenderer.setImageSrc(e)}},{key:"updatePhoto",value:function(e,t){var n=this;P.b.setUrlImage(e,t,P.a.NONE,!0).then(function(e){n.updateContents(n.elements.element,n.lastRenderEditScale)})}}]),t}(T.a),b=n(44),w=n.n(b),x=n(37),N=n.n(x),D=n(82),M=function(e){function t(e){return a()(this,t),d()(this,m()(t).call(this,e))}return E()(t,e),o()(t,[{key:"makeElement",value:function(){var e=g()(m()(t.prototype),"makeElement",this).call(this);return this.item.props.isColorInit(),this.shadowSvgDivElement||(this.shadowSvgDivElement=document.createElement("div"),this.shadowSvgDivElement.id="".concat(this.item.tbpeId).concat(this.item.svgUniqueKey,"shadow"),this.shadowSvgDivElement.style.position="absolute",this.shadowSvgDivElement.style.display="none",this.shadowSvgDivElement.style.zIndex="-1",e.wrapper.insertBefore(this.shadowSvgDivElement,e.element)),this.svgDivElement||(this.svgDivElement=document.createElement("div"),this.svgDivElement.id="".concat(this.item.tbpeId).concat(this.item.svgUniqueKey),this.svgDivElement.style.position="absolute",this.svgDivElement.style.left="0px",this.svgDivElement.style.top="0px",this.svgDivElement.style.width="100%",this.svgDivElement.style.height="100%",this.svgDivElement.style.zIndex="10",e.wrapper.appendChild(this.svgDivElement)),this.item.isResourceLoadFail()?(this.svgDivElement.style.display="none",e.element.style.display="inline"):(this.svgDivElement.style.display="block",e.element.style.display="none"),e}},{key:"removeElement",value:function(){this.shadowSvgDivElement&&this.shadowSvgDivElement.parentElement&&(this.shadowSvgDivElement.parentElement.removeChild(this.shadowSvgDivElement),this.shadowSvgDivElement=null),this.svgDivElement&&this.svgDivElement.parentElement&&(this.svgDivElement.parentElement.removeChild(this.svgDivElement),this.svgDivElement=null),g()(m()(t.prototype),"removeElement",this).call(this)}}]),t}(A),B=function(e){function t(e){var n;return a()(this,t),n=d()(this,m()(t).call(this,e)),N()(w()(n),"thumbRevision",-1),n}var n,i;return E()(t,e),o()(t,[{key:"createElements",value:function(){this.elements=new M(this.item)}},{key:"updateContents",value:(i=u()(c.a.mark(function e(t){var n,i=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:this.lastRenderEditScale,this.item.isResourceLoadFail()){e.next=9;break}return e.next=4,this.item.beforeRender(n);case 4:return this.domUpdate(n),this.updateThumbnail(),e.abrupt("return",t);case 9:return e.abrupt("return",this.updateContentsElem(t,n));case 10:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.elementWrapper,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;return this.item.svgElements.updatePosition(n),g()(m()(t.prototype),"updatePosition",this).call(this,e,n),this}},{key:"updateContentsElem",value:(n=u()(c.a.mark(function e(t,n){var i=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=u()(c.a.mark(function e(a,r){var o,s,l,u,h,d,p,m,f;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.item.getCanvasPosData(n),s=o.width,l=o.height,u=o.contentleft,h=o.contenttop,d=o.offsetX,p=o.offsetY,(m=I.a.createCanvas()).width=s,m.height=l,(f=m.getContext("2d")).translate(-u+d,-h+p),e.next=8,i.item.renderResourceLoadFailView(f,n);case 8:i.updateContentsAfter(f,n),t.onload=function(){return a()},t.onerror=function(){return r()},t.src=m.toDataURL(),t.style.width=s+"px",t.style.height=l+"px",t.style.left=u-d+"px",t.style.top=h-p+"px",a(t);case 17:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"domUpdate",value:function(e){var t=this.item.props.isFlipH()?-1:1,n=this.item.props.isFlipV()?-1:1;this.elements.shadowSvgDivElement.style.transform="scale(".concat(t,", ").concat(n,")"),this.elements.svgDivElement.style.transform="scale(".concat(t,", ").concat(n,")");var i=this.item.svgElements.shadowElements.svgShadowElement;if(this.item.props.isActiveShadow()){var a=this.item.getCanvasPosData(e),r=this.item.getShadowPosPoint(e),o=a.width*(D.a.VALUE_TO_MULTIPLY-1)/2,s=a.height*(D.a.VALUE_TO_MULTIPLY-1)/2;this.elements.shadowSvgDivElement.style.display="block",this.elements.shadowSvgDivElement.style.left="".concat(r.cx-o,"px"),this.elements.shadowSvgDivElement.style.top="".concat(r.cy-s,"px"),this.elements.shadowSvgDivElement.style.width="".concat(a.width*D.a.VALUE_TO_MULTIPLY,"px"),this.elements.shadowSvgDivElement.style.height="".concat(a.height*D.a.VALUE_TO_MULTIPLY,"px"),i.parentElement&&i.parentElement===this.elements.shadowSvgDivElement||this.elements.shadowSvgDivElement.appendChild(i)}else i.parentElement&&i.parentElement.removeChild(i);this.item.svgElements.svgElement.parentElement&&this.item.svgElements.svgElement.parentElement===this.elements.svgDivElement||this.elements.svgDivElement.appendChild(this.item.svgElements.svgElement),this.item.svgElements.updateContents(e)}},{key:"updateThumbnail",value:function(){this.item.getStatus()!==k.d.LAZY&&(L.a.instance.renderer&&this.thumbRevision!==this.item.props.getThumbnailRevision()&&L.a.instance.renderer.renderLayerThumb([this.item]),this.thumbRevision=this.item.props.getThumbnailRevision())}}]),t}(T.a),U=function(e){function t(e){var n;return a()(this,t),(n=d()(this,m()(t).call(this,e))).item=e,n}return E()(t,e),o()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.elementWrapper,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;return g()(m()(t.prototype),"updatePosition",this).call(this,e,n),this.elements.svgDivElement.style.width="".concat(this.item.getWidth()*n,"px"),this.elements.svgDivElement.style.height="".concat(this.item.getHeight()*n,"px"),this}}]),t}(B),G=function(e){function t(e){var n;return a()(this,t),(n=d()(this,m()(t).call(this,e))).item=e,n}return E()(t,e),t}(B),F=function(e){function t(e){var n;return a()(this,t),(n=d()(this,m()(t).call(this,e))).item=e,n}return E()(t,e),t}(B),H=n(66),V=n(74),W=function(e){function t(e){var n;return a()(this,t),(n=d()(this,m()(t).call(this,e))).item=e,n.photoItemRenderer=new C(e.innerPhotoItem),n}return E()(t,e),o()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.elementWrapper,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale,i=this.item.props.getWidth()*n,a=this.item.props.getHeight()*n;return this.elements.svgDivElement.style.width=i+"px",this.elements.svgDivElement.style.height=a+"px",g()(m()(t.prototype),"updatePosition",this).call(this,e,n),this.item.innerPhotoItem.isEditMode&&this.photoItemRenderer.updatePosition(e,n),this}},{key:"domUpdate",value:function(e){!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.tempChangeImageDom(this.item.innerPhotoItem.isEditMode?"":this.item.src),this.item.lastPhotoRevision=this.item.innerPhotoItem.props.getRevision(),g()(m()(t.prototype),"domUpdate",this).call(this,e)}},{key:"tempChangeImageDom",value:function(e){this.item.svgElements.imageElement.setAttributeNS(V.a.XLINK,"href",e)}},{key:"setImageSrcStatus",value:function(e,t){if(e!==this.item.imageSrcStatus){if(e===H.a.SET_SRC)if(this.item.props.isFlipH()||this.item.props.isFlipV()){var n=document.createElement("canvas");n.width=t.width,n.height=t.height;var i=n.getContext("2d");i.translate(n.width/2,n.height/2),i.scale(this.item.props.isFlipH()?-1:1,this.item.props.isFlipV()?-1:1),i.translate(-n.width/2,-n.height/2),i.drawImage(t,0,0),this.tempChangeImageDom(n.toDataURL())}else this.tempChangeImageDom(t.src);e===H.a.RESET_SRC&&this.tempChangeImageDom(this.item.src),this.item.imageSrcStatus=e}}},{key:"getMatchedRenderer",value:function(e){var n=g()(m()(t.prototype),"getMatchedRenderer",this).call(this,e);if(n)return n;var i=this.photoItemRenderer.getMatchedRenderer(e);return i||null}},{key:"updatePhoto",value:function(e,t){var n=this;P.b.setUrlImage(e,t,P.a.NONE,!0).then(function(e){n.item.lastPhotoRevision=-1,n.updateContents(n.elements.element,n.lastRenderEditScale)})}}]),t}(B),K=n(125),Y=n(3),z=n(104),X=n(254),j=n(105),Z=n(117),q=n(62),$=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getNewId();a()(this,e),this.edit=t,this.div=n,this.svgID=i,this.makeElement(),this.addEventListener()}return o()(e,[{key:"makeElement",value:function(){var t=this,n=this.svgID;this.editGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.editGroup.id="".concat(n,"_cur"),this.caretGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.caretGroup.id="".concat(n,"_caret"),this.caretGroup.setAttributeNS(null,"opacity","0.8"),this.editGroup.setAttributeNS(null,"visibility","hidden"),this.editGroup.appendChild(this.caretGroup),this.charGroup=document.createElementNS("http://www.w3.org/2000/svg","g"),this.charGroup.id="".concat(n,"_chars"),this.editGroup.appendChild(this.charGroup),this.hiddendiv=document.createElement("div"),this.hiddendiv.style.position="absolute",this.hiddendiv.style.left="0",this.hiddendiv.style.top="0",this.hiddendiv.style.width="0",this.hiddendiv.style.height="0",this.hiddendiv.style.display="block",this.hiddendiv.style.overflow="hidden",this.div.appendChild(this.hiddendiv),this.textarea=document.createElement("textarea"),this.textarea.rows=1,this.textarea.cols=10,this.textarea.style.left="10px",this.textarea.style.top="10px",this.textarea.style.opacity="0",this.hiddendiv.appendChild(this.textarea),window.addEventListener("blur",function(n){if(e.focused=!1,t.updateCursor(),L.a.getEnv().browser.isMobile()&&L.a.isIOS()){var i=L.a.instance.activeItems;if(1===i.length&&i[0]instanceof q.b&&i[0].isEditMode){var a=i[0];L.a.dispatch(new Z.c(a))}}}),window.addEventListener("focus",function(n){e.focused=!0,t.updateCursor()})}},{key:"addEventListener",value:function(){var t=this,n=function(e){e||(e=t.textarea.value[t.textarea.selectionStart-1]);if(t.textarea.selectionStart===t.textarea.selectionEnd&&t.edit.onreplace&&t.edit.oninsert){var n=Object(j.d)(t.edit.startPos,t.edit.endPos),i=n.firstSel,a=n.lastSel;if(t.edit.isStartEndSame())"\n"===e?(t.edit.oninsert&&t.edit.oninsert(t.edit.startPos,"\n"),i.col=0,i.row++,a.col=i.col,a.row=i.row):(t.edit.oninsert(t.edit.startPos,e),a.col+=e.length,i.col=a.col,i.row=a.row);else{var r=Object.assign({},t.edit.startPos),o=Object.assign({},t.edit.endPos),s=Object(j.d)(t.edit.startPos,t.edit.endPos),c=s.firstSel,l=s.lastSel;l.col=c.col,l.row=c.row,i.col+=e.length,a.col=i.col,a.row=i.row,t.edit.onreplace(r,o,e)}t.edit.oncaretchange&&t.edit.oncaretchange(),t.updateCursor()}},i=function(e){var n=e;if(t.edit.isStartEndSame())t.edit.oninsert&&t.edit.oninsert(t.edit.startPos,n);else{var i=Object.assign({},t.edit.startPos),a=Object.assign({},t.edit.endPos),r=Object(j.d)(t.edit.startPos,t.edit.endPos),o=r.firstSel,s=r.lastSel;s.col=o.col,s.row=o.row,t.edit.onreplace&&(t.edit.onreplace(i,a,n),t.edit.incomposition=X.b.UPDATING)}t.edit.endPos.col+=n.length,t.edit.oncaretchange&&t.edit.oncaretchange(),t.updateCursor()},a=function(e){e?t.edit.startPos.col=t.edit.endPos.col:t.edit.endPos.col=t.edit.startPos.col,t.edit.oncaretchange&&t.edit.oncaretchange(),t.updateCursor()},r=function(e){var n=e,i=Object.assign({},t.edit.endPos);t.edit.endPos.col=t.edit.startPos.col+n.length,e.length>0?t.edit.startPos.col===i.col&&t.edit.startPos.row===i.row?t.edit.oninsert&&t.edit.oninsert(t.edit.startPos,n):t.edit.onreplace&&t.edit.onreplace(t.edit.startPos,i,n):t.edit.ondelete&&t.edit.ondelete(t.edit.startPos,i),t.edit.oncaretchange&&t.edit.oncaretchange(),t.updateCursor()};this.textarea.onkeydown=function(e){var n=Object(j.d)(t.edit.startPos,t.edit.endPos),i=n.firstSel,r=n.lastSel,o=t.edit.renderdata.getCalculated(t.edit.props,1);if(1!==e.key.length&&"Process"!==e.key&&"Unidentified"!==e.key||t.edit.isCtrlKey(e)||e.altKey){var s=function(e,t){for(var n=e.getText(),i=t;i<=n.length;i++)if(i+1===n.length||" "!==n[i]&&" "===n[i+1])return i+1;return n.length},c=function(e,t){for(var n=e.getText(),i=t;i>=0;i--)if(i-1==0||" "!==n[i-1]&&" "===n[i-2])return i-1;return 0},l=!1,u=!0,h=!0,d=!1;switch(e.key.toLowerCase()){case"right":case"arrowright":if(t.edit.startPos.row===t.edit.endPos.row&&t.edit.startPos.col===t.edit.endPos.col||e.shiftKey||t.edit.isCtrlKey(e))t.edit.props.getLineView(t.edit.endPos.row).getLength()===t.edit.endPos.col?t.edit.endPos.row+1===t.edit.props.getLineLength()||t.edit.props.isActiveCurve()||(t.edit.endPos.row++,t.edit.isCtrlKey(e)?t.edit.endPos.col=s(t.edit.props.getLineView(t.edit.endPos.row),0):t.edit.endPos.col=0,d=!0):(t.edit.isCtrlKey(e)?t.edit.endPos.col=s(t.edit.props.getLineView(t.edit.startPos.row),t.edit.endPos.col):t.edit.endPos.col++,d=!0);else t.edit.endPos.col=r.col,t.edit.endPos.row=r.row,d=!0;e.shiftKey||(t.edit.startPos.col=t.edit.endPos.col,t.edit.startPos.row=t.edit.endPos.row),l=!0,t.updateCursor();break;case"left":case"arrowleft":if(t.edit.startPos.row===t.edit.endPos.row&&t.edit.startPos.col===t.edit.endPos.col||e.shiftKey)if(0===t.edit.endPos.col){if(0!==t.edit.endPos.row){t.edit.endPos.row--;var p=t.edit.props.getLineView(t.edit.endPos.row);t.edit.isCtrlKey(e)?t.edit.endPos.col=c(p,p.getLength()):t.edit.endPos.col=p.getLength(),d=!0}}else t.edit.isCtrlKey(e)?t.edit.endPos.col=c(t.edit.props.getLineView(t.edit.endPos.row),t.edit.endPos.col):t.edit.endPos.col--,d=!0;else t.edit.endPos.col=i.col,t.edit.endPos.row=i.row,d=!0;e.shiftKey||(t.edit.startPos.col=t.edit.endPos.col,t.edit.startPos.row=t.edit.endPos.row),l=!0,t.updateCursor();break;case"up":case"arrowup":if(t.edit.incomposition!==X.b.NONE)h=!1,u=!1,d=!0;else{var m=o.linemap,f=o.reverselinemap,g=o.linedata,v=Object.assign({},m[t.edit.endPos.row][t.edit.endPos.col]);if(v.row>0){var E=g[v.row-1];if(Object(z.g)(E))v.col=0;else if(E.chars.length<v.col){var T=E.chars.length;v.col=T}var I=f[v.row-1][v.col];t.edit.endPos.col=I.col,t.edit.endPos.row=I.row,e.shiftKey||(t.edit.startPos.row=t.edit.endPos.row,t.edit.startPos.col=t.edit.endPos.col),d=!0}l=!0}t.updateCursor();break;case"down":case"arrowdown":if(t.edit.incomposition!==X.b.NONE)h=!1,u=!1,d=!0;else{var _=o.linemap,y=o.reverselinemap,O=o.linedata,S=Object.assign({},_[t.edit.endPos.row][t.edit.endPos.col]);if(S.row<y.length-1){var P=O[S.row+1];if(Object(z.g)(P))S.col=0;else if(P.chars.length<S.col){var k=P.chars.length;S.col=k}var A=y[S.row+1][S.col];t.edit.endPos.col=A.col,t.edit.endPos.row=A.row,e.shiftKey||(t.edit.startPos.row=t.edit.endPos.row,t.edit.startPos.col=t.edit.endPos.col),d=!0}l=!0}t.updateCursor();break;case"home":0!==t.edit.endPos.col&&(t.edit.endPos.col=0,d=!0),e.shiftKey||(t.edit.startPos.col=0,t.edit.startPos.row=t.edit.endPos.row),l=!0,t.updateCursor();break;case"end":var R=t.edit.props.getLineView(t.edit.endPos.row);t.edit.endPos.col!==R.getLength()&&(t.edit.endPos.col=R.getLength(),d=!0),e.shiftKey||(t.edit.startPos.col=t.edit.endPos.col,t.edit.startPos.row=t.edit.endPos.row),l=!0,t.updateCursor();break;case"backspace":if(t.edit.incomposition!==X.b.NONE||L.a.isMobileMode()&&""!==t.textarea.value)h=!1,d=!1,u=!1;else if(t.edit.startPos.row===t.edit.endPos.row&&t.edit.startPos.col===t.edit.endPos.col){var C;if(0===t.edit.endPos.col){if(t.edit.endPos.row>0){C={col:0,row:t.edit.endPos.row-1};var b=t.edit.props.getLineView(C.row);C.col=b.getLength();var w=Object.assign({},t.edit.endPos);t.edit.startPos.col=C.col,t.edit.startPos.row=C.row,t.edit.endPos.col=C.col,t.edit.endPos.row=C.row,t.edit.ondelete&&t.edit.ondelete(C,w),d=!0}}else{var x=Object.assign({},t.edit.endPos);C={col:t.edit.endPos.col-1,row:t.edit.endPos.row},t.edit.startPos.col=C.col,t.edit.endPos.col=C.col,t.edit.ondelete&&t.edit.ondelete(C,x),d=!0}l=!0}else{var N=Object.assign({},t.edit.startPos),D=Object.assign({},t.edit.endPos);t.edit.startPos.col=i.col,t.edit.startPos.row=i.row,t.edit.endPos.col=i.col,t.edit.endPos.row=i.row,t.edit.ondelete&&t.edit.ondelete(N,D),l=!0}t.updateCursor();break;case"del":case"delete":t.edit.incomposition!==X.b.NONE&&(t.edit.incomposition=X.b.NONE,a(!0),d=!0);var M=Object.assign({},t.edit.startPos),B=Object.assign({},t.edit.endPos);if(t.edit.startPos.row===t.edit.endPos.row&&t.edit.startPos.col===t.edit.endPos.col){var U,G=t.edit.props.getLineView(t.edit.endPos.row);t.edit.endPos.col===G.getLength()?t.edit.endPos.row!==t.edit.props.getLineLength()-1&&(t.edit.startPos.col=t.edit.endPos.col,t.edit.startPos.row=t.edit.endPos.row,U={col:0,row:t.edit.endPos.row+1},t.edit.ondelete&&t.edit.ondelete(B,U),d=!0):(t.edit.startPos.col=t.edit.endPos.col,U={col:t.edit.endPos.col+1,row:t.edit.endPos.row},t.edit.ondelete&&t.edit.ondelete(B,U),d=!0)}else t.edit.startPos.col=i.col,t.edit.startPos.row=i.row,t.edit.endPos.col=i.col,t.edit.endPos.row=i.row,t.edit.ondelete&&t.edit.ondelete(M,B),d=!0;l=!0,t.updateCursor();break;case"pageup":0===t.edit.endPos.row&&0===t.edit.endPos.col||(t.edit.endPos.row=0,t.edit.endPos.col=0,d=!0),e.shiftKey||(t.edit.startPos.row=0,t.edit.startPos.col=0),l=!0,t.updateCursor();break;case"pagedown":var F=t.edit.props.getLineLength()-1,H=t.edit.props.getLineView(F).getLength();t.edit.endPos.row===F&&t.edit.endPos.col===H||(t.edit.endPos.row=F,t.edit.endPos.col=H,d=!0),e.shiftKey||(t.edit.startPos.row=t.edit.endPos.row,t.edit.startPos.col=t.edit.endPos.col),l=!0,t.updateCursor();break;case"a":t.edit.isCtrlKey(e)&&(t.edit.startPos.col=0,t.edit.startPos.row=0,t.edit.endPos.row=t.edit.props.getLineLength()-1,t.edit.endPos.col=t.edit.props.getLine(t.edit.endPos.row).chars.length,d=!0,t.edit.lastkey="ctrla",l=!0,h=!1,t.updateCursor());break;case"c":case"x":case"v":case"z":u=!1,h=!0;break;case"enter":t.edit.props.isActiveCurve()||(t.edit.incomposition===X.b.NONE?(t.edit.startPos.col===t.edit.endPos.col&&t.edit.startPos.row===t.edit.endPos.row?t.edit.oninsert&&t.edit.oninsert(t.edit.startPos,"\n"):t.edit.onreplace&&t.edit.onreplace(t.edit.startPos,t.edit.endPos,"\n"),i.col=0,i.row++,r.col=i.col,r.row=i.row,l=!0):(u=!1,h=!1),d=!0,t.updateCursor());break;case"kanjimode":u=!1,h=!1,t.edit.incomposition=X.b.UPDATING,t.edit.lastkey="kanji";break;case"escape":t.edit.incomposition!==X.b.NONE&&(t.edit.incomposition=X.b.NONE,a(!0),d=!0),u=!1,t.updateCursor();break;case"shift":case"ctrl":case"control":case"alt":case"tab":case"process":case"unidentified":u=!1,h=!1}l&&e.preventDefault(),u&&t.updateTextarea(),h&&t.edit.incomposition!==X.b.NONE&&(t.edit.incomposition=X.b.NONE,a(!0)),d&&t.edit.oncaretchange&&t.edit.oncaretchange(),t.edit.changed=d}else;t.focus(),t.lastSelStart=t.textarea.selectionStart,t.lastSelEnd=t.textarea.selectionEnd},this.textarea.oncopy=function(n){if(t.edit.startPos.col!==t.edit.endPos.col||t.edit.startPos.row!==t.edit.endPos.row){for(var i=window,a="",r=t.edit.props.getPosText(t.edit.startPos,t.edit.endPos),o=0;o<r.length;o++){var s=r[o],c=!0,l=!1,u=void 0;try{for(var h,d=s.chars[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){a+=h.value.char}}catch(e){l=!0,u=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}o+1!==r.length&&(a+="\n")}i.clipboardData&&i.clipboardData.setData?i.clipboardData.setData(e.TEXT,a):n.clipboardData.setData(e.TEXT_PLANE,a)}n.preventDefault()},this.textarea.oncut=function(n){if((t.edit.startPos.col!==t.edit.endPos.col||t.edit.startPos.row!==t.edit.endPos.row)&&t.edit.oncut){for(var i=t.edit.props.getPosText(t.edit.startPos,t.edit.endPos),a="",r=0;r<i.length;r++){var o=i[r],s=!0,c=!1,l=void 0;try{for(var u,h=o.chars[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){a+=u.value.char}}catch(e){c=!0,l=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}r+1!==i.length&&(a+="\n")}var d=window;d.clipboardData&&d.clipboardData.setData?d.clipboardData.setData(e.TEXT,a):n.clipboardData.setData(e.TEXT_PLANE,a),t.edit.oncut(t.edit.startPos,t.edit.endPos);var p=Object(j.d)(t.edit.startPos,t.edit.endPos).firstSel;t.edit.startPos.col=p.col,t.edit.startPos.row=p.row,t.edit.endPos.col=p.col,t.edit.endPos.row=p.row,t.edit.oncaretchange&&t.edit.oncaretchange()}n.preventDefault()},this.textarea.onpaste=function(n){if(n.stopPropagation(),n.preventDefault(),t.edit.onpaste){var i="",a=window;i=a.clipboardData&&a.clipboardData.setData?a.clipboardData.getData(e.TEXT):n.clipboardData.getData(e.TEXT_PLANE);var r="",o=!0,s=!1,c=void 0;try{for(var l,u=i[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;if(h){var d=h.charCodeAt(0);X.c.UNSUPPORTED_CHAR_LIST.indexOf(d)>=0||(r+=h)}}}catch(e){s=!0,c=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}i=r,t.edit.onpaste(t.edit.startPos,t.edit.endPos,i);var p=Object(j.d)(t.edit.startPos,t.edit.endPos),m=p.firstSel,f=p.lastSel,g=i.split("\n");g.length>1?(m.row+=g.length-1,m.col=g[g.length-1].length):m.col+=g[0].length,f.col=m.col,f.row=m.row,t.edit.oncaretchange&&t.edit.oncaretchange(),t.updateCursor()}},L.a.getEnv().browser.getType()===Y.BrowserType.IE?(this.textarea.addEventListener("compositionstart",function(e){t.edit.incomposition===X.b.UPDATING?(r(t.textarea.value[t.textarea.value.length-2]),a(!0),i(t.textarea.value[t.textarea.value.length-1]),t.edit.incomposition=X.b.STARTED):(t.edit.incomposition===X.b.ENDED&&(a(!0),t.updateTextarea()),t.edit.incomposition=X.b.STARTED),t.edit.lastkey=""}),this.textarea.addEventListener("compositionupdate",function(e){t.edit.incomposition=X.b.UPDATING}),this.textarea.addEventListener("compositionend",function(e){if(t.edit.incomposition===X.b.UPDATING){var n=t.textarea.value[t.textarea.value.length-1];"kanji"!==t.edit.lastkey&&"ctrla"!==t.edit.lastkey?(n?(r(n),t.edit.incomposition=X.b.ENDED,a(!0)):(r(""),t.edit.incomposition=X.b.ENDED,a(!1)),t.updateTextarea()):t.edit.lastkey=""}}),this.textarea.addEventListener("input",function(e){var o=t.textarea.value[t.textarea.value.length-1];switch(t.edit.incomposition){case X.b.STARTED:i(o),t.edit.incomposition=X.b.UPDATING;break;case X.b.UPDATING:r(o);break;case X.b.ENDED:o?"\n"===o?(a(!0),n("\n")):(r(o),a(!0)):(r(""),a(!1)),t.updateTextarea(),t.edit.incomposition=X.b.NONE;break;default:n(o),t.updateTextarea(),t.edit.lastkey=""}})):(this.textarea.addEventListener("compositionstart",function(e){""===e.data||(i(e.data),t.updateTextarea()),t.edit.incomposition=X.b.STARTED,t.lastSelStart=t.textarea.selectionStart,t.lastSelEnd=t.textarea.selectionEnd}),this.textarea.addEventListener("compositionupdate",function(e){t.edit.incomposition===X.b.STARTED?(t.edit.incomposition=X.b.UPDATING,i(e.data)):r(e.data),t.lastSelStart=t.textarea.selectionStart,t.lastSelEnd=t.textarea.selectionEnd}),this.textarea.addEventListener("compositionend",function(e){t.edit.incomposition===X.b.UPDATING&&(t.edit.incomposition=X.b.ENDED,e.data&&e.data.length>0&&r(e.data),a(!0),t.updateTextarea()),t.edit.incomposition=X.b.NONE,t.lastSelStart=t.textarea.selectionStart,t.lastSelEnd=t.textarea.selectionEnd}),this.textarea.addEventListener("input",function(e){var i=e.data;switch(t.edit.incomposition){case X.b.STARTED:case X.b.UPDATING:case X.b.ENDED:break;default:if(null===e.data)!function(){var e,n;if(t.edit.isStartEndSame()){var i;t.lastSelEnd!==t.textarea.selectionEnd&&(i=t.textarea.selectionEnd-t.lastSelEnd),n={col:(e={col:t.edit.startPos.col,row:t.edit.startPos.row}).col,row:e.row};var a=t.edit.props.getText().split("\n");if(i<0)for(var r=0;r>i;r--)e.col>0?e.col--:e.row>0&&(e.row--,e.col=a[e.row].length+1);else for(var o=0;o<i;o++)n.col<a[n.row].length+1?n.col++:n.row>0&&(n.row++,n.col=0)}else e=t.edit.startPos,n=t.edit.endPos;var s=Object(j.d)(Object.assign({},e),Object.assign({},n)),c=s.firstSel,l=s.lastSel;l.col=c.col,l.row=c.row,t.edit.startPos=c,t.edit.endPos=l,t.edit.ondelete(e,n)}();else{var a=L.a.getEnv().browser;a.getType()===Y.BrowserType.FIREFOX?!i||1===i.length&&t.lastSelEnd===t.textarea.selectionStart||n(i):a.getType()===Y.BrowserType.EDGE?n(t.textarea.value.substr(t.lastSelEnd,t.textarea.selectionStart-t.lastSelEnd)):(i||t.textarea.value)&&n(i)}}t.lastSelStart=t.textarea.selectionStart,t.lastSelEnd=t.textarea.selectionEnd}))}},{key:"updateTextarea",value:function(){if(this.edit.startPos.row===this.edit.endPos.row&&this.edit.startPos.col!==this.edit.endPos.col){for(var e=Object(j.d)(this.edit.startPos,this.edit.endPos),t=e.firstSel,n=e.lastSel,i=this.edit.props.getLineView(this.edit.endPos.row).getText(),a="",r=t.col;r<n.col;r++)a+=i[r];this.textarea.value=a,this.textarea.selectionStart=0,this.textarea.selectionEnd=a.length}else this.edit.incomposition!==X.b.UPDATING&&(this.textarea.value="")}},{key:"changeVisible",value:function(){this.edit.on?this.edit.startPos.col===this.edit.endPos.col&&this.edit.startPos.row===this.edit.endPos.row?this.setBlinking(X.a.BLINKING):this.setBlinking(X.a.ON):(this.textarea.blur(),this.setBlinking(X.a.OFF),this.textarea.blur())}},{key:"setBlinking",value:function(e){var t=this;switch(clearInterval(this.edit.blink),this.editGroup.setAttributeNS(null,"visibility","hidden"),this.edit.on=e!==X.a.OFF,e){case X.a.BLINKING:this.edit.blink=window.setInterval(function(){t.caretGroup.lastChild.setAttributeNS(null,"width","".concat(Math.round(2/L.a.instance.zoomScale*100)/100,"px")),t.editGroup.setAttributeNS(null,"visibility",t.edit.blinkon?"visible":"hidden"),t.edit.blinkon=!t.edit.blinkon},550),this.editGroup.setAttributeNS(null,"visibility","visible"),this.edit.blinkon=!1;break;case X.a.ON:this.editGroup.setAttributeNS(null,"visibility","visible"),this.edit.blinkon=!1}}},{key:"updateCursor",value:function(){var t=this,n=this.edit.textSVG;if(n){var i,a=!0,r=!1,o=void 0;try{for(var s,c=n.children[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;if(-1!==l.id.indexOf("_f")){i=l;break}}}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}var u,h,d=[],p=!0,m=!1,f=void 0;try{for(var g,v=this.caretGroup.children[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var E=g.value;d.push(E)}}catch(e){m=!0,f=e}finally{try{p||null==v.return||v.return()}finally{if(m)throw f}}null===this.editGroup.parentElement&&n.appendChild(this.editGroup),null!==this.editGroup.nextSibling&&n.insertBefore(this.editGroup,null);var T=this.edit.renderdata.getSelectedArea(this.edit.props,this.edit.lastScale,this.edit.startPos,this.edit.endPos);T&&T.forEach(function(e){var n=d.pop();n||(n=document.createElementNS("http://www.w3.org/2000/svg","rect"),t.caretGroup.appendChild(n));var i=t.edit.lastScale||1;n.setAttributeNS(null,"x",(e.left-e.trs)*i+"px"),n.setAttributeNS(null,"y",e.top*i+"px"),n.setAttributeNS(null,"height",e.height*i+"px"),n.setAttributeNS(null,"width",(0===e.width?Math.round(2/L.a.instance.zoomScale*100)/100:e.width*i)+"px"),n.setAttributeNS(null,"transform","rotate(".concat(180*e.angle/Math.PI,", ")+"".concat(e.left*i,", ").concat((e.top+e.y)*i,")"))});for(var I=0,_=d;I<_.length;I++){var y=_[I];this.caretGroup.removeChild(y)}var O=[],S=!0,P=!1,k=void 0;try{for(var A,R=this.charGroup.children[Symbol.iterator]();!(S=(A=R.next()).done);S=!0){var C=A.value;O.push(C)}}catch(e){P=!0,k=e}finally{try{S||null==R.return||R.return()}finally{if(P)throw k}}if(this.edit.startPos.col!==this.edit.endPos.col||this.edit.startPos.row!==this.edit.endPos.row){var b=function(e,t,n,i){var a=Object(j.d)(e,t),r=a.firstSel,o=a.lastSel,s=[],c=!0,l=!1,u=void 0;try{for(var h,d=n.children[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value,m=p.id.split("_");if(5===m.length){var f=i[Number(m[3])][Number(m[4])],g=f.col,v=f.row;if(v>=r.row&&v<=o.row){var E=v===r.row?r.col:0,T=v===o.row?o.col:Number.MAX_SAFE_INTEGER;g>=E&&g<T&&s.push(p)}}}}catch(e){l=!0,u=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}return s}(this.edit.startPos,this.edit.endPos,i,this.edit.renderdata.getCalculated(this.edit.props,1).reverselinemap),w=!0,x=!1,N=void 0;try{for(var D,M=b[Symbol.iterator]();!(w=(D=M.next()).done);w=!0){var B=D.value,U=O.pop();U||(U=document.createElementNS("http://www.w3.org/2000/svg","use"),this.charGroup.appendChild(U)),U.setAttributeNS(V.a.XLINK,"xlink:href","#".concat(B.lastChild.id)),B.hasAttributeNS(null,"transform")?U.setAttributeNS(null,"transform",B.getAttributeNS(null,"transform")):U.hasAttributeNS(null,"transform")&&U.removeAttributeNS(null,"transform"),B.hasAttributeNS(null,"stroke-width")?U.setAttributeNS(null,"stroke-width",B.getAttributeNS(null,"stroke-width")):U.hasAttributeNS(null,"strokewidth")&&U.removeAttributeNS(null,"strokewidth")}}catch(e){x=!0,N=e}finally{try{w||null==M.return||M.return()}finally{if(x)throw N}}this.charGroup.setAttributeNS(null,"transform","scale(".concat(this.edit.props.getFontDetailScaleXAcc()/100,", 1)"))}for(var G=0,F=O;G<F.length;G++){var H=F[G];this.charGroup.removeChild(H)}if(this.edit.on){if(e.focused?(u="#1A88FF",h="#fff"):(u="#BABABF",h="#000"),this.edit.isStartEndSame()){var W=this.edit.startPos.row,K=0===this.edit.startPos.col?0:this.edit.startPos.col-1;u=this.edit.props.getColors({row:W,col:K},{row:W,col:K+1})[0][0],this.setBlinking(X.a.BLINKING)}else this.setBlinking(X.a.ON);this.caretGroup.setAttributeNS(null,"fill",u),this.charGroup.setAttributeNS(null,"fill",h),this.charGroup.setAttributeNS(null,"stroke",h)}}}},{key:"setCursorEnd",value:function(){var e=this.edit.props.getLastCharPos();this.edit.startPos.row=e.row,this.edit.startPos.col=e.col,this.edit.endPos.row=e.row,this.edit.endPos.col=e.col,this.updateCursor(),this.edit.visible=!0,this.changeVisible(),this.edit.on&&this.focus()}},{key:"selectByPos",value:function(e,t,n,i,a,r){var o=!1;a||this.edit.startPos.row===e&&this.edit.startPos.col===t||(this.edit.startPos.row=e,this.edit.startPos.col=t,o=!0),this.edit.endPos.row===n&&this.edit.endPos.col===i||(this.edit.endPos.row=n,this.edit.endPos.col=i,o=!0),this.edit.on&&(r&&L.a.dispatch(new X.d),o&&this.edit.oncaretchange&&(this.edit.oncaretchange(),this.updateTextarea(),this.edit.incomposition=X.b.NONE),this.updateCursor(),this.edit.visible=!0,this.changeVisible(),this.edit.on&&this.focus())}},{key:"resetFocus",value:function(){this.textarea.blur(),this.textarea.value="",this.textarea.focus()}},{key:"selectByPoint",value:function(e,t,n,i,a){var r=this.edit.renderdata.getPos(this.edit.props,this.edit.lastScale,e,t,n,i),o=r.start,s=r.end;this.selectByPos(o.row,o.col,s.row,s.col,!1,a)}},{key:"selectToByPoint",value:function(e,t,n){var i=this.edit.renderdata.getPos(this.edit.props,this.edit.lastScale,e,t,e,t),a=i.start,r=i.end;this.selectByPos(a.row,a.col,r.row,r.col,!0,n)}},{key:"selectWordByPoint",value:function(e,t,n){for(var i=this.edit.renderdata.getPos(this.edit.props,this.edit.lastScale,e,t,e,t).start,a=this.edit.props.getLineView(i.row).getText(),r=0,o=0,s=i.col;s>=0;s--)if(0===s||" "===a[s-1]){r=s;break}for(var c=i.col;c<=a.length;c++)if(c===a.length||" "===a[c]){o=c;break}this.selectByPos(i.row,r,i.row,o),this.edit.incomposition=X.b.NONE}},{key:"selectAll",value:function(){this.edit.on&&(this.edit.startPos.col=0,this.edit.startPos.row=0,this.edit.endPos.row=this.edit.props.getLineLength()-1,this.edit.endPos.col=this.edit.props.getLine(this.edit.endPos.row).chars.length,this.edit.oncaretchange(),this.updateTextarea(),L.a.dispatch(new X.d),this.edit.incomposition=X.b.NONE,this.updateCursor(),this.edit.visible=!0,this.changeVisible(),this.focus())}},{key:"focus",value:function(){this.textarea.focus()}}],[{key:"getNewId",value:function(){var e;do{e=(4294967295*Math.random()).toString(16)}while(this.editIds.has(e));return"edit_".concat(e)}}]),e}();N()($,"TEXT","Text"),N()($,"TEXT_PLANE","text/plain"),N()($,"editIds",new Set),N()($,"focused",!0);var Q=function(e){function t(e){return a()(this,t),d()(this,m()(t).call(this,e))}return E()(t,e),o()(t,[{key:"makeElement",value:function(){var e=this,n=g()(m()(t.prototype),"makeElement",this).call(this);return this.item.makeSVG(),this.item.svg.parentElement!==n.wrapper&&n.wrapper.appendChild(this.item.svg),this.editElement||(this.editElement=new $(this.item.edit,n.wrapper,this.item.svgRenderer.id),this.item.edit.ondelete=function(t,n){return L.a.dispatch(new Z.b(e.item,t,n))},this.item.edit.oninsert=function(t,n){return L.a.dispatch(new Z.e(e.item,t,n))},this.item.edit.onreplace=function(t,n,i){return L.a.dispatch(new Z.f(e.item,t,n,i))},this.item.edit.oncut=function(t,n){return L.a.dispatch(new Z.b(e.item,t,n,!0))},this.item.edit.onpaste=function(t,n,i){return L.a.dispatch(new Z.f(e.item,t,n,i,!0))},this.item.edit.oncaretchange=function(){return e.item.props.forceUpdate()}),n}},{key:"removeElement",value:function(){}}]),t}(A),J=n(54),ee=n(126),te=n(45),ne=function(){function e(){a()(this,e),N()(this,"doSaveQueue",!1),N()(this,"isActionGroupEquals",function(e){return!1}),N()(this,"actionType",te.a.HANDLER_REDRAW),N()(this,"concat",function(e){return!1}),N()(this,"changeDesign",function(){return!1}),N()(this,"isLastSavedAction",!1)}return o()(e,[{key:"commit",value:function(e,t,n){n&&n.renderHandler(e,t)}},{key:"rollback",value:function(e,t,n){}},{key:"recycle",value:function(){}}]),e}(),ie=function(e){function t(e){var n;return a()(this,t),n=d()(this,m()(t).call(this,e)),N()(w()(n),"drawn",!1),n}var n;return E()(t,e),o()(t,[{key:"createElements",value:function(){this.elements=new Q(this.item)}},{key:"updateContents",value:(n=u()(c.a.mark(function e(){var t,n,i=this,a=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:this.elements.element,a.length>1&&void 0!==a[1]?a[1]:this.lastRenderEditScale,n=function(){var e=i.item.getCanvasPosData(1);i.item.svgRenderer.update(e.width,e.height,e.contentleft,e.contenttop,e.offsetX,e.offsetY),i.item.edit&&(i.item.edit.setScale(i.lastRenderEditScale),i.elements.editElement.updateCursor())},this.item.props.lastRenderEditScale=1/j.b,this.item.lastHeight||this.item.props.isActiveCurve()||(this.item.lastHeight=this.item.props.getHeight()),this.elements.elementWrapper.style.borderRadius=this.item.props.isActiveCurve()?"100%":"",e.abrupt("return",new Promise(function(){var e=u()(c.a.mark(function e(a,r){var o,s,l,u,h,d,p,m,f,g,v;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=i.item.props.getLineLength(),s=new Set,l=[],u=0;case 4:if(!(u<o)){e.next=28;break}for(h=i.item.props.getLine(u),d=!0,p=!1,m=void 0,e.prev=9,f=h.chars[Symbol.iterator]();!(d=(g=f.next()).done);d=!0)v=g.value,s.has(v.styles.family)||null!==K.a.instance.get(v.styles)||(s.add(v.styles.family),l.push(K.a.instance.addFamily(v.styles.family)));e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),p=!0,m=e.t0;case 17:e.prev=17,e.prev=18,d||null==f.return||f.return();case 20:if(e.prev=20,!p){e.next=23;break}throw m;case 23:return e.finish(20);case 24:return e.finish(17);case 25:u++,e.next=4;break;case 28:t.style.display="none",l.length>0?i.drawn?Promise.all(l).then(function(){i.item.props.recalculatePos(),L.a.dispatch(new ne),n(),i.elements.editElement.updateCursor(),a(t)}):(Promise.all(l).then(function(){i.item.props.recalculatePos(),L.a.dispatch(new ne),n(),i.elements.editElement.updateCursor(),i.drawn=!0}),a()):(n(),i.elements.editElement.updateCursor(),i.drawn=!0,a(t));case 30:case"end":return e.stop()}},e,null,[[9,13,17,25],[18,,20,24]])}));return function(t,n){return e.apply(this,arguments)}}()));case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"setSize",value:function(e,t){e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.left=t.contentleft-t.offsetX+"px",e.style.top=t.contenttop-t.offsetY+"px"}},{key:"toggleEditMode",value:function(){this.item.isEditMode=!this.item.isEditMode,this.item.isEditMode?(this.item.edit.visible=!0,this.elements.element.style.display="none",this.updateContents()):(this.item.edit.visible=!1,this.elements.editElement.changeVisible(),""!==this.item.props.getText()||J.b.getRootGroup(this.item.groupId)?(this.setSize(this.elements.element,this.item.getCanvasPosData(this.lastRenderEditScale)),this.item.props.isActiveCurve()&&this.updateContents()):L.a.dispatch(new ee.a([this.item])))}},{key:"selectText",value:function(e,t,n,i,a,r){if(0!==this.item.props.getRotate()){var o=this.item.props.getLeft()+(this.item.props.getRight()-this.item.props.getLeft())/2,s=this.item.props.getTop()+(this.item.props.getBottom()-this.item.props.getTop())/2,c=y.b.calcLocationByRotate(new y.c(e,t),new y.c(o,s),-this.item.props.getRotate());e=c.x,t=c.y;var l=y.b.calcLocationByRotate(new y.c(n,i),new y.c(o,s),-this.item.props.getRotate());n=l.x,i=l.y}a?this.elements.editElement.selectToByPoint(e,t,r):this.elements.editElement.selectByPoint(e,t,n,i,r)}},{key:"selectWord",value:function(e,t,n){e/=this.lastRenderEditScale,t/=this.lastRenderEditScale;var i=this.getRotatedXY(e,t),a=i.x,r=i.y;this.elements.editElement.selectWordByPoint(a,r,n)}},{key:"getRotatedXY",value:function(e,t){var n={x:e,y:t};if(0!==this.item.props.getRotate()){var i=this.item.props.getLeft()+(this.item.props.getRight()-this.item.props.getLeft())/2,a=this.item.props.getTop()+(this.item.props.getBottom()-this.item.props.getTop())/2,r=y.b.calcLocationByRotate(new y.c(e,t),new y.c(i,a),-this.item.props.getRotate());n.x=r.x,n.y=r.y}return n}}]),t}(T.a),ae=n(280),re=function(e){function t(e){return a()(this,t),d()(this,m()(t).call(this,e))}return E()(t,e),o()(t,[{key:"makeElement",value:function(){var e=this,n=g()(m()(t.prototype),"makeElement",this).call(this);return this.svgBackgroundDiv||(this.svgBackgroundDiv=document.createElement("div"),this.svgBackgroundDiv.style.display="none",this.svgBackgroundDiv.style.position="absolute",this.svgBackgroundDiv.style.zIndex="-1",this.svgBackgroundDiv.style.left="0px",this.svgBackgroundDiv.style.top="0px",n.wrapper.appendChild(this.svgBackgroundDiv)),this.textDiv||(this.textDiv=document.createElement("div"),this.textDiv.style.zIndex="0",this.textDiv.style.position="absolute",this.textDiv.style.left="0px",this.textDiv.style.top="0px",n.wrapper.appendChild(this.textDiv)),this.svgBorderDiv||(this.svgBorderDiv=document.createElement("div"),this.svgBorderDiv.style.display="none",this.svgBorderDiv.style.zIndex="1",this.svgBorderDiv.style.position="absolute",this.svgBorderDiv.style.left="0px",this.svgBorderDiv.style.top="0px",n.wrapper.appendChild(this.svgBorderDiv)),0===n.wrapper.getElementsByClassName("SELECTED_CELLS").length&&(this.selectedCellsDiv||(this.selectedCellsDiv=document.createElement("div"),this.selectedCellsDiv.className="SELECTED_CELLS",this.selectedCellsDiv.style.backgroundColor="rgba(175, 222, 242, 0.298)",this.selectedCellsDiv.style.display="none"),n.wrapper.appendChild(this.selectedCellsDiv)),this.editElement||(this.editElement=new $(this.item.textedit,n.wrapper),this.item.textedit.ondelete=function(t,n){return L.a.dispatch(new ae.a(e.item,t,n))},this.item.textedit.oninsert=function(t,n){return L.a.dispatch(new ae.c(e.item,t,n))},this.item.textedit.onreplace=function(t,n,i){return L.a.dispatch(new ae.d(e.item,t,n,i))},this.item.textedit.oncut=function(t,n){return L.a.dispatch(new ae.a(e.item,t,n,!0))},this.item.textedit.onpaste=function(t,n,i){return L.a.dispatch(new ae.d(e.item,t,n,i,!0))}),n.element.style.display="none",n}},{key:"removeElement",value:function(){this.svgBackgroundDiv&&this.svgBackgroundDiv.parentElement&&(this.svgBackgroundDiv.parentElement.removeChild(this.svgBackgroundDiv),this.svgBackgroundDiv=null),this.textDiv&&this.textDiv.parentElement&&(this.textDiv.parentElement.removeChild(this.textDiv),this.textDiv=null),this.svgBorderDiv&&this.svgBorderDiv.parentElement&&(this.svgBorderDiv.parentElement.removeChild(this.svgBorderDiv),this.svgBorderDiv=null),g()(m()(t.prototype),"removeElement",this).call(this)}}]),t}(A),oe=n(116),se=function(){function e(t){a()(this,e),this.cell=t,this.makeElement()}return o()(e,[{key:"makeElement",value:function(){this.textCanvas=I.a.createCanvas(),this.textCanvas.style.position="absolute",this.selectDiv=document.createElement("div"),this.selectDiv.style.position="absolute",this.textSVGDiv=document.createElement("div"),this.textSVGDiv.style.position="absolute"}},{key:"removeElement",value:function(){this.textCanvas&&(this.textCanvas.parentElement&&this.textCanvas.parentElement.removeChild(this.textCanvas),this.textCanvas=null),this.selectDiv&&(this.selectDiv.parentElement&&this.selectDiv.parentElement.removeChild(this.selectDiv),this.selectDiv=null),this.textSVGDiv&&(this.textSVGDiv.parentElement&&this.textSVGDiv.parentElement.removeChild(this.textSVGDiv),this.textSVGDiv=null)}}]),e}(),ce=function(){function e(t,n){a()(this,e),this.cell=t,this.parentElement=n,this.textDomRenderer=new ie(t.childTextItem),this.makeElement(n)}var t,n;return o()(e,[{key:"makeElement",value:function(e){this.elements=new se(this.cell),e.appendChild(this.elements.selectDiv),e.appendChild(this.elements.textSVGDiv),this.textDomRenderer.makeElement()}},{key:"removeElement",value:function(){this.elements.removeElement()}},{key:"renderText",value:(n=u()(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cell.childTextItem.svg){e.next=3;break}return e.next=3,this.textDomRenderer.renderAutoAsync(t,!0);case 3:return this.elements.textSVGDiv.appendChild(this.cell.childTextItem.svg),n=this.cell.childTextItem,this.cell.repositionTextItem(n,t),e.next=8,this.cell.renderText(null,t);case 8:this.updatePosition(t);case 9:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"updatePosition",value:function(e){var t=this.cell.getCellRect(e),n=oe.b.CELL_PADDING*e,i=Math.max(t.getWidth()-2*n,1)+"px",a=Math.max(t.getHeight()-2*n,1)+"px",r=this.cell.getLeft(e)+t.left+n,o=this.cell.getTop(e)+t.top+n,s="translate(".concat(r,"px, ").concat(o,"px)");this.elements.textSVGDiv.style.display="block",this.elements.textSVGDiv.style.width=i,this.elements.textSVGDiv.style.height=a,this.elements.textSVGDiv.style.transform=s}},{key:"updateText",value:(t=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.renderText(t);case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),e}(),le=function(e){function t(e){return a()(this,t),d()(this,m()(t).call(this,e))}var n;return E()(t,e),o()(t,[{key:"createElements",value:function(){this.elements=new re(this.item),this.cellRenderers=[]}},{key:"syncCellDomRenderer",value:function(){var e=this,t=this.cellRenderers.slice();this.cellRenderers=[];var n=!0,i=!1,a=void 0;try{for(var r,o=this.item.rows[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){r.value;var s=[],c=!0,l=!1,u=void 0;try{for(var h,d=this.item.cols[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){h.value;s.push(null)}}catch(e){l=!0,u=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}this.cellRenderers.push(s)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}var p=!0,m=!1,f=void 0;try{for(var g,v=t[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var E=g.value,T=!0,I=!1,_=void 0;try{for(var y,L=function(){var t=y.value,n=t.cell;if(e.item.cells.some(function(e){return e.indexOf(n)>=0})){var i=n.row,a=n.col;e.cellRenderers[i][a]=t}else t.removeElement()},O=E[Symbol.iterator]();!(T=(y=O.next()).done);T=!0)L()}catch(e){I=!0,_=e}finally{try{T||null==O.return||O.return()}finally{if(I)throw _}}}}catch(e){m=!0,f=e}finally{try{p||null==v.return||v.return()}finally{if(m)throw f}}for(var S=0;S<this.item.rows.length;S++)for(var P=0;P<this.item.cols.length;P++)if(!this.cellRenderers[S][P]){var k=this.item.cells[S][P];this.cellRenderers[S][P]=new ce(k,this.elements.textDiv)}}},{key:"makeElement",value:function(){var e=g()(m()(t.prototype),"makeElement",this).call(this);return this.cellRenderers.length!==this.item.cells.length&&this.syncCellDomRenderer(),this.cellRenderers[0].length!==this.item.cells[0].length&&this.syncCellDomRenderer(),e}},{key:"updateContents",value:(n=u()(c.a.mark(function e(){var t,n,i=this,a=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:this.elements.element,n=a.length>1&&void 0!==a[1]?a[1]:this.lastRenderEditScale,e.abrupt("return",new Promise(function(){var e=u()(c.a.mark(function e(a,r){var o,s,l,u,h,d,p,m,f,g,v,E,T,I,_,y,O,S,P,k,A,R,C,b,w,x,N,D;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=L.a.instance.zoomScale<=1?1:L.a.instance.zoomScale,i.item.zoomScale=o,s=!0,l=!1,u=void 0,e.prev=5,h=i.cellRenderers[Symbol.iterator]();case 7:if(s=(d=h.next()).done){e.next=31;break}for(p=d.value,m=!0,f=!1,g=void 0,e.prev=12,v=p[Symbol.iterator]();!(m=(E=v.next()).done);m=!0)T=E.value,I=T.cell.childTextItem,T.cell.repositionTextItem(I,n);e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),f=!0,g=e.t0;case 20:e.prev=20,e.prev=21,m||null==v.return||v.return();case 23:if(e.prev=23,!f){e.next=26;break}throw g;case 26:return e.finish(23);case 27:return e.finish(20);case 28:s=!0,e.next=7;break;case 31:e.next=37;break;case 33:e.prev=33,e.t1=e.catch(5),l=!0,u=e.t1;case 37:e.prev=37,e.prev=38,s||null==h.return||h.return();case 40:if(e.prev=40,!l){e.next=43;break}throw u;case 43:return e.finish(40);case 44:return e.finish(37);case 45:_=!0,y=!1,O=void 0,e.prev=48,S=i.cellRenderers[Symbol.iterator]();case 50:if(_=(P=S.next()).done){e.next=81;break}k=P.value,A=!0,R=!1,C=void 0,e.prev=55,b=k[Symbol.iterator]();case 57:if(A=(w=b.next()).done){e.next=64;break}return x=w.value,e.next=61,x.renderText(n);case 61:A=!0,e.next=57;break;case 64:e.next=70;break;case 66:e.prev=66,e.t2=e.catch(55),R=!0,C=e.t2;case 70:e.prev=70,e.prev=71,A||null==b.return||b.return();case 73:if(e.prev=73,!R){e.next=76;break}throw C;case 76:return e.finish(73);case 77:return e.finish(70);case 78:_=!0,e.next=50;break;case 81:e.next=87;break;case 83:e.prev=83,e.t3=e.catch(48),y=!0,O=e.t3;case 87:e.prev=87,e.prev=88,_||null==S.return||S.return();case 90:if(e.prev=90,!y){e.next=93;break}throw O;case 93:return e.finish(90);case 94:return e.finish(87);case 95:i.item.renderGridBackground(n,!0),i.item.renderGridBorder(n,!0),i.updateContentsAfter(null,n),N=i.item.getWidth()*n,D=i.item.getHeight()*n,i.elements.svgBackgroundDiv.innerHTML=i.item.gridBackgroundSvgString,i.elements.svgBackgroundDiv.style.width="".concat(N,"px"),i.elements.svgBackgroundDiv.style.height="".concat(D,"px"),i.elements.svgBackgroundDiv.style.display="block",i.elements.svgBorderDiv.innerHTML=i.item.gridBorderSvgString,i.elements.svgBorderDiv.style.width="".concat(N,"px"),i.elements.svgBorderDiv.style.height="".concat(D,"px"),i.elements.svgBorderDiv.style.display="block",i.item.zoomScale=1,i.item.isTextEditMode&&i.elements.editElement.updateCursor(),a(t);case 111:case"end":return e.stop()}},e,null,[[5,33,37,45],[12,16,20,28],[21,,23,27],[38,,40,44],[48,83,87,95],[55,66,70,78],[71,,73,77],[88,,90,94]])}));return function(t,n){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.elementWrapper,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;return this.item.isTextEditMode&&this.item.endEditMode&&(this.toggleEditMode(-1,-1),this.item.endEditMode=!1),e.style.opacity="".concat(this.item.props.getOpacity()/255),g()(m()(t.prototype),"updatePosition",this).call(this,e,n)}},{key:"updateBorderStyle",value:function(e){if(null!=this.elements.elementWrapper){var t=J.b.getRootGroup(this.item.groupId);!(t?t.getSelectedItem()===this.item&&this.item.select:this.item.select)&&this.item.selectedCells&&this.updateContentsAfter(null,this.lastRenderEditScale)}}},{key:"toggleEditMode",value:function(e,t){var n,i=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n=a?this.item.cells[this.item.selectedCells[0].row][this.item.selectedCells[0].col]:this.item.positionTool.getCell(e,t),this.item.textedit&&this.item.textedit.setScale(this.lastRenderEditScale),this.item.isTextEditMode?n&&n===this.item.editingCell||(this.item.textedit.visible=!1,this.elements.editElement.changeVisible(),this.item.editingCell.isTextEditMode=!1,this.item.editingCell=null,this.item.isTextEditMode=!1):n&&(this.item.editingCell=n,this.item.textedit.textSVG=n.childTextItem.svg,this.item.unselectAllCell(),this.item.textedit.setProps(n.textProps),n.childTextItem.edit.customWidth=n.getWidth(),this.item.editingCell.isTextEditMode=!0,this.item.isTextEditMode=!0,this.item.selectCells(this.item.positionTool.cellsPosToArrayOfCellPos(n.childCellsPos)),this.item.textedit.visible=!0,this.elements.editElement.changeVisible(),this.updateContents().then(function(){i.elements.editElement.updateCursor()}),this.elements.editElement.focus())}},{key:"getCellRenderers",value:function(e){return e.gridItem===this.item?this.cellRenderers[e.row][e.col]:null}},{key:"updateContentsAfter",value:function(e,t){var n=!0,i=!1,a=void 0;try{for(var r,o=this.cellRenderers[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value,c=!0,l=!1,u=void 0;try{for(var h,d=s[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value,m=p.cell,f=p.elements.selectDiv;m.visible&&p.cell.selected&&!this.item.isTextEditMode?(f.style.backgroundColor="rgba(175, 222, 242, 0.298)",f.style.display="block",f.style.position="absolute",f.style.left="".concat(m.getLeft(),"px"),f.style.top="".concat(m.getTop(),"px"),f.style.width="".concat(m.getWidth(),"px"),f.style.height="".concat(m.getHeight(),"px")):f.style.display="none"}}catch(e){l=!0,u=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}}}]),t}(T.a),ue=n(71),he=n(286),de=function(e){function t(e){return a()(this,t),d()(this,m()(t).call(this,e))}return E()(t,e),o()(t,[{key:"makeElement",value:function(){var e=g()(m()(t.prototype),"makeElement",this).call(this);if(e.element.style.display="block",!this.shadowCanvas){var n=I.a.createCanvas();n.style.display="none",n.style.position="absolute",n.style.zIndex="-1",e.element.style.zIndex="10",e.wrapper.insertBefore(n,e.element),this.shadowCanvas=n}return e}},{key:"removeElement",value:function(){this.shadowCanvas&&this.shadowCanvas.parentElement&&(this.shadowCanvas.parentElement.removeChild(this.shadowCanvas),this.shadowCanvas=null),g()(m()(t.prototype),"removeElement",this).call(this)}}]),t}(M),pe=function(e){function t(e){var n;return a()(this,t),(n=d()(this,m()(t).call(this,e))).item=e,n.item.isActiveLiveEdit=!0,n}var n;return E()(t,e),o()(t,[{key:"createElements",value:function(){this.elements=new de(this.item)}},{key:"updateContents",value:(n=u()(c.a.mark(function e(){var t,n,i=this,a=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:this.elements.element,n=a.length>1&&void 0!==a[1]?a[1]:this.lastRenderEditScale,a.length>2&&void 0!==a[2]&&a[2],e.abrupt("return",new Promise(function(){var e=u()(c.a.mark(function e(a,r){var o,s,l,u,h,d,p,m;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.item.imageDataSize.width,s=i.item.imageDataSize.height,l=1,u=1,i.item.isSVGPattern()&&(l=i.item.getWidth()/(i.item.data.width*i.item.svgScale),u=i.item.getHeight()/(i.item.data.height*i.item.svgScale)),(h=I.a.createCanvas()).width=o*l,h.height=s*u,d=h.getContext("2d"),h.toDataURL(),e.next=12,i.item.render(d,n);case 12:i.item.props.isActiveShadow()&&((p=i.elements.shadowCanvas).width=o*l*D.a.VALUE_TO_MULTIPLY,p.height=s*u*D.a.VALUE_TO_MULTIPLY,m=p.getContext("2d"),i.item.renderShadow(m,n,h),i.updateShadowPosition(n)),t.onload=function(){a(t)},t.onerror=function(e){r(e)},t.src=h.toDataURL(),a(t);case 17:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.elementWrapper,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;null==e&&(e=this.elements.makeElement().wrapper);var n=this.item.getCanvasPosData(t),i=n.width,a=n.height,r=n.contentleft,o=n.contenttop,s=n.offsetX,c=n.offsetY;this.elements.element.style.width=i+"px",this.elements.element.style.height=a+"px",this.elements.element.style.left=r-s+"px",this.elements.element.style.top=o-c+"px";var l=this.item.props.getLeft()*t,u=this.item.props.getTop()*t,h=this.item.props.isFlipH()?-1:1,d=this.item.props.isFlipV()?-1:1;return e.style.width=i+"px",e.style.height=a+"px",e.style.transform="translate(".concat(l,"px, ").concat(u,"px) rotateZ(").concat(this.item.props.getRotate(),"deg)"),this.elements.element.style.transform="scale(".concat(h,", ").concat(d,")"),this.elements.element.style.transformOrigin="50% 50%",this.elements.shadowCanvas.style.transform="scale(".concat(h,", ").concat(d,")"),this.elements.shadowCanvas.style.transformOrigin="50% 50%",e.style.zIndex=""+(this.item.props.zIndex+1),e.style.opacity="".concat(this.item.props.getOpacity()/255),this.updateShadowPosition(t),this}},{key:"updateShadowPosition",value:function(e){if(this.item.props.isActiveShadow()){var t=Math.ceil(this.item.props.getWidth()*e),n=Math.ceil(this.item.props.getHeight()*e),i=t<n?t:n,a=this.item.props.getShadowDistance()*i/130,r=y.b.getPointByDistanceAngle(a,this.item.props.getShadowAngle()+90-this.item.props.getRotate()),o=this.item.getShadowCanvasPosData(e);this.elements.shadowCanvas.style.display="block",this.elements.shadowCanvas.style.width="".concat(o.width,"px"),this.elements.shadowCanvas.style.height="".concat(o.height,"px"),this.elements.shadowCanvas.style.left="".concat(o.contentleft-o.offsetX+r.cx,"px"),this.elements.shadowCanvas.style.top="".concat(o.contenttop-o.offsetY+r.cy,"px")}else this.elements.shadowCanvas.style.display="none"}}]),t}(B),me=function(e){function t(e){return a()(this,t),d()(this,m()(t).call(this,e))}return E()(t,e),t}(M),fe=function(e){function t(e){var n;return a()(this,t),(n=d()(this,m()(t).call(this,e))).item=e,n.item.isActiveLiveEdit=!0,n}var n;return E()(t,e),o()(t,[{key:"createElements",value:function(){this.elements=new me(this.item)}},{key:"updateContents",value:(n=u()(c.a.mark(function e(n){var i,a,r,o,s,l,u=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=u.length>1&&void 0!==u[1]?u[1]:this.lastRenderEditScale,this.item.isResourceLoadFail()){e.next=21;break}return e.next=4,this.item.beforeRender(i);case 4:return a=this.item.props.isFlipH()?-1:1,r=this.item.props.isFlipV()?-1:1,this.elements.shadowSvgDivElement.style.transform="scale(".concat(a,", ").concat(r,")"),this.elements.svgDivElement.style.transform="scale(".concat(a,", ").concat(r,")"),this.item.svgElements.svgElement.parentElement&&this.item.svgElements.svgElement.parentElement===this.elements.svgDivElement||this.elements.svgDivElement.appendChild(this.item.svgElements.svgElement),o=this.item.imageDataSize,(s=I.a.createCanvas()).width=o.width,s.height=o.height,l=s.getContext("2d"),e.next=16,this.item.render(l,1);case 16:return this.item.svgElements.setImageSrc(s.toDataURL()),this.item.svgElements.updateContents(i),e.abrupt("return",n);case 21:return e.abrupt("return",g()(m()(t.prototype),"updateContents",this).call(this,n,i));case 22:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elements.elementWrapper,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastRenderEditScale;return g()(m()(t.prototype),"updatePosition",this).call(this,e,n),this.elements.svgDivElement.style.width="".concat(this.item.getWidth()*n,"px"),this.elements.svgDivElement.style.height="".concat(this.item.getHeight()*n,"px"),this}}]),t}(B);n.d(t,"a",function(){return ge});var ge=function(){function e(){a()(this,e)}return o()(e,null,[{key:"getItemRenderer",value:function(e){switch(e.getItemType()){case ue.a.PHOTO:return new C(e);case ue.a.ITEM_SVG_GRAPHIC_SEC:return e.isBackgroundType()?new fe(e):new pe(e);case ue.a.SVG_GRAPHIC:return new U(e);case ue.a.SVG_SHAPE:return new G(e);case ue.a.SVG_BASIC:return new F(e);case ue.a.SVG_IMAGE_FRAME:return new W(e);case ue.a.TEXT:return new ie(e);case ue.a.GRID:return new le(e);case ue.a.GROUP:return new he.a(e);default:return null}}}]),e}()},function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(41),d=n(12),p=n(57),m=n(3),f=n(43),g=240,v=function(){function e(t){c()(this,e),this.parent=t,this.element=document.createElement("div"),this.element.className=h.a.DESIGN_PRESENTATION_PAGE_MENU,this.activePageLabel=document.createElement("span"),this.lastPageLabel=document.createElement("span"),this.button=this.makeButton(),this.menuList=document.createElement("ul"),this.menuBackground=document.createElement("div"),this.menuBackground.className=h.a.BACKGROUND,this.element.appendChild(this.button),this.element.appendChild(this.menuBackground),this.scrollElement=new p.a(!1,!0,"".concat(g,"px")),this.element.appendChild(this.scrollElement.render(this.menuList)),this.bindEvent()}return u()(e,[{key:"setView",value:function(e){return this.view=e,this}},{key:"bindEvent",value:function(){var e=this;this.button.addEventListener("click",function(){return e.open()}),this.menuBackground.addEventListener("click",function(){return e.close()}),$(this.menuList).on("click","li",function(){var t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.close(),e.view.stopAutoPlay(),t.next=4,e.view.setPage($(n.currentTarget).index(),!1);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.menuBackground.addEventListener("touchmove",function(e){return e.stopPropagation()})}},{key:"makeButton",value:function(){var e=document.createElement("button");e.appendChild(this.activePageLabel);var t=document.createElement("span");return t.innerText="/",e.appendChild(t),e.appendChild(this.lastPageLabel),e}},{key:"init",value:function(e){var t=e.pages.map(function(e){return e.title});this.initMenu(t),this.initButtons(e.pages.length),this.setActivePage(0)}},{key:"initMenu",value:function(e){this.menuList.innerHTML="";var t=document.createDocumentFragment(),n=m.CRM.get(f.a.PRESENTATION_PLAYER_PAGE_NAVIGATOR_PAGE_NAME);e.forEach(function(e,i){var a=n.replace("${idx}",String(i+1));m.StringUtil.isEmpty(e)||(a+=" - ".concat(e));var r=document.createElement("li");t.appendChild(r);var o=document.createElement("span");o.innerText=a,r.appendChild(o)}),this.menuList.appendChild(t)}},{key:"initButtons",value:function(e){this.lastPageLabel.innerText=String(e)}},{key:"setActivePage",value:function(e){this.activePageLabel.innerText=String(e+1),this.menuList.childNodes.forEach(function(t,n){var i=t;e===n?i.classList.add(h.a.SELECTED):i.classList.remove(h.a.SELECTED)})}},{key:"open",value:function(){this.button.classList.add(h.a.ACTIVE),this.parent.show(!0),this.scrollElement.setMaxHeight("".concat(Math.min(this.menuList.clientHeight,g),"px"))}},{key:"close",value:function(){this.button.classList.remove(h.a.ACTIVE),this.parent.hide()}}]),e}(),E=function(){function e(t){c()(this,e),this.element=document.createElement("div"),this.element.className=h.a.DESIGN_PRESENTATION_PAGE_NAVIGATOR,this.prevButton=T(d.ToolsIcon.GREATER_THAN),this.prevButton.classList.add(h.a.PREV),this.nextButton=T(d.ToolsIcon.GREATER_THAN),this.nextButton.classList.add(h.a.NEXT),this.pageMenu=new v(t),this.element.appendChild(this.prevButton),this.element.appendChild(this.pageMenu.element),this.element.appendChild(this.nextButton),this.bindEvent()}return u()(e,[{key:"bindEvent",value:function(){var e=this;this.prevButton.addEventListener("click",o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.view.movePrev();case 2:case"end":return t.stop()}},t)}))),this.nextButton.addEventListener("click",o()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.view.moveNext();case 2:case"end":return t.stop()}},t)}))),this.element.addEventListener("click",function(e){return e.stopPropagation()})}},{key:"init",value:function(e){this.pageMenu.init(e),this.lastPageIdx=e.pages.length-1,this.setButtonEnable()}},{key:"setActivePage",value:function(e){this.activePageIdx=e,this.pageMenu.setActivePage(e),this.setButtonEnable()}},{key:"setView",value:function(e){return this.view=e,this.pageMenu.setView(e),this}},{key:"setButtonEnable",value:function(){0===this.activePageIdx?this.prevButton.classList.add(h.a.DISABLE):this.prevButton.classList.remove(h.a.DISABLE),this.activePageIdx===this.lastPageIdx?this.nextButton.classList.add(h.a.DISABLE):this.nextButton.classList.remove(h.a.DISABLE)}},{key:"clear",value:function(){this.pageMenu.close()}}]),e}();function T(e){var t=document.createElement("button");return Object(d.setToolsIcon)(t,e),t}var I,_,y=n(37),L=n.n(y),O=function(){function e(){c()(this,e),L()(this,"option",e.DEFAULT_OPTION),this.element=document.createElement("div"),this.element.className=h.a.DESIGN_PRESENTATION_PLAY_CONTROLLER,this.playButton=this.makePlayButton(),this.element.appendChild(this.playButton),this.repeatButton=this.makeRepeatButton(),this.element.appendChild(this.repeatButton),this.bindEvent()}return u()(e,[{key:"bindEvent",value:function(){var e=this;this.playButton.addEventListener("click",function(){var t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.option.autoPlaying){t.next=5;break}return t.next=3,e.view.stopAutoPlay();case 3:t.next=7;break;case 5:return t.next=7,e.view.playAuto();case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.repeatButton.addEventListener("click",function(){var t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setRepeat(!e.option.repeat);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this.element.addEventListener("click",function(e){return e.stopPropagation()})}},{key:"makePlayButton",value:function(){var e=document.createElement("button");return e.className=h.a.BUTTON_PLAY,Object(d.setToolsIcon)(e,d.ToolsIcon.PLAY),Object(d.setToolsIcon)(e,d.ToolsIcon.PAUSE),e}},{key:"makeRepeatButton",value:function(){var e=document.createElement("button");return e.className=h.a.BUTTON_REPEAT,Object(d.setToolsIcon)(e,d.ToolsIcon.REPEAT),e}},{key:"setView",value:function(e){return this.view=e,this}},{key:"setAutoPlay",value:function(e){this.option.autoPlaying=e,this.option.autoPlaying?this.playButton.classList.add(h.a.PLAYING):this.playButton.classList.remove(h.a.PLAYING)}},{key:"setRepeat",value:function(e){this.option.repeat=e,this.option.repeat?this.repeatButton.classList.add(h.a.ACTIVE):this.repeatButton.classList.remove(h.a.ACTIVE)}},{key:"clear",value:function(){this.setAutoPlay(!1)}}]),e}();L()(O,"DEFAULT_OPTION",{repeat:!1,autoPlaying:!1}),function(e){e.SLIDE="SLIDE",e.SCALE="SCALE"}(I||(I={})),function(e){e.NONE="NONE",e.HORIZON="HORIZON",e.VERTICAL="VERTICAL"}(_||(_={}));var S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c()(this,e),this.element=document.createElement("div"),this.element.className=h.a.TOGGLE_BUTTON_SWITCH,this.valueCheckbox=this.makeValueCheckbox(t),this.element.appendChild(this.valueCheckbox),this.element.appendChild(this.makeSlider())}return u()(e,[{key:"setChangeListener",value:function(e){return this.changeListener=e,this}},{key:"getValue",value:function(){return this.valueCheckbox.checked}},{key:"setValue",value:function(e){this.valueCheckbox.checked!==e&&(this.valueCheckbox.checked=e,this.changeListener&&this.changeListener(this.valueCheckbox.checked))}},{key:"makeValueCheckbox",value:function(e){var t=document.createElement("input");return t.type="checkbox",t.checked=e,t}},{key:"makeSlider",value:function(){var e=this,t=document.createElement("div");return t.className=h.a.SWITCH_SLIDER,t.addEventListener("click",function(){return e.setValue(!e.getValue())}),t}}]),e}(),P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.StringUtil.random();c()(this,e),L()(this,"radioInputList",[]),this.radioFormName=t,this.element=this.makeElement()}return u()(e,[{key:"makeElement",value:function(){var e=document.createElement("div");return e.className=h.a.BUTTON_RADIO,e}},{key:"addOption",value:function(e,t,n){return this.element.appendChild(this.makeRadioButton(e,t,n)),this}},{key:"makeRadioButton",value:function(e,t,n){var i=this,a=document.createElement("div"),r=document.createElement("input");r.type="radio",r.name=this.radioFormName,r.value=t,r.checked=n,a.appendChild(r),this.radioInputList.push(r);var o=document.createElement("button");return o.innerText=e,o.addEventListener("click",function(){return i.setValue(r.value)}),a.appendChild(o),a}},{key:"setChangeListener",value:function(e){return this.changeListener=e,this}},{key:"getValue",value:function(){var e=this.radioInputList.find(function(e){return e.checked});if(!e)throw new Error("선택된 버튼이 없습니다.");return e.value}},{key:"setValue",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,r=this.radioInputList[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var o=a.value;if(o.value===e&&!o.checked){o.checked=!0,this.changeListener&&this.changeListener(e);break}}}catch(e){n=!0,i=e}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}}]),e}(),k=n(371),A=function(){function e(){c()(this,e),this.element=document.createElement("div"),this.element.className=h.a.EDITABLE_SELECT,this.element.tabIndex=0,this.input=document.createElement("input"),this.optionLayer=document.createElement("div"),this.optionLayer.className="".concat(h.a.OPTION_LAYER," ").concat(h.a.HIDDEN),Object(d.setToolsIcon)(this.element,d.ToolsIcon.GREATER_THAN),this.element.appendChild(this.input),this.element.appendChild(this.optionLayer),this.bindEvent()}return u()(e,[{key:"setInputListener",value:function(e){this.inputListener=e}},{key:"bindEvent",value:function(){var e=this;this.input.addEventListener("focus",function(){k.a.selectAll(e.input),e.open()}),this.input.addEventListener("blur",function(t){e.close()}),this.input.addEventListener("change",function(t){var n=e.inputListener?e.inputListener(e.input.value):null;if(n){var i=e.setValue(n.value);e.input.value=n.label,!i&&e.changeListener&&e.changeListener(e.selectedValue)}else e.setValue(e.selectedValue);$(e.input).trigger("blur")}),this.element.addEventListener("focus",function(){e.open()}),$(this.element).on("click",".".concat(h.a.OPTION_ELEMENT),function(t){e.close(),e.setValue(t.currentTarget.getAttribute("data-value"))})}},{key:"close",value:function(){this.optionLayer.classList.add(h.a.HIDDEN)}},{key:"open",value:function(){this.optionLayer.classList.remove(h.a.HIDDEN)}},{key:"addOption",value:function(e,t,n){var i=document.createElement("div");return i.className=h.a.OPTION_ELEMENT,i.setAttribute("data-value",t),i.innerText=e,this.optionLayer.appendChild(i),n&&this.setValue(t),this}},{key:"getValue",value:function(){return this.selectedValue}},{key:"setChangeListener",value:function(e){return this.changeListener=e,this}},{key:"setValue",value:function(e){if(this.selectedValue===e)return!1;this.selectedValue=e;var t=!1,n=!0,i=!1,a=void 0;try{for(var r,o=this.optionLayer.childNodes[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value;s.getAttribute("data-value")===e?(s.classList.add(h.a.SELECTED),this.input.value=s.innerText,t=!0):s.classList.remove(h.a.SELECTED)}}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return t&&this.changeListener&&this.changeListener(this.selectedValue),t}}]),e}(),R=[1,3,5,8,10],C=function(){function e(t){c()(this,e),L()(this,"config",e.DEFAULT_CONFIG),this.parent=t,this.element=document.createElement("div"),this.element.className=h.a.DESIGN_PRESENTATION_CONFIG_MANAGER,this.toggleFadeButton=this.makeToggleFadeButton(),this.directionRadio=this.makeDirectionRadio(),this.styleRadio=this.makeStyleRadio(),this.intervalTimeSelect=this.makeIntervalTimeSelect(),this.menuButton=document.createElement("button"),Object(d.setToolsIcon)(this.menuButton,d.ToolsIcon.SETTINGS),this.menuLayer=this.makeLayer(),this.menuBackground=document.createElement("div"),this.menuBackground.className=h.a.BACKGROUND,this.element.appendChild(this.menuButton),this.element.appendChild(this.menuBackground),this.element.appendChild(this.menuLayer),this.bindEvent()}return u()(e,[{key:"setView",value:function(e){this.view=e}},{key:"makeToggleFadeButton",value:function(){var e=this;return new S(this.config.fade).setChangeListener(function(t){return e.config.fade=t})}},{key:"makeDirectionRadio",value:function(){var e=this;return(new P).addOption(m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_DIRECTION_OPTION_NONE),_.NONE,this.config.direction===_.NONE).addOption(m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_DIRECTION_OPTION_HORIZON),_.HORIZON,this.config.direction===_.HORIZON).addOption(m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_DIRECTION_OPTION_VERTICAL),_.VERTICAL,this.config.direction===_.VERTICAL).setChangeListener(function(t){return e.config.direction=t})}},{key:"makeStyleRadio",value:function(){var e=this;return(new P).addOption(m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_STYLE_OPTION_SLIDE),I.SLIDE,this.config.style===I.SLIDE).addOption(m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_STYLE_OPTION_SCALE),I.SCALE,this.config.style===I.SCALE).setChangeListener(function(t){return e.config.style=t})}},{key:"makeIntervalTimeSelect",value:function(){var e=this,t=new A,n=m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_INTERVAL_TIME_OPTION_VALUE_NAME);return R.forEach(function(i){var a=String(i);t.addOption(n.replace("${sec}",a),a,i===e.config.playInterval)}),t.setChangeListener(function(t){e.config.playInterval=Number(t)}).setInputListener(function(e){if(!e)return null;e=e.replace("초","").trim();var t=Number(e);return isNaN(t)?null:(t=Number(t.toFixed(1)),t=Math.max(t,1),t=Math.min(t,20),{value:e=String(t),label:n.replace("${sec}",e)})}),t}},{key:"makeLayer",value:function(){var e=document.createElement("div");return e.className=h.a.LAYER,e.appendChild(this.makeLayerHeader()),e.appendChild(this.makeEffectOptionSection()),e.appendChild(this.makePlayOptionSection()),e}},{key:"makeLayerHeader",value:function(){var e=this,t=document.createElement("div");t.className=h.a.HEADER;var n=document.createElement("span");n.innerText=m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_TITLE),t.appendChild(n);var i=document.createElement("button");return i.addEventListener("click",function(){return e.close()}),Object(d.setToolsIcon)(i,d.ToolsIcon.CLOSE),t.appendChild(i),t}},{key:"makeEffectOptionSection",value:function(){var e=document.createElement("section");return e.appendChild(this.makeOptionSectionTitle(m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_EFFECT_OPTION_SECTION_TITLE))),e.appendChild(this.makeOption(m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_FADE_OPTION_NAME),this.toggleFadeButton.element,!0)),e.appendChild(this.makeOption(m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_DIRECTION_OPTION_NAME),this.directionRadio.element,!1)),e.appendChild(this.makeOption(m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_STYLE_OPTION_NAME),this.styleRadio.element,!1)),e}},{key:"makePlayOptionSection",value:function(){var e=document.createElement("section");return e.appendChild(this.makeOptionSectionTitle(m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_PLAY_OPTION_SECTION_TITLE))),e.appendChild(this.makeOption(m.CRM.get(f.a.PRESENTATION_PLAYER_CONFIG_MANAGER_INTERVAL_TIME_OPTION_NAME),this.intervalTimeSelect.element,!0)),e}},{key:"makeOptionSectionTitle",value:function(e){var t=document.createElement("p");return t.className=h.a.TITLE,t.innerText=e,t}},{key:"makeOption",value:function(e,t,n){var i=document.createElement("div");i.className=h.a.OPTION,n&&i.classList.add(h.a.ROW);var a=document.createElement("span");a.className=h.a.OPTION_NAME,a.innerText=e,i.appendChild(a);var r=document.createElement("div");return r.className=h.a.OPTION_ELEMENT,r.appendChild(t),i.appendChild(r),i}},{key:"bindEvent",value:function(){var e=this;this.menuButton.addEventListener("click",function(){return e.open()}),this.menuBackground.addEventListener("click",function(){return e.close()}),this.menuLayer.addEventListener("click",function(e){return e.stopPropagation()}),this.element.addEventListener("click",function(e){return e.stopPropagation()}),this.menuBackground.addEventListener("touchmove",function(e){return e.stopPropagation()})}},{key:"open",value:function(){this.view.stopAutoPlay(),this.menuButton.classList.add(h.a.ACTIVE),this.parent.show(!0)}},{key:"close",value:function(){this.menuButton.classList.remove(h.a.ACTIVE),this.parent.hide()}}]),e}();L()(C,"DEFAULT_CONFIG",{fade:!0,direction:_.HORIZON,style:I.SLIDE,playInterval:3});var b,w=n(102),x=function(){function e(){c()(this,e),this.element=document.createElement("div"),this.element.className="".concat(h.a.DESIGN_PRESENTATION_CONTROLLER," ").concat(h.a.HIDDEN),this.playController=new O,this.pageNavigator=new E(this),this.configManager=new C(this),this.buildComponents(),this.bindEvent()}return u()(e,[{key:"bindEvent",value:function(){var e=this;w.a.isMobileDevice()||$(this.element).on("mouseenter",function(){e.isMouseOn=!0,e.show(!0)}).on("mouseleave",function(){e.isMouseOn=!1,e.show(!1)})}},{key:"show",value:function(e){var t=this;this.element.classList.remove(h.a.HIDDEN);var n=(new Date).getTime();this.lastShowTime=n,e||this.isMouseOn||setTimeout(function(){t.lastShowTime===n&&t.hide()},3e3)}},{key:"hide",value:function(){this.element.classList.add(h.a.HIDDEN)}},{key:"toggle",value:function(e){!this.element.classList.contains(h.a.HIDDEN)?this.hide():this.show(e)}},{key:"buildComponents",value:function(){this.buildPlayController().buildPageNavigator().buildConfigManager()}},{key:"buildPlayController",value:function(){return this.element.appendChild(this.playController.element),this}},{key:"buildPageNavigator",value:function(){return this.element.appendChild(this.pageNavigator.element),this}},{key:"buildConfigManager",value:function(){return this.element.appendChild(this.configManager.element),this}},{key:"setView",value:function(e){return this.pageNavigator.setView(e),this.playController.setView(e),this.configManager.setView(e),this}},{key:"clear",value:function(){this.pageNavigator.clear(),this.playController.clear(),this.configManager.close()}},{key:"init",value:function(e){e.pages.length>1?(this.enable(),this.pageNavigator.init(e),this.show(!1)):this.disable()}},{key:"enable",value:function(){this.element.classList.remove(h.a.DISABLE)}},{key:"disable",value:function(){this.element.classList.add(h.a.DISABLE)}}]),e}(),N=n(295);!function(e){function t(){return(t=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){setTimeout(function(){e()},t)}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}(b||(b={})).sleep=function(e){return t.apply(this,arguments)}}();var D,M=function(){function e(t,n){c()(this,e),this.isFullscreen=n,this.pageRenderer=new N.a({page:t,title:""}),t.editScale=this.getEditScale(t),this.element=this.makePageWrap(this.pageRenderer)}var t,n,i,r,s,l;return u()(e,[{key:"resize",value:(l=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pageRenderer.page.editScale=this.getEditScale(this.pageRenderer.page),this.pageRenderer.renderElement(this.pageRenderer.page.editScale,1),e.next=4,this.renderTbpePage();case 4:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"renderTbpePage",value:(s=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.pageRenderer.render(void 0,void 0,1);case 2:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"hide",value:(r=o()(a.a.mark(function e(t){var n,i=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){i.element.classList.remove(h.a.SHOW),i.element.classList.add(h.a.HIDE)},!t){e.next=16;break}return this.initPosition(),e.next=5,this.enableTransition();case 5:if(n(),t.style!==I.SLIDE){e.next=14;break}e.t0=t.direction,e.next=e.t0===_.HORIZON?10:e.t0===_.VERTICAL?12:14;break;case 10:return this.element.classList.add(t.reverse?h.a.RIGHT:h.a.LEFT),e.abrupt("break",14);case 12:return this.element.classList.add(t.reverse?h.a.BOTTOM:h.a.TOP),e.abrupt("break",14);case 14:e.next=18;break;case 16:this.initPosition(),n();case 18:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"show",value:(i=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.readyShow(t);case 3:e.next=6;break;case 5:this.initPosition();case 6:this.element.classList.remove(h.a.HIDE),this.element.classList.add(h.a.SHOW);case 8:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"readyShow",value:(n=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.initPosition(),this.element.classList.remove(h.a.HIDE),e.t0=t.direction,e.next=e.t0===_.HORIZON?5:e.t0===_.VERTICAL?7:9;break;case 5:return this.element.classList.add(t.reverse?h.a.LEFT:h.a.RIGHT),e.abrupt("break",9);case 7:return this.element.classList.add(t.reverse?h.a.TOP:h.a.BOTTOM),e.abrupt("break",9);case 9:return e.next=11,this.enableTransition();case 11:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"initPosition",value:function(){this.element.classList.add(h.a.PREVENT_TRANSITION),this.element.classList.remove(h.a.LEFT),this.element.classList.remove(h.a.TOP),this.element.classList.remove(h.a.RIGHT),this.element.classList.remove(h.a.BOTTOM)}},{key:"complete",value:function(){this.initPosition(),this.element.classList.remove(h.a.HIDE)}},{key:"enableTransition",value:(t=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.sleep(50);case 2:this.element.classList.remove(h.a.PREVENT_TRANSITION);case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"makePageWrap",value:function(e){var t=document.createElement("div");return t.className=h.a.PAGE_WRAP,t.appendChild(e.renderElement(e.page.editScale,1)),$(e.guidelineRenderer.elementWrapper).hide(),t}},{key:"getEditScale",value:function(e){var t=this.getScreenSize(),n=e.sheetSize;return t.width/t.height>n.width/n.height?t.height/n.height:t.width/n.width}},{key:"getScreenSize",value:function(){return this.isFullscreen?{width:screen.width,height:screen.height}:{width:window.outerWidth,height:window.outerHeight}}}]),e}(),B=function(){function e(){var t=this;c()(this,e),L()(this,"viewPages",[]),L()(this,"reservedAnimationComplete",{}),this.element=document.createElement("div"),this.element.className="".concat(h.a.DESIGN_PRESENTATION_VIEW," ").concat(h.a.DESIGN_VIEWER),this.element.tabIndex=0,this.pageContainer=document.createElement("div"),this.pageContainer.className=h.a.PAGE_CONTAINER,this.element.appendChild(this.pageContainer),this.pageEndView=this.makePageEndView(),this.element.appendChild(this.pageEndView),window.addEventListener("resize",function(){return t.resize()})}var t,n,i,r,s,l,d,p,m;return u()(e,[{key:"resize",value:(m=o()(a.a.mark(function e(){var t,n,i,r,o,s;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.viewPages.length){e.next=2;break}return e.abrupt("return");case 2:t=!0,n=!1,i=void 0,e.prev=5,r=this.viewPages[Symbol.iterator]();case 7:if(t=(o=r.next()).done){e.next=14;break}return s=o.value,e.next=11,s.resize();case 11:t=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),n=!0,i=e.t0;case 20:e.prev=20,e.prev=21,t||null==r.return||r.return();case 23:if(e.prev=23,!n){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,this,[[5,16,20,28],[21,,23,27]])})),function(){return m.apply(this,arguments)})},{key:"makePageEndView",value:function(){var e=this,t=document.createElement("div");t.className="".concat(h.a.PAGE_END_VIEW," ").concat(h.a.HIDDEN);var n=document.createElement("button");n.addEventListener("click",function(){var t=o()(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.stopPropagation(),t.next=3,e.setPage(0,!1);case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),t.appendChild(n);var i=document.createElement("img");return i.src="/resources/image/presentation/replay.png",n.appendChild(i),t}},{key:"setController",value:function(e){return this.controller=e,this}},{key:"setProgressBar",value:function(e){return this.progressBar=e,this}},{key:"init",value:(p=o()(a.a.mark(function e(t,n){var i,r,o,s,c,l,u,h,d,p,m,f,g;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(this.activePageIdx=-1,this.lastPageIdx=t.length-1,this.stopAutoPlay(),this.viewPages=[],i=!0,r=!1,o=void 0,e.prev=7,s=t[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,u=new M(l,n),this.viewPages.push(u),this.pageContainer.appendChild(u.element);e.next=15;break;case 11:e.prev=11,e.t0=e.catch(7),r=!0,o=e.t0;case 15:e.prev=15,e.prev=16,i||null==s.return||s.return();case 18:if(e.prev=18,!r){e.next=21;break}throw o;case 21:return e.finish(18);case 22:return e.finish(15);case 23:return e.next=25,this.setPage(0);case 25:h=!0,d=!1,p=void 0,e.prev=28,m=this.viewPages[Symbol.iterator]();case 30:if(h=(f=m.next()).done){e.next=37;break}return g=f.value,e.next=34,g.renderTbpePage();case 34:h=!0,e.next=30;break;case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(28),d=!0,p=e.t1;case 43:e.prev=43,e.prev=44,h||null==m.return||m.return();case 46:if(e.prev=46,!d){e.next=49;break}throw p;case 49:return e.finish(46);case 50:return e.finish(43);case 51:case"end":return e.stop()}},e,this,[[7,11,15,23],[16,,18,22],[28,39,43,51],[44,,46,50]])})),function(e,t){return p.apply(this,arguments)})},{key:"moveNext",value:(d=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t||this.stopAutoPlay(),!(this.activePageIdx<this.lastPageIdx)){e.next=6;break}return e.next=4,this.setPage(this.activePageIdx+1);case 4:e.next=12;break;case 6:if(!this.controller.playController.option.repeat){e.next=11;break}return e.next=9,this.setPage(0,!0,!0);case 9:e.next=12;break;case 11:this.showReplayView();case 12:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"movePrev",value:(l=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stopAutoPlay(),!(this.activePageIdx>0)){e.next=6;break}return e.next=4,this.setPage(this.activePageIdx-1);case 4:e.next=9;break;case 6:if(!this.controller.playController.option.repeat){e.next=9;break}return e.next=9,this.setPage(this.lastPageIdx,!0,!0);case 9:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"moveFirst",value:(s=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopAutoPlay(),e.next=3,this.setPage(0,!1);case 3:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"moveLast",value:(r=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.stopAutoPlay(),e.next=3,this.setPage(this.lastPageIdx,!1);case 3:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"setPage",value:(i=o()(a.a.mark(function e(t){var n,i,r,o=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(o.length>1&&void 0!==o[1])||o[1],i=o.length>2&&void 0!==o[2]&&o[2],this.activePageIdx!==t){e.next=4;break}return e.abrupt("return");case 4:if(this.hideReplayView(),this.isChangeConfig()&&this.applyConfig(),r=this.activePageIdx,this.activePageIdx=t,this.controller.pageNavigator.setActivePage(this.activePageIdx),this.progressBar.setPage(this.activePageIdx),!n){e.next=15;break}return e.next=13,this.movePageAnimation(r,this.activePageIdx,i);case 13:e.next=17;break;case 15:this.viewPages[r].hide(),this.viewPages[this.activePageIdx].show();case 17:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"movePageAnimation",value:(n=o()(a.a.mark(function e(t,n,i){var r,o,s,c;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.completeAnimation(),r={direction:this.controller.configManager.config.direction,style:this.controller.configManager.config.style,fade:this.controller.configManager.config.fade,reverse:!i&&t>n||i&&t<n,overflow:i},o=this.viewPages[n],s=this.viewPages[t],c=[o.show(r)],s&&c.push(s.hide(r)),e.next=8,Promise.all(c);case 8:return s&&this.reserveAnimationComplete(function(){return s.complete()},800),e.next=11,b.sleep(800);case 11:case"end":return e.stop()}},e,this)})),function(e,t,i){return n.apply(this,arguments)})},{key:"reserveAnimationComplete",value:function(e,t){this.reservedAnimationComplete.callback=e,this.reservedAnimationComplete.timeoutId=setTimeout(e,t)}},{key:"completeAnimation",value:function(){this.reservedAnimationComplete.callback&&(clearTimeout(this.reservedAnimationComplete.timeoutId),this.reservedAnimationComplete.callback())}},{key:"clear",value:function(){this.pageContainer.innerHTML="",this.viewPages=[]}},{key:"showReplayView",value:function(){this.pageEndView.classList.remove(h.a.HIDDEN)}},{key:"hideReplayView",value:function(){this.pageEndView.classList.add(h.a.HIDDEN)}},{key:"playAuto",value:(t=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.controller.playController.setAutoPlay(!0),t=(new Date).getTime(),this.playAutoStartTime=t,n=!0;case 4:if(this.playAutoStartTime!==t){e.next=23;break}return e.next=7,b.sleep(1e3*this.controller.configManager.config.playInterval);case 7:if(this.playAutoStartTime===t&&this.controller.playController.option.autoPlaying){e.next=9;break}return e.abrupt("return");case 9:if(!n){e.next=15;break}if(n=!1,this.activePageIdx!==this.lastPageIdx){e.next=15;break}return e.next=14,this.setPage(0,!0,!0);case 14:return e.abrupt("continue",4);case 15:if(this.activePageIdx!==this.lastPageIdx||this.controller.playController.option.repeat){e.next=19;break}return this.showReplayView(),this.stopAutoPlay(),e.abrupt("return");case 19:return e.next=21,this.moveNext(!0);case 21:e.next=4;break;case 23:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"stopAutoPlay",value:function(){this.controller.playController.setAutoPlay(!1)}},{key:"applyConfig",value:function(){var e=this.controller.configManager.config;this.lastConfig=Object.assign({},e),this.element.setAttribute(D.DIRECTION,e.direction),this.element.setAttribute(D.STYLE,e.style),this.element.setAttribute(D.FADE,e.fade?"ON":"OFF")}},{key:"isChangeConfig",value:function(){if(!this.lastConfig)return!0;var e=this.controller.configManager.config;return this.lastConfig.direction!==e.direction||(this.lastConfig.style!==e.style||this.lastConfig.fade!==e.fade)}}]),e}();!function(e){e.DIRECTION="data-direction",e.STYLE="data-style",e.FADE="data-fade"}(D||(D={}));var U,G=n(39),F=n.n(G),H=n(38),V=n.n(H),W=n(46),K=n.n(W),Y=n(40),z=n.n(Y),X=function(e){function t(){return c()(this,t),F()(this,V()(t).apply(this,arguments))}return z()(t,e),u()(t,[{key:"init",value:function(e){K()(V()(t.prototype),"init",this).call(this,e),this.show()}},{key:"focusPage",value:function(e){this.view.stopAutoPlay(),this.view.setPage(e,!1).catch(function(e){return console.error(e)})}},{key:"setView",value:function(e){this.view=e}}]),t}(n(372).a);!function(e){function t(e){return e.requestFullscreen}e.isEnableFullScreen=t,e.showFullScreen=function(e,n,i){if(!e)throw new Error("잘못된 파라미터입니다.");if(!t(e))throw new Error("지원하지 않는 브라우저입니다.");document.addEventListener("fullscreenchange",function e(){document.fullscreenElement?n&&n():(document.removeEventListener("fullscreenchange",e),i&&i())}),e.requestFullscreen()}}(U||(U={}));var j,Z,q=n(281);!function(e){function t(){var e=location.hash.substr(1);if(!e)return new Map;var t=new Map;return e.split("&").forEach(function(e){var n=e.split("=");2===n.length&&n[0]&&n[1]&&t.set(n[0].trim(),n[1].trim())}),t}function n(e){var t="";if(e.forEach(function(e,n){t+="&".concat(n,"=").concat(e)}),(t=t.substr(1))!==location.hash.substr(1)){var n=location.href.substr(0,location.href.indexOf("#"));t&&(n+="#".concat(t)),location.href=n}}e.setParam=function(e,i){var a=t();a.set(e,i),n(a)},e.deleteParam=function(e){var i=t();i.has(e)&&(i.delete(e),n(i))},e.getValue=function(e){var n=t();if(n.has(e))return n.get(e)}}(j||(j={})),function(e){e.PRESENTATION_MODE="pt"}(Z||(Z={})),n.d(t,"a",function(){return Q});var Q=function(){function e(){c()(this,e),this.element=document.createElement("div"),this.element.className=h.a.DESIGN_PRESENTATION_PLAYER,this.view=new B,this.controller=new x,this.progressBar=new X,this.buildComponents()}var t,n;return u()(e,[{key:"buildComponents",value:function(){this.buildView().buildController().buildProgressBar()}},{key:"buildView",value:function(){return this.view.setController(this.controller).setProgressBar(this.progressBar),this.element.appendChild(this.view.element),this}},{key:"buildController",value:function(){return this.controller.setView(this.view),this.element.appendChild(this.controller.element),this}},{key:"buildProgressBar",value:function(){return this.progressBar.setView(this.view),this.element.appendChild(this.progressBar.element),this}},{key:"play",value:(n=o()(a.a.mark(function e(t){var n,i=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=U.isEnableFullScreen(this.element)&&!w.a.isMobileDevice(),this.clear(),document.body.appendChild(this.element),e.prev=3,n){e.next=14;break}return j.setParam(Z.PRESENTATION_MODE,"y"),this.showLoading(),this.element.classList.add(h.a.SHOW),this.openCallback&&this.openCallback(),e.next=11,this.init(t,n);case 11:this.hideLoading(),e.next=15;break;case 14:U.showFullScreen(this.element,function(){i.showLoading(),i.element.classList.add(h.a.SHOW),i.openCallback&&i.openCallback(),setTimeout(o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.init(t,n);case 2:i.hideLoading();case 3:case"end":return e.stop()}},e)})),0)},function(){return i.hide()});case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),console.error(e.t0),this.hide();case 21:case"end":return e.stop()}},e,this,[[3,17]])})),function(e){return n.apply(this,arguments)})},{key:"setOpenCallback",value:function(e){this.openCallback=e}},{key:"setCloseCallback",value:function(e){this.closeCallback=e}},{key:"init",value:(t=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.controller.init(t),this.progressBar.init(t.pages.length),e.next=4,this.view.init(t.pages.map(function(e){return e.clone()}),n);case 4:this.bindDefaultEvent(),t.pages.length>1&&this.bindActionEvent();case 6:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"bindDefaultEvent",value:function(){var e=this;w.a.isMobileDevice()&&$(window).on("hashchange.DESIGN_PRESENTATION_PLAYER",function(){j.deleteParam(Z.PRESENTATION_MODE),e.hide()})}},{key:"bindActionEvent",value:function(){var e,t,n=this;w.a.isMobileDevice()?$(this.element).on("click",o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.controller.toggle(!0);case 1:case"end":return e.stop()}},e)}))):$(this.element).on("click",o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.view.moveNext();case 2:case"end":return e.stop()}},e)}))).on("mousemove",function(e){e.pageX>n.element.clientWidth/2&&e.pageY>n.element.clientHeight/2&&n.controller.show(!1)}).on("mouseleave",function(){return n.controller.hide()}),$(this.element).on("touchstart",function(i){e=t=n.getTouchPosition(i.touches[0])}).on("touchmove",function(e){t=n.getTouchPosition(e.touches[0])}).on("touchend",o()(a.a.mark(function i(){var r;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(r=t-e,!(Math.abs(r)>50)){i.next=9;break}if(!(r<0)){i.next=7;break}return i.next=5,n.view.moveNext();case 5:i.next=9;break;case 7:return i.next=9,n.view.movePrev();case 9:case"end":return i.stop()}},i)}))),$(document).on("keydown.DESIGN_PRESENTATION_PLAYER",function(){var e=o()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!q.a.isLeftKey(t.key)&&!q.a.isUpKey(t.key)&&t.key!==q.b.PAGE_UP){e.next=6;break}return e.next=4,n.view.movePrev();case 4:e.next=22;break;case 6:if(!q.a.isRightKey(t.key)&&!q.a.isDownKey(t.key)&&t.key!==q.b.PAGE_DOWN&&t.key!==q.b.SPACE_BAR&&t.key!==q.b.ENTER){e.next=11;break}return e.next=9,n.view.moveNext();case 9:e.next=22;break;case 11:if(t.key!==q.b.HOME){e.next=16;break}return e.next=14,n.view.moveFirst();case 14:e.next=22;break;case 16:if(t.key!==q.b.END){e.next=21;break}return e.next=19,n.view.moveLast();case 19:e.next=22;break;case 21:t.key===q.b.ESC&&n.hide();case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},{key:"getTouchPosition",value:function(e){return this.controller.configManager.config.direction===_.VERTICAL?e.pageY:e.pageX}},{key:"unbindEvent",value:function(){$(this.element).off(),$(document).off("keydown.DESIGN_PRESENTATION_PLAYER"),$(window).off("hashchange.DESIGN_PRESENTATION_PLAYER")}},{key:"hide",value:function(){this.element.classList.remove(h.a.SHOW),this.hideLoading(),this.element.parentElement&&this.element.parentElement.removeChild(this.element),this.closeCallback&&this.closeCallback(),this.unbindEvent()}},{key:"showLoading",value:function(){this.element.classList.add(h.a.LOADING_PRESENTATION)}},{key:"hideLoading",value:function(){this.element.classList.remove(h.a.LOADING_PRESENTATION)}},{key:"clear",value:function(){this.view.clear(),this.controller.clear()}}]),e}()},,function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(37),d=n.n(h),p=n(43),m=n(3),f=n(47),g=n(96),v=n(59),E=n(42),T=n(193),I=n(41),_=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;c()(this,e),d()(this,"percentage",0),this.root=t,this.progressBar=document.createElement("div"),this.progressBar.className=I.a.PROGRESS_BAR_HOR,this.progress=document.createElement("div"),this.progressBar.appendChild(this.progress),null!==t&&this.root.appendChild(this.progressBar)}return u()(e,[{key:"addRoot",value:function(e){null===this.root&&(this.root=e,$(this.root).children(".user_image_handle").hide(),this.root.appendChild(this.progressBar))}},{key:"advance",value:function(){this.percentage>100||null!==this.progress&&(this.progress.style.width=this.percentage+++"%")}},{key:"remove",value:function(){this.progressBar.removeChild(this.progress),this.progress=null,null!==this.root&&($(this.root).children(".user_image_handle").show(),this.root.removeChild(this.progressBar))}}]),e}(),y=n(175),L=n(162),O=n(232),S=n(95);n.d(t,"a",function(){return P});var P=function(){function e(){c()(this,e)}var t,n,i,r,s,l;return u()(e,null,[{key:"generateUploadKey",value:function(t){return"".concat(e.UPLOAD_KEY_PREFIX,"_").concat(t)}},{key:"loadThumbnail",value:(l=o()(a.a.mark(function t(n,i){var r,o,s,c,l,u,h,d;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return k(r=new _),o=e.generateUploadKey(i),e.map.set(o,r),t.next=6,e.makeImageData(n);case 6:if(s=t.sent,(l=R(n.type))!==T.a.USER_IMAGE){t.next=15;break}return u=g.a.createPhotoKey(i),t.next=12,Object(O.c)(s);case 12:c=t.sent,t.next=18;break;case 15:u=i,O.b.setThumbNail(i,s),c=s;case 18:return t.next=20,v.b.setUrlImage(u,c);case 20:return t.next=22,this.getUserFileExtraData(n,l);case 22:return h=t.sent,d={type:l,filename:n.name,uuidKey:i,fileSize:n.size,accountId:E.a.instance.user.accountId,accountName:E.a.instance.user.userName,thumb300Url:null,originUrl:null,fileMeta:JSON.stringify({width:h.width,height:h.height})},t.next=26,L.a.instance.addUserFilesDto(d);case 26:case"end":return t.stop()}},t,this)})),function(e,t){return l.apply(this,arguments)})},{key:"uploadUserFile",value:(s=o()(a.a.mark(function t(n,i){var r,o,s,c,l,u,h;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h=function(){var t=e.map.get(r);t&&(t.remove(),e.map.delete(r))},r=e.generateUploadKey(i),o=L.a.instance.selectedTeamData){t.next=7;break}return t.next=6,S.a.getDefaultSelectedTeamData();case 6:o=t.sent;case 7:return s=R(n.type),c=e.getUploadApiByType(s),(l=new FormData).append("file",n),l.append("key",i),l.append("teamIdx",String(o.teamIdx)),l.append("teamScope",o.teamScope),t.next=16,this.getUserFileExtraData(n,s);case 16:(u=t.sent)&&l.append("extraData",JSON.stringify(u)),e.fileUpload(c,l).then(function(){L.a.instance.fileUpdateComplete(n.name),L.a.instance.movePhotosToFolder(i),h()}).catch(function(e){throw alert("업로드 중 문제가 발생하였습니다."),h(),e});case 19:case"end":return t.stop()}},t,this)})),function(e,t){return s.apply(this,arguments)})},{key:"getUserFileExtraData",value:(r=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n,e.next=e.t0===T.a.USER_IMAGE?3:e.t0===T.a.USER_SVG?6:7;break;case 3:return e.next=5,this.getUserImageExtraData(t);case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",this.getUserSvgExtraData(t));case 7:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"getUserImageExtraData",value:(i=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.makeImageData(t);case 2:return n=e.sent,e.next=5,v.b.loadImageAsync(n);case 5:return i=e.sent,e.abrupt("return",{width:i.width,height:i.height});case 7:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getUserSvgExtraData",value:function(e){return new Promise(function(t,n){var i=new FileReader;i.onload=o()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.makeSvgDataFromXml(i.result);case 2:n=e.sent,t({width:n.width,height:n.height});case 4:case"end":return e.stop()}},e)})),i.onerror=function(){i.abort(),n()},i.readAsText(e)})}},{key:"fileUpload",value:(n=o()(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.UnicornApiRequest.post(t,{data:n,processData:!1,traditional:!0,contentType:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"reserveFileKey",value:(t=o()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.CRM.get(p.a.RESERVE_FILE_KEY_V0),e.next=3,f.UnicornApiRequest.post(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"getUploadApiByType",value:function(e){var t=m.CRM.get(p.a.UPLOAD_WITH_KEY_V0);switch(e){case T.a.USER_IMAGE:return t.replace("${type}","user_image/");case T.a.USER_SVG:return t.replace("${type}","user_svg/")}}}]),e}();function k(e){return A.apply(this,arguments)}function A(){return(A=o()(a.a.mark(function e(t){var n,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=0,i=setInterval(function(){t.advance(),++n>=95&&clearInterval(i)},300);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}d()(P,"map",new Map),d()(P,"UPLOAD_KEY_PREFIX","FILE_UPLOAD"),d()(P,"makeImageData",function(e){var t=new FileReader;return new Promise(function(n,i){t.readAsDataURL(e),t.onprogress=function(e){if(e.lengthComputable)e.loaded,e.total},t.onload=function(e){n(t.result)},t.onerror=function(){t.abort(),i()}})});var R=function(e){switch(e){case"image/jpeg":case"image/jpg":case"image/png":return T.a.USER_IMAGE;case"image/svg+xml":return T.a.USER_SVG}}},function(e,t,n){"use strict";var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(42),c=n(163),l=n(45),u=n(277),h=n(240),d=n(209),p=n(55),m=n(79),f=n(50),g=n(51),v=n(167),E=n(82),T=function(){function e(){a()(this,e)}return o()(e,null,[{key:"getImageTroublePageIdxList",value:function(t){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;if(1===c.items.length){var l=c.items[0];e.isDownloadUnacceptableImageItem(l)&&n.push(c.pageIdx)}}}catch(e){a=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}},{key:"isDownloadUnacceptableImageItem",value:function(e){var t=e instanceof f.e&&(e.orgType===f.b.Image||e.orgType===f.b.Sticker),n=e instanceof g.e&&e.isOnlyOneItem()&&e instanceof f.e&&(e.orgType===f.b.BackgroundImage||e.orgType===f.b.Skin),i=e instanceof E.a&&!(e instanceof v.a);return t||n||i}}]),e}();n.d(t,"a",function(){return I});var I=function(){function e(){a()(this,e)}return o()(e,null,[{key:"getFileTypeIconElements",value:function(){return{jpg:u.a.getClonedJPGIconElement(),pdf:u.a.getClonedPDFIconElement(),png:u.a.getClonedPNGIconElement(),pngTransparent:u.a.getClonedPNGTransparentIconElement()}}},{key:"doDownload",value:function(e){s.a.dispatch(new c.a(e))}},{key:"confirmDownload",value:function(e){s.a.dispatch(new l.c(function(t,n,i){var a=i.canvasRenderer.printout;n.env.devMode&&a&&e()}))}},{key:"getOutputInfo",value:function(){var e=null;return s.a.dispatch(new l.c(function(t){var n,i,a=t.pages.length,r=t.pages[0].sheetSize,o=r.width,s=r.height,c=d.a.getSizeOption().unit,l=h.a.getPrintWorkSize(),u=c;if(c===p.b.PX){n=Math.round(m.a.changeUnit(l.width,u,p.b.MM,96)),i=Math.round(m.a.changeUnit(l.height,u,p.b.MM,96)),u=p.b.MM}else n=l.width,i=l.height;var f=Math.round(h.a.getPrintDPI());e={pageCount:a,pageWidth:o,pageHeight:s,workWidth:n,workHeight:i,unit:u,dpi:f}})),e}},{key:"getDownloadAcceptableInfo",value:function(){var e=null;return s.a.dispatch(new l.c(function(t){var n=t.pages,i=T.getImageTroublePageIdxList(n);e={imgTroublePageIdxList:i}})),e}}]),e}()},function(e,t,n){"use strict";var i,a,r=n(59);(a=i||(i={})).createProgram=function(e){for(var t=e.createProgram(),n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(i.forEach(function(n){e.attachShader(t,n)}),e.linkProgram(t),e.getProgramParameter(t,e.LINK_STATUS))return t;console.log("프로그램 만들다가 오류남",e.getProgramInfoLog(t)),e.deleteProgram(t)},a.createShader=function(e,t,n){var i=e.createShader(t);if(e.shaderSource(i,n),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))return i;console.log("쉐이더 만들다가 오류남;;;",e.getShaderInfoLog(i)),e.deleteShader(i)},a.setRectangle=function(e,t,n,i,a){var r=t,o=t+i,s=n,c=n+a;e.bufferData(e.ARRAY_BUFFER,new Float32Array([r,s,o,s,r,c,r,c,o,s,o,c]),e.STATIC_DRAW)},a.createAndSetupTexture=function(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),t},a.getVertexShader=function(){return"\n            attribute vec2 a_position;\n            attribute vec2 a_texCoord;\n\n            uniform vec2 u_resolution;\n            uniform vec2 u_flip;\n            \n            varying vec2 v_texCoord;\n            \n            void main() {\n                vec2 zeroToOne = a_position / u_resolution;\n                vec2 zeroToTwo = zeroToOne * 2.0;\n                vec2 clipSpace = zeroToTwo - 1.0;\n                gl_Position = vec4(clipSpace * u_flip, 0, 1);\n                v_texCoord = a_texCoord;\n            }\n        "},a.getFragmentShader=function(){return"\n            precision highp float;\n                \n            uniform sampler2D u_image;\n            uniform vec2 u_viewLT;\n            uniform vec2 u_viewSize;\n            uniform vec2 u_originSize;\n            uniform int u_filterIdx;\n            uniform float u_filterValue;\n            uniform int u_graDirection;\n            uniform float u_itemAlpha;\n\n            varying vec2 v_texCoord;\n\n            void adjustNormal() {\n                gl_FragColor = texture2D(u_image, v_texCoord);\n                gl_FragColor.a *= u_itemAlpha;\n                gl_FragColor.rgb *= gl_FragColor.a;\n            }\n\n            void adjustBrightness() {\n                vec4 color = texture2D(u_image, v_texCoord);\n\n                if (color.a > 0.0) {\n                    float correctRatio = 300.0;\n                    float ratio = u_filterValue / correctRatio;\n                    \n                    float contrastValue = ((u_filterValue > 0.0) ? u_filterValue : -u_filterValue) * 0.5;\n                    float factor = (259.0 * (contrastValue + 255.0)) / (255.0 * (259.0 - contrastValue));\n                    \n                    color.r = (factor * (color.r - 0.5) + 0.5) + ratio;\n                    color.g = (factor * (color.g - 0.5) + 0.5) + ratio;\n                    color.b = (factor * (color.b - 0.5) + 0.5) + ratio;\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n\n                gl_FragColor = color;\n            }\n\n            void adjustContrast() {\n                vec4 color = texture2D(u_image, v_texCoord);\n\n                if (color.a > 0.0) {\n                    float factor = (259.0 * (u_filterValue + 255.0)) / (255.0 * (259.0 - u_filterValue));\n\n                    color.r = (factor * (color.r - 0.5) + 0.5);\n                    color.g = (factor * (color.g - 0.5) + 0.5);\n                    color.b = (factor * (color.b - 0.5) + 0.5);\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n\n                gl_FragColor = color;\n            }\n\n            void adjustLightness() {\n                vec4 color = texture2D(u_image, v_texCoord);\n\n                if (color.a > 0.0) {\n                    float factor = u_filterValue / 100.0;\n\n                    if (u_filterValue < 0.0)\n                    {\n                        color.r = color.r + color.r * factor;\n                        color.g = color.g + color.g * factor;\n                        color.b = color.b + color.b * factor;\n                    } else if (u_filterValue > 0.0)\n                    {\n                        color.r = color.r + (1.0 - color.r) * factor;\n                        color.g = color.g + (1.0 - color.g) * factor;\n                        color.b = color.b + (1.0 - color.b) * factor;\n                    }\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n\n                gl_FragColor = color;\n            }\n\n            void adjustSaturation() {\n                vec4 color = texture2D(u_image, v_texCoord);\n\n                if (color.a > 0.0) {\n                    float convertedSaturation = u_filterValue / 100.0;\n                    float gray = 0.2989 * color.r + 0.5870 * color.g + 0.1140 * color.b;\n\n                    color.r = -gray * convertedSaturation + color.r * (1.0 + convertedSaturation);\n                    color.g = -gray * convertedSaturation + color.g * (1.0 + convertedSaturation);\n                    color.b = -gray * convertedSaturation + color.b * (1.0 + convertedSaturation);\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n\n                gl_FragColor = color;\n            }\n\n            void adjustHue() {\n                vec4 color = texture2D(u_image, v_texCoord);\n                \n                if (color.a > 0.0) {\n                    float angle = u_filterValue / 100.0 * 3.14159265;\n                    float s = sin(angle);\n                    float c = cos(angle);\n                    vec3 weights = (vec3(2.0 * c, -sqrt(3.0) * s - c, sqrt(3.0) * s - c) + 1.0) / 3.0;\n\n                    color.rgb = vec3(\n                        dot(color.rgb, weights.xyz),\n                        dot(color.rgb, weights.zxy),\n                        dot(color.rgb, weights.yzx)\n                    );\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n                \n                gl_FragColor = color;\n            }\n\n            void adjustColorTone() {\n                vec4 color = texture2D(u_image, v_texCoord);\n                \n                if (color.a > 0.0) {\n                    vec3 hsv = vec3((u_filterValue + 100.0) / 200.0, 1, 1);\n                    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n                    vec3 p = abs(fract(hsv.xxx + K.xyz) * 6.0 - K.www);\n                    vec3 tone =  hsv.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), hsv.y);\n                    \n                    color.r = (color.r + tone.r * 0.1) / 1.1;\n                    color.g = (color.g + tone.g * 0.1) / 1.1;\n                    color.b = (color.b + tone.b * 0.1) / 1.1;\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n                \n                gl_FragColor = color;\n            }\n            \n            void adjustTemperature() {\n                vec4 color = texture2D(u_image, v_texCoord);\n                \n                if (color.a > 0.0) {\n                    float temperatureValue = u_filterValue * 0.001;\n                    \n                    color.r += temperatureValue;\n                    color.b -= temperatureValue;\n                    color.g += (temperatureValue > 0.0) ? temperatureValue : -temperatureValue;\n                    \n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n                \n                gl_FragColor = color;\n            }\n            \n            void adjustSharpen() {\n                vec4 color = texture2D(u_image, v_texCoord);\n                float sharpen = abs(u_filterValue) / 40.0;\n                vec2 offset[4];\n                vec2 step = 1.0 / u_originSize;\n                float step_w = step.x;\n                float step_h = step.y;\n                \n                offset[0] = vec2(0.0, -step_h);\n                offset[1] = vec2(-step_w, 0.0);\n                offset[2] = vec2(step_w, 0.0);\n                offset[3] = vec2(0.0, step_h);\n                \n                vec4 sum = color * 5.0;\n                \n                for (int i = 0; i < 4; i++) {\n                    vec4 color = texture2D(u_image, v_texCoord + offset[i]);\n                    sum += color * -1.0;\n                }\n                \n                gl_FragColor = mix(color, sum, sharpen);\n            }\n            \n            float random(vec3 scale, float seed) {\n                return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n            }\n\n            void adjustBlur(vec2 direction) {\n                float width = u_originSize.x;\n                float height = u_originSize.y;\n                vec2 delta = u_filterValue * direction * (width + height) / 1400.0;\n                vec4 color = vec4(0.0);\n                float total = 0.0;\n                float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n                for (float t = -30.0; t <= 30.0; t++) {\n                    float percent = (t + offset - 0.5) / 30.0;\n                    float weight = 1.0 - abs(percent);\n                    vec4 sample = texture2D(u_image, v_texCoord + delta * percent);\n\n                    sample.rgb *= sample.a;\n\n                    color += sample * weight;\n                    total += weight;\n                }\n\n                gl_FragColor = color / total;\n                gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n            }\n\n            void adjustVignette() {\n                vec4 color = texture2D(u_image, v_texCoord);\n\n                if (color.a > 0.0) {\n                    vec2 ratio = u_originSize / u_viewSize;\n                    float dist = distance(v_texCoord * ratio, (u_viewLT + u_viewSize / u_originSize / 2.0) * ratio);\n                    float size = 0.5;\n                    float amount = u_filterValue / 100.0;\n                    color.rgb *= smoothstep(0.8, size * 0.799, dist * (amount + size));\n\n                    color.r = max(0.0, min(color.r, 1.0));\n                    color.g = max(0.0, min(color.g, 1.0));\n                    color.b = max(0.0, min(color.b, 1.0));\n                }\n\n                gl_FragColor = color;\n            }\n\n            void adjustGradationMask() {\n                vec4 color = texture2D(u_image, v_texCoord);\n                float length = u_filterValue / 100.0;\n                float start;\n                float end;\n                float weight;\n\n                if (u_graDirection == 1) {\n                    start = u_viewLT.x;\n                    end = start + u_viewSize.x / u_originSize.x * length;\n                    weight = max(start, min(v_texCoord.x, end));\n                }\n                else if (u_graDirection == 2) {\n                    start = u_viewLT.x + u_viewSize.x / u_originSize.x;\n                    end = abs(u_viewSize.x / u_originSize.x * length - start);\n                    weight = max(end, min(v_texCoord.x, start));\n                }\n                else if (u_graDirection == 3) {\n                    start = u_viewLT.y;\n                    end = start + u_viewSize.y / u_originSize.y * length;\n                    weight = max(start, min(v_texCoord.y, end));\n                }\n                else if (u_graDirection == 4) {\n                    start = u_viewLT.y + u_viewSize.y / u_originSize.y;\n                    end = abs(u_viewSize.y / u_originSize.y * length - start);\n                    weight = max(end, min(v_texCoord.y, start));\n                }\n                else {\n                    start = 0.0;\n                    end = abs(length - start);\n                    weight = end;\n                }\n\n                float alpha = (weight - start) / (end - start);\n                color.a *= alpha;\n\n                gl_FragColor = color;\n            }\n\n            void main() {\n                if (u_filterIdx == 0) {\n                    adjustNormal();\n                } else if (u_filterIdx == 1) {\n                    adjustBrightness();\n                } else if (u_filterIdx == 2) {\n                    adjustContrast();\n                } else if (u_filterIdx == 3) {\n                    adjustLightness();\n                } else if (u_filterIdx == 4) {\n                    adjustSaturation();\n                } else if (u_filterIdx == 5) {\n                    adjustHue();\n                } else if (u_filterIdx == 6) {\n                    adjustColorTone();\n                } else if (u_filterIdx == 7) {\n                    adjustTemperature();\n                } else if (u_filterIdx == 8) {\n                    adjustSharpen();\n                } else if (u_filterIdx == 9) {\n                    adjustBlur(vec2(1.0 / u_originSize.x, 0.0));\n                } else if (u_filterIdx == 10) {\n                    adjustBlur(vec2(0.0, 1.0 / u_originSize.y));\n                } else if (u_filterIdx == 11) {\n                    adjustVignette();\n                } else if (u_filterIdx == 12) {\n                    adjustGradationMask();\n                }\n            }\n        "};var o,s=n(64);n.d(t,"a",function(){return o}),function(e){var t,n,a,o,c,l,u,h,d,p,m,f,g,v,E,T,I,_,y,L,O,S,P,k,A,R,C,b,w,x,N,D,M,B,U,G;function F(){return t||(t=s.a.createCanvas()),t}function H(){if(!n){var e=F();if(n=e.getContext("webgl")||e.getContext("experimental-webgl"))try{o=i.createShader(n,n.VERTEX_SHADER,i.getVertexShader()),c=i.createShader(n,n.FRAGMENT_SHADER,i.getFragmentShader()),a=i.createProgram(n,o,c)}catch(e){n=null,console.log(e)}}}function V(e,t,i){n.bindFramebuffer(n.FRAMEBUFFER,e),n.uniform2f(d,t,i),n.uniform2f(m,x,N),n.uniform2f(f,t,i),n.uniform2f(g,k,A),n.viewport(0,0,t,i)}function W(e){n.uniform1i(v,e),n.uniform1f(E,O[e]),n.uniform1i(T,D),n.drawArrays(n.TRIANGLES,0,6)}e.isEnableWebGL=function(){var e=F();return null!=(e.getContext("webgl")||e.getContext("experimental-webgl"))},e.getCanvas=F,e.renderWebGL=function(e,t,o,s,c){var F=e.props;(O=[0]).push(F.getBrightness()),O.push(F.getContrast()),O.push(F.getLightness()),O.push(F.getSaturation()),O.push(F.getTint()),O.push(F.getColorTone()),O.push(F.getTemperature());var K=F.getBlur();if(K<0?(O.push(K),O.push(0),O.push(0)):(O.push(0),O.push(K),O.push(K)),O.push(F.getVignette()),D=0,F.isActiveGradationMask()){O.push(F.getGradationMaskDepth());var Y=F.getGradationMaskDirection();"R"===Y?D=F.isFlipH()?2:1:"L"===Y?D=F.isFlipH()?1:2:"B"===Y?D=F.isFlipV()?4:3:"T"===Y&&(D=F.isFlipV()?3:4)}else O.push(0);M=e.isUnsupportedLicense()?.5:F.getOpacity()/255,B=e.props.isFlipH(),U=e.props.isFlipV();var z=t.getWidth(),X=t.getHeight(),j=-t.left/z,Z=-t.top/X,q=s/z,$=c/X;(G!==e.tbpeId||k!==z||A!==X||R!==s||C!==c||b!==q||w!==$||x!==j||N!==Z)&&(G=e.tbpeId,k=z,A=X,R=s,C=c,b=q,w=$,x=j,N=Z,function(e){H(),l=r.b.getData(e.props.getPhotoKey()),u=n.getAttribLocation(a,"a_position"),h=n.getAttribLocation(a,"a_texCoord"),d=n.getUniformLocation(a,"u_resolution"),p=n.getUniformLocation(a,"u_flip"),m=n.getUniformLocation(a,"u_viewLT"),f=n.getUniformLocation(a,"u_viewSize"),g=n.getUniformLocation(a,"u_originSize"),v=n.getUniformLocation(a,"u_filterIdx"),E=n.getUniformLocation(a,"u_filterValue"),T=n.getUniformLocation(a,"u_graDirection"),I=n.getUniformLocation(a,"u_itemAlpha"),_=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,_),i.setRectangle(n,0,0,R,C),y=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,y),i.setRectangle(n,0,0,1,1),L=i.createAndSetupTexture(n),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,l),S=[],P=[];for(var t=0;t<2;++t){var o=i.createAndSetupTexture(n);S.push(o),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,R,C,0,n.RGBA,n.UNSIGNED_BYTE,null);var s=n.createFramebuffer();P.push(s),n.bindFramebuffer(n.FRAMEBUFFER,s),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,o,0)}}(e)),function(){n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.useProgram(a),n.enableVertexAttribArray(u),n.bindBuffer(n.ARRAY_BUFFER,_),n.vertexAttribPointer(u,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(h),n.bindBuffer(n.ARRAY_BUFFER,y),i.setRectangle(n,0,0,1,1),n.vertexAttribPointer(h,2,n.FLOAT,!1,0,0),n.bindTexture(n.TEXTURE_2D,L),n.uniform2f(p,1,1);var e=0;O.forEach(function(t,i){(t<0||t>0)&&(V(P[e%2],R,C),W(i),n.bindTexture(n.TEXTURE_2D,S[e%2]),++e)}),n.uniform2f(p,B?-1:1,U?1:-1),V(null,R,C),i.setRectangle(n,x,N,b,w),n.uniform1f(I,M),W(0)}()},e.createProgram=H}(o||(o={}))},,,function(e,t,n){"use strict";var i,a=n(37),r=n.n(a),o=n(39),s=n.n(o),c=n(38),l=n.n(c),u=n(40),h=n.n(u),d=n(73),p=n.n(d),m=n(35),f=n.n(m),g=n(36),v=n.n(g),E=n(74);!function(e){e.M="M",e.L="L",e.H="H",e.V="V",e.C="C",e.Q="Q",e.A="A",e.Z="Z"}(i||(i={}));var T=function(){function e(t){f()(this,e),r()(this,"datas",[]),this.code=t}return v()(e,[{key:"pushData",value:function(e,t,n,i,a){this.datas.push({value:e,scaleX:t,scaleY:n,offsetX:i,offsetY:a})}},{key:"calcDatas",value:function(e,t,n,i){var a=[],r=!0,o=!1,s=void 0;try{for(var c,l=this.datas[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value;a.push((u.value+(u.offsetX?n:0)+(u.offsetY?i:0))*(u.scaleX?e:1)*(u.scaleY?t:1))}}catch(e){o=!0,s=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}return a}},{key:"getPathString",value:function(e,t,n,i){var a="".concat(this.code),r=!0,o=!1,s=void 0;try{for(var c,l=this.datas[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value;a+="".concat((u.value+(u.offsetX?n:0)+(u.offsetY?i:0))*(u.scaleX?e:1)*(u.scaleY?t:1),",")}}catch(e){o=!0,s=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}return"".concat(a.substr(0,a.length-1)," ")}},{key:"isClockwise",value:function(){return!1}}],[{key:"getPathString",value:function(e,t,n,i,a){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e.length<=0)return"";var o="";if(r){var s=e.slice().reverse(),c=!0,l=!1,u=void 0;try{for(var h,d=s[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;o+=p.getPathStringReverse(t,n,i,a)}}catch(e){l=!0,u=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}}else{var m=!0,f=!1,g=void 0;try{for(var v,E=e[Symbol.iterator]();!(m=(v=E.next()).done);m=!0){var T=v.value;o+=T.getPathString(t,n,i,a)}}catch(e){f=!0,g=e}finally{try{m||null==E.return||E.return()}finally{if(f)throw g}}}return(o=o.trim()).length>0&&"z"!==o[o.length-1].toLowerCase()&&(o+="z"),o.trim()}}]),e}(),I=function(e){function t(e,n){var i;return f()(this,t),(i=s()(this,l()(t).call(this,"M"))).pushData(e,!0,!1,!0,!1),i.pushData(n,!1,!0,!1,!0),i.baseX=e,i.baseY=n,i.targetX=e,i.targetY=n,i}return h()(t,e),v()(t,[{key:"getPathStringReverse",value:function(e,t,n,i){return""}},{key:"getUnitType",value:function(){return i.M}},{key:"getCheckPoints",value:function(){return[{x:this.baseX,y:this.baseY}]}}]),t}(T),_=function(e){function t(e,n,i,a){var r;return f()(this,t),(r=s()(this,l()(t).call(this,"L"))).pushData(i,!0,!1,!0,!1),r.pushData(a,!1,!0,!1,!0),r.baseX=e,r.baseY=n,r.targetX=i,r.targetY=a,r}return h()(t,e),v()(t,[{key:"getPathStringReverse",value:function(e,t,n,i){var a=(this.baseX+n)*e,r=(this.baseY+i)*t;return"L".concat(a," ").concat(r)}},{key:"getUnitType",value:function(){return i.L}},{key:"getCheckPoints",value:function(){return[{x:this.targetX,y:this.targetY}]}}]),t}(T),y=function(e){function t(e,n,i){var a;return f()(this,t),(a=s()(this,l()(t).call(this,"H"))).pushData(i,!0,!1,!0,!1),a.baseX=e,a.baseY=n,a.targetX=i,a.targetY=n,a}return h()(t,e),v()(t,[{key:"getPathStringReverse",value:function(e,t,n,i){var a=(this.baseX+n)*e;return"H".concat(a)}},{key:"getUnitType",value:function(){return i.H}},{key:"getCheckPoints",value:function(){return[{x:this.targetX,y:this.targetY}]}}]),t}(T),L=function(e){function t(e,n,i){var a;return f()(this,t),(a=s()(this,l()(t).call(this,"V"))).pushData(i,!1,!0,!1,!0),a.baseX=e,a.baseY=n,a.targetX=e,a.targetY=i,a}return h()(t,e),v()(t,[{key:"getPathStringReverse",value:function(e,t,n,i){var a=(this.baseY+i)*t;return"V".concat(a)}},{key:"getUnitType",value:function(){return i.V}},{key:"getCheckPoints",value:function(){return[{x:this.targetX,y:this.targetY}]}}]),t}(T),O=function(e){function t(e,n,i,a,r,o,c,u,h){var d;return f()(this,t),(d=s()(this,l()(t).call(this,"A"))).pushData(i,!0,!1,!1,!1),d.pushData(a,!1,!0,!1,!1),d.pushData(r,!1,!1,!1,!1),d.pushData(o?1:0,!1,!1,!1,!1),d.pushData(c?1:0,!1,!1,!1,!1),d.pushData(u,!0,!1,!0,!1),d.pushData(h,!1,!0,!1,!0),d.baseX=e,d.baseY=n,d.targetX=u,d.targetY=h,d}return h()(t,e),v()(t,[{key:"getPathStringReverse",value:function(e,t,n,i){var a=(this.baseX+n)*e,r=(this.baseY+i)*t,o=this.calcDatas(e,t,n,i);return"A".concat(o[0]," ").concat(o[1]," ").concat(o[2]," ").concat(o[3]," ").concat(1===o[4]?1:0," ").concat(a," ").concat(r)}},{key:"getUnitType",value:function(){return i.A}},{key:"isClockwise",value:function(){return 1===this.datas[5].value}},{key:"getCheckPoints",value:function(){return[{x:this.targetX,y:this.targetY}]}}]),t}(T),S=function(e){function t(e,n,i,a,r,o,c,u){var h;return f()(this,t),(h=s()(this,l()(t).call(this,"C"))).pushData(i,!0,!1,!0,!1),h.pushData(a,!1,!0,!1,!0),h.pushData(r,!0,!1,!0,!1),h.pushData(o,!1,!0,!1,!0),h.pushData(c,!0,!1,!0,!1),h.pushData(u,!1,!0,!1,!0),h.baseX=e,h.baseY=n,h.targetX=c,h.targetY=u,h}return h()(t,e),v()(t,[{key:"getPathStringReverse",value:function(e,t,n,i){var a=(this.baseX+n)*e,r=(this.baseY+i)*t,o=this.calcDatas(e,t,n,i);return"C".concat(o[2]," ").concat(o[3]," ").concat(o[0]," ").concat(o[1]," ").concat(a," ").concat(r)}},{key:"getUnitType",value:function(){return i.C}},{key:"isClockwise",value:function(){var e=this.datas[0].value,t=this.datas[1].value;return(e-this.baseX)*(this.targetY-t)-(t-this.baseY)*(this.targetX-e)>=0}},{key:"getCheckPoints",value:function(){return[{x:this.datas[0].value,y:this.datas[1].value},{x:this.datas[2].value,y:this.datas[3].value},{x:this.targetX,y:this.targetY}]}}]),t}(T),P=function(e){function t(e,n,i,a,r,o){var c;return f()(this,t),(c=s()(this,l()(t).call(this,"Q"))).pushData(i,!0,!1,!0,!1),c.pushData(a,!1,!0,!1,!0),c.pushData(r,!0,!1,!0,!1),c.pushData(o,!1,!0,!1,!0),c.baseX=e,c.baseY=n,c.targetX=r,c.targetY=o,c}return h()(t,e),v()(t,[{key:"getPathStringReverse",value:function(e,t,n,i){var a=(this.baseX+n)*e,r=(this.baseY+i)*t,o=this.calcDatas(e,t,n,i);return"Q".concat(o[0]," ").concat(o[1]," ").concat(a," ").concat(r)}},{key:"getUnitType",value:function(){return i.Q}},{key:"isClockwise",value:function(){var e=this.datas[0].value,t=this.datas[1].value;return(e-this.baseX)*(this.targetY-t)-(t-this.baseY)*(this.targetX-e)>=0}},{key:"getCheckPoints",value:function(){return[{x:this.datas[0].value,y:this.datas[1].value},{x:this.targetX,y:this.targetY}]}}]),t}(T),k=function(e){function t(e,n){var i;return f()(this,t),(i=s()(this,l()(t).call(this,"Z"))).baseX=e,i.baseY=n,i.targetX=e,i.targetY=n,i}return h()(t,e),v()(t,[{key:"getPathString",value:function(e,t,n,i){return this.code}},{key:"getPathStringReverse",value:function(e,t,n,i){var a=(this.baseX+n)*e,r=(this.baseY+i)*t;return"M".concat(a," ").concat(r)}},{key:"getUnitType",value:function(){return i.Z}},{key:"getCheckPoints",value:function(){return[]}}]),t}(T),A=function(){function e(){f()(this,e)}return v()(e,null,[{key:"getDAttr",value:function(e){var t=e.getAttribute("d");return t.length>0&&"z"!==t[t.length-1].toLowerCase()&&(t+="z"),t}},{key:"parseSvgPath",value:function(e){var t=[],n=this.getDAttr(e),i=this.parsePath(n),a=0,r=0,o=0,s=0,c=0,l=0,u=0,h=0,d=!0,p=!1,m=void 0;try{for(var f,g=i[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var v=f.value;switch(o=a,s=r,v[0]){case"m":a+=v[1],r+=v[2],t.push(new I(a,r));break;case"M":a=v[1],r=v[2],t.push(new I(a,r));break;case"l":a+=v[1],r+=v[2],t.push(new _(o,s,a,r));break;case"L":a=v[1],r=v[2],t.push(new _(o,s,a,r));break;case"H":a=v[1],t.push(new y(o,s,a));break;case"h":a+=v[1],t.push(new y(o,s,a));break;case"V":r=v[1],t.push(new L(o,s,r));break;case"v":r+=v[1],t.push(new L(o,s,r));break;case"a":case"A":"a"===v[0]?(a+=v[6],r+=v[7]):(a=v[6],r=v[7]);var E=1===v[4],T=1===v[5];t.push(new O(o,s,v[1],v[2],v[3],E,T,a,r));break;case"C":c=v[3],l=v[4],a=v[5],r=v[6],t.push(new S(o,s,v[1],v[2],c,l,a,r));break;case"c":t.push(new S(o,s,v[1]+a,v[2]+r,v[3]+a,v[4]+r,v[5]+a,v[6]+r)),c=v[3]+a,l=v[4]+r,a+=v[5],r+=v[6];break;case"S":null!==c&&null!==l||(c=a,l=r),t.push(new S(o,s,2*a-c,2*r-l,v[1],v[2],v[3],v[4])),c=v[1],l=v[2],a=v[3],r=v[4];break;case"s":null!==c&&null!==l||(c=a,l=r),t.push(new S(o,s,2*a-c,2*r-l,v[1]+a,v[2]+r,v[3]+a,v[4]+r)),c=v[1]+a,l=v[2]+r,a+=v[3],r+=v[4];break;case"Q":u=v[1],h=v[2],a=v[3],r=v[4],t.push(new P(o,s,u,h,a,r));break;case"q":u=v[1]+a,h=v[2]+r,a+=v[3],r+=v[4],t.push(new P(o,s,u,h,a,r));break;case"T":case"t":null!==u&&null!==h||(u=a,h=r),u=2*a-u,h=2*r-h,"T"===v[0]?(a=v[1],r=v[2]):(a+=v[1],r+=v[2]),t.push(new P(o,s,u,h,a,r));break;case"z":case"Z":t.push(new k(o,s))}}}catch(e){p=!0,m=e}finally{try{d||null==g.return||g.return()}finally{if(p)throw m}}return t}},{key:"translatePoint",value:function(e,t,n){e.x+=t,e.y+=n}},{key:"rotatePoint",value:function(e,t){var n=e.x*Math.cos(t)-e.y*Math.sin(t),i=e.y*Math.cos(t)+e.x*Math.sin(t);e.x=n,e.y=i}},{key:"parseValues",value:function(e){var t=e.match(this.numberPattern);return t?t.map(Number):[]}},{key:"parsePath",value:function(e){var t=this,n=new Map;n.set("a",7).set("c",6).set("h",1).set("l",2).set("m",2).set("q",4).set("s",4).set("t",2).set("v",1).set("z",0);var i=[],a="".concat(e).trim();return"M"!==a[0]&&"m"!==a[0]?i:(a.replace(this.segmentPattern,function(e,a,r){var o=a.toLowerCase();if(r=t.parseValues(r),"m"===o&&r.length>2&&(i.push([a].concat(r.splice(0,2))),o="l",a="m"===a?"l":"L"),r.length<n.get(o))return"";for(i.push([a].concat(r.splice(0,n.get(o))));r.length>=n.get(o)&&r.length&&n.get(o);)i.push([a].concat(r.splice(0,n.get(o))));return""}),i)}}]),e}();r()(A,"numberPattern",/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi),r()(A,"segmentPattern",/([astvzqmhlc])([^astvzqmhlc]*)/gi);var R=n(3);n.d(t,"a",function(){return C});var C,b=function(){function e(t,n){f()(this,e),this.originElement=t,this.data=n,this.element=this.createCopiedElement(t),this.arrayOfSVGPathUnit=A.parseSvgPath(this.element),this.isClockwise=this.calcClockwise()}return v()(e,[{key:"originColor",value:function(e){throw new Error("Method not implemented.")}}]),v()(e,[{key:"calcClockwise",value:function(){var e=this.arrayOfSVGPathUnit.length;if(e<2)return!1;if(e<5){var t=this.arrayOfSVGPathUnit.filter(function(e){return e.getUnitType()===i.A||e.getUnitType()===i.Q||e.getUnitType()===i.C});if(t.length>0)return t[0].isClockwise();if(4===e){var n=this.arrayOfSVGPathUnit[0],a=this.arrayOfSVGPathUnit[1],r=this.arrayOfSVGPathUnit[2],o=this.arrayOfSVGPathUnit[3];return(r.baseX-n.baseX)*(o.baseY-a.baseY)-(r.baseY-n.baseY)*(o.baseX-a.baseX)>=0}return!1}var s=[],c=!0,l=!1,u=void 0;try{for(var h,d=this.arrayOfSVGPathUnit[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var m=h.value;if(s.length>0&&m.getUnitType()===i.Z)break;s.push.apply(s,p()(m.getCheckPoints()))}}catch(e){l=!0,u=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}return this.calcProd(s)}},{key:"calcProd",value:function(e){for(var t=e.length,n=0,i=0;i<t;i++){var a=e[i],r=e[(i+1)%t],o=e[(i+2)%t],s=Math.sqrt((r.x-a.x)*(r.x-a.x)+(r.y-a.y)*(r.y-a.y)),c=Math.sqrt((o.x-r.x)*(o.x-r.x)+(o.y-r.y)*(o.y-r.y));s*c!=0&&(n+=((o.y-r.y)*(r.x-a.x)-(o.x-r.x)*(r.y-a.y))/(s*c))}return n>=0}},{key:"getElement",value:function(){return this.element}},{key:"scale",value:function(e,t){this.element.setAttribute("d","".concat(this.getPathString(e,t,0,0)))}},{key:"getPathString",value:function(e,t,n,i){return T.getPathString(this.arrayOfSVGPathUnit,e,t,n,i,this.isClockwise)}}]),e}(),w=function(e){function t(){return f()(this,t),s()(this,l()(t).apply(this,arguments))}return h()(t,e),v()(t,[{key:"createCopiedElement",value:function(e){var t=document.createElementNS(E.a.SVG,"path"),n=null!==e.getAttribute("x")?Number(e.getAttribute("x")):0,i=null!==e.getAttribute("y")?Number(e.getAttribute("y")):0,a=null!==e.getAttribute("width")?Number(e.getAttribute("width")):0,r=null!==e.getAttribute("height")?Number(e.getAttribute("height")):0;t.setAttribute("d","M".concat(n," ").concat(i,"v").concat(r,"h").concat(a,"v").concat(-r,"z"));var o=!0,s=!1,c=void 0;try{for(var l,u=e.attributes[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;"x"!==h.name&&"y"!==h.name&&"width"!==h.name&&"height"!==h.name&&t.setAttribute(h.name,h.value)}}catch(e){s=!0,c=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}return t}}]),t}(b),x=function(e){function t(){return f()(this,t),s()(this,l()(t).apply(this,arguments))}return h()(t,e),v()(t,[{key:"createCopiedElement",value:function(e){var t=document.createElementNS(E.a.SVG,"path"),n=null!==e.getAttribute("cx")?Number(e.getAttribute("cx")):0,i=null!==e.getAttribute("cy")?Number(e.getAttribute("cy")):0,a=null!==e.getAttribute("r")?Number(e.getAttribute("r")):0,r="M".concat(n-a," ").concat(i,"a").concat(a," ").concat(a," 0 1 0 ").concat(2*a," 0a").concat(a," ").concat(a," 0 1 0 ").concat(-2*a," 0z");t.setAttribute("d",r);var o=!0,s=!1,c=void 0;try{for(var l,u=e.attributes[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;"cx"!==h.name&&"cy"!==h.name&&"r"!==h.name&&t.setAttribute(h.name,h.value)}}catch(e){s=!0,c=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw c}}return t}}]),t}(b),N=function(e){function t(){return f()(this,t),s()(this,l()(t).apply(this,arguments))}return h()(t,e),v()(t,[{key:"createCopiedElement",value:function(e){var t=document.createElementNS(E.a.SVG,"path"),n=null!==e.getAttribute("cx")?Number(e.getAttribute("cx")):0,i=null!==e.getAttribute("cy")?Number(e.getAttribute("cy")):0,a=null!==e.getAttribute("rx")?Number(e.getAttribute("rx")):0,r=null!==e.getAttribute("ry")?Number(e.getAttribute("ry")):0,o="M".concat(n-a," ").concat(i,"a").concat(a," ").concat(r," 0 1 0 ").concat(2*a," 0a").concat(a," ").concat(r," 0 1 0 ").concat(-2*a," 0z");t.setAttribute("d",o);var s=!0,c=!1,l=void 0;try{for(var u,h=e.attributes[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;"cx"!==d.name&&"cy"!==d.name&&"rx"!==d.name&&"ry"!==d.name&&t.setAttribute(d.name,d.value)}}catch(e){c=!0,l=e}finally{try{s||null==h.return||h.return()}finally{if(c)throw l}}return t}}]),t}(b),D=function(e){function t(){return f()(this,t),s()(this,l()(t).apply(this,arguments))}return h()(t,e),v()(t,[{key:"createCopiedElement",value:function(e){var t=document.createElementNS(E.a.SVG,"path"),n=[],i=e.getAttribute("points").split(" "),a=!0,r=!1,o=void 0;try{for(var s,c=i[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var l=s.value;if(!(l.length<3||l.indexOf(",")<0)){var u=l.split(",");if(2===u.length){var h=Number(u[0]),d=Number(u[1]);n.push({x:h,y:d})}}}}catch(e){r=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}for(var p="M",m=n.length,f=0;f<m-1;f++){var g=n[f];p+="".concat(g.x," ").concat(g.y,"L")}var v=n[m-1];p+="".concat(v.x," ").concat(v.y,"Z"),t.setAttribute("d","".concat(p));var T=!0,I=!1,_=void 0;try{for(var y,L=e.attributes[Symbol.iterator]();!(T=(y=L.next()).done);T=!0){var O=y.value;"points"!==O.name&&t.setAttribute(O.name,O.value)}}catch(e){I=!0,_=e}finally{try{T||null==L.return||L.return()}finally{if(I)throw _}}return t}}]),t}(b),M=function(e){function t(){return f()(this,t),s()(this,l()(t).apply(this,arguments))}return h()(t,e),v()(t,[{key:"createCopiedElement",value:function(e){return e.cloneNode(!0)}}]),t}(b),B=function(){function e(){f()(this,e)}return v()(e,null,[{key:"getSvgElementTransformer",value:function(e,t){var n=e.nodeName.toLowerCase();return"rect"===n?new w(e,t.getCloneCurrentData()):"circle"===n?new x(e,t.getCloneCurrentData()):"ellipse"===n?new N(e,t.getCloneCurrentData()):"polygon"===n?new D(e,t.getCloneCurrentData()):"path"===n?new M(e,t.getCloneCurrentData()):null}}]),e}();(C||(C={})).makeSvgRenderedDataUnit=function(e){var t=[];return function e(t,n,i){i.save();var a=t.getAttribute("opacity");a&&(i.opacity=Number(a));var r=t.getAttribute("fill");r&&(i.fill=r);var o=t.getAttribute("transform");if(o){var s=o.split(")"),c=!0,l=!1,u=void 0;try{for(var h,d=s[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value;p.includes("translate")?i.translate="".concat(p,")"):p.includes("matrix")?i.matrix="".concat(p,")"):p.includes("scale")?i.scale="".concat(p,")"):p.includes("rotate")&&(i.rotate="".concat(p,")"))}}catch(e){l=!0,u=e}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}}var m=B.getSvgElementTransformer(t,i);if(m){if(n.push(m),t.parentElement){var f=m.getElement();t.parentElement.insertBefore(f,t),t.parentElement.removeChild(t)}}else{var g=!0,v=!1,E=void 0;try{for(var T,I=t.childNodes[Symbol.iterator]();!(g=(T=I.next()).done);g=!0){var _=T.value;_ instanceof SVGElement&&e(_,n,i)}}catch(e){v=!0,E=e}finally{try{g||null==I.return||I.return()}finally{if(v)throw E}}}i.restore()}(e,t,new U),t};var U=function(){function e(){f()(this,e),r()(this,"stackOpacity",[]),r()(this,"stackFill",[]),r()(this,"stackTranslate",[]),r()(this,"stackMatrix",[]),r()(this,"stackScale",[]),r()(this,"stackRotate",[])}return v()(e,[{key:"save",value:function(){this.stackOpacity.push(this.opacity),this.stackFill.push(this.fill),this.stackTranslate.push(this.translate),this.stackMatrix.push(this.matrix),this.stackScale.push(this.scale),this.stackRotate.push(this.rotate)}},{key:"restore",value:function(){this.opacity=this.stackOpacity.pop(),this.fill=this.stackFill.pop(),this.translate=this.stackTranslate.pop(),this.matrix=this.stackMatrix.pop(),this.scale=this.stackScale.pop(),this.rotate=this.stackRotate.pop()}},{key:"getCloneCurrentData",value:function(){var t=new e;return t.opacity=this.opacity,t.fill=this.fill,t.translate=this.translate,t.matrix=this.matrix,t.scale=this.scale,t.rotate=this.rotate,t}},{key:"makeKeyString",value:function(){return"".concat(this.opacity,"/").concat(this.fill,"/").concat(this.translate,"/").concat(this.matrix,"/").concat(this.scale,"/").concat(this.rotate)}},{key:"getHashString",value:function(){var t=this.makeKeyString();if(e.keyMap.has(t))return e.keyMap.get(t);for(var n=R.StringUtil.random(10);e.values.includes(n);)n=R.StringUtil.random(10);return e.keyMap.set(t,n),e.values.push(n),n}}]),e}();r()(U,"values",[]),r()(U,"keyMap",new Map)},function(e,t,n){"use strict";var i,a=n(35),r=n.n(a),o=n(36),s=n.n(o),c=n(37),l=n.n(c),u=n(466);!function(e){e[e.LT=0]="LT",e[e.LB=1]="LB",e[e.RT=2]="RT",e[e.RB=3]="RB"}(i||(i={}));var h,d=n(42),p=n(61);n.d(t,"a",function(){return m}),function(e){e.OS="360023691991",e.BROWSER="360023689371",e.USER_ID="360023692011",e.DESIGN_HISTORY_IDX="360023670932",e.DEVICE="360023676992"}(h||(h={}));var m=function(){function e(){var t=this;r()(this,e),l()(this,"init",!1);var n=(new u.UAParser).getResult();this.osInfo="".concat(n.os.name," / ").concat(n.os.version),this.browserInfo="".concat(n.browser.name," / ").concat(n.browser.version),(n.device.type||n.device.vendor||n.device.model)&&(this.deviceInfo="".concat(n.device.type||"*"," / ").concat(n.device.vendor||"*"," / ").concat(n.device.model||"*")),this.polling(function(){if(t.webWidget=document.getElementById("webWidget"),t.init=!!t.webWidget,t.init){var e=window.zE;e("webWidget:on","open",function(){return t.setCustomFields()}),e("webWidget","setLocale","ko"),t.webWidget.style.position="fixed"}return t.init})}return s()(e,[{key:"setCustomFields",value:function(){var t=$(this.webWidget).contents().find("form");t.append(e.makeCustomFieldInput(h.OS,this.osInfo)),t.append(e.makeCustomFieldInput(h.BROWSER,this.browserInfo)),this.deviceInfo&&t.append(e.makeCustomFieldInput(h.DEVICE,this.deviceInfo)),d.a.instance.user.isLogin()&&t.append(e.makeCustomFieldInput(h.USER_ID,String(d.a.instance.user.accountId)));var n=p.b.getDesignInfo();n.isLoaded()&&t.append(e.makeCustomFieldInput(h.DESIGN_HISTORY_IDX,String(n.getLatestDesignHistoryIdx())))}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.RB;this.setPosition(t),this.polling(function(){return e.init&&window.zE("webWidget","open"),e.init})}},{key:"setUserInfo",value:function(e){var t=this;this.polling(function(){return t.init&&window.zE.identify({email:e.email,name:e.name}),t.init})}},{key:"setPosition",value:function(t){var n=this;this.polling(function(){return n.init&&(n.webWidget.style.left="",n.webWidget.style.top="",n.webWidget.style.right="",n.webWidget.style.bottom="",t===i.LB?(n.webWidget.style.bottom=e.POSITION,n.webWidget.style.left=e.POSITION):t===i.RB?(n.webWidget.style.bottom=e.POSITION,n.webWidget.style.right=e.POSITION):t===i.LT?(n.webWidget.style.top=e.POSITION,n.webWidget.style.left=e.POSITION):t===i.RT&&(n.webWidget.style.top=e.POSITION,n.webWidget.style.right=e.POSITION)),n.init})}},{key:"polling",value:function(e){var t=window.setInterval(function(){e()&&window.clearInterval(t)},500)}}],[{key:"makeCustomFieldInput",value:function(e,t){var n=document.createElement("input");return n.name=e,n.type="hidden",n.value=t,n}}]),e}();l()(m,"instance",new m),l()(m,"POSITION","0")},function(e,t,n){"use strict";var i,a=n(35),r=n.n(a),o=n(36),s=n.n(o);!function(e){e[e.BACK_SPACE=8]="BACK_SPACE",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.DELETE=46]="DELETE",e[e.NUMPAD_PLUS=107]="NUMPAD_PLUS",e[e.NUMPAD_MINUS=109]="NUMPAD_MINUS",e[e.PLUS_EQUAL=187]="PLUS_EQUAL",e[e.MINUS_OR_UNDERBAR=189]="MINUS_OR_UNDERBAR"}(i||(i={}));var c=n(122);n.d(t,"a",function(){return l});var l=function(){function e(t){r()(this,e),this.keyEvent=t}return s()(e,[{key:"eventPreventDefault",value:function(){this.keyEvent.preventDefault()}},{key:"isBackSpace",value:function(){return this.keyEvent.keyCode===i.BACK_SPACE}},{key:"isEnter",value:function(){return this.keyEvent.keyCode===i.ENTER}},{key:"isEsc",value:function(){return this.keyEvent.keyCode===i.ESC}},{key:"isCtrl",value:function(){return!!this.keyEvent&&(e.isMacOS()?this.keyEvent.metaKey:this.keyEvent.ctrlKey)}},{key:"isCtrlPress",value:function(){return Object(c.e)(this.keyEvent)}},{key:"isAlt",value:function(){return this.keyEvent.keyCode===i.ALT}},{key:"isAltPress",value:function(){return this.keyEvent.altKey}},{key:"isShift",value:function(){return this.keyEvent.keyCode===i.SHIFT}},{key:"isShiftPress",value:function(){return this.keyEvent.shiftKey}},{key:"isSpace",value:function(){return this.keyEvent.keyCode===i.SPACE}},{key:"isLeft",value:function(){return this.keyEvent.keyCode===i.LEFT}},{key:"isUp",value:function(){return this.keyEvent.keyCode===i.UP}},{key:"isRight",value:function(){return this.keyEvent.keyCode===i.RIGHT}},{key:"isDown",value:function(){return this.keyEvent.keyCode===i.DOWN}},{key:"isDelete",value:function(){return this.keyEvent.keyCode===i.DELETE}},{key:"isNumpadPlus",value:function(){return this.keyEvent.keyCode===i.NUMPAD_PLUS}},{key:"isNumpadMinus",value:function(){return this.keyEvent.keyCode===i.NUMPAD_MINUS}},{key:"isPlusOrEqual",value:function(){return this.keyEvent.keyCode===i.PLUS_EQUAL}},{key:"isMinusOrUnderbar",value:function(){return this.keyEvent.keyCode===i.MINUS_OR_UNDERBAR}},{key:"isCtrlAlt",value:function(){return this.isCtrlPress()&&this.isAltPress()}},{key:"isCtrlPlus",value:function(){return this.isCtrl()&&(this.isPlusOrEqual()||this.isNumpadPlus())}},{key:"isCtrlMinus",value:function(){return this.isCtrl()&&(this.isMinusOrUnderbar()||this.isNumpadMinus())}},{key:"isCtrlAltPlus",value:function(){return this.isCtrlAlt()&&(this.isPlusOrEqual()||this.isNumpadPlus())}},{key:"isCtrlAltMinus",value:function(){return this.isCtrlAlt()&&(this.isMinusOrUnderbar()||this.isNumpadMinus())}},{key:"isCtrlSpace",value:function(){return this.isCtrlPress()&&this.isSpace()}},{key:"isArrowDirection",value:function(){return this.isLeft()||this.isUp()||this.isRight()||this.isDown()}}],[{key:"isMacOS",value:function(){return Boolean(navigator.platform.match("Mac"))}}]),e}()},,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return A}),n.d(t,"b",function(){return R});var i,a=n(39),r=n.n(a),o=n(38),s=n.n(o),c=n(40),l=n.n(c),u=n(35),h=n.n(u),d=n(36),p=n.n(d),m=n(37),f=n.n(m),g=n(223),v=n(64);!function(e){e[e.BRIGHTNESS=0]="BRIGHTNESS",e[e.CONTRAST=1]="CONTRAST",e[e.LIGHTNESS=2]="LIGHTNESS",e[e.SATURATION=3]="SATURATION",e[e.TINT=4]="TINT",e[e.COLOR_TONE=5]="COLOR_TONE",e[e.TEMPERATURE=6]="TEMPERATURE",e[e.BLUR=7]="BLUR",e[e.VIGNETTE=8]="VIGNETTE"}(i||(i={}));var E=function(){function e(t){h()(this,e),this.type=t}return p()(e,[{key:"getFilterType",value:function(){return this.type}}]),e}();f()(E,"IMAGE_CANVAS",v.a.createCanvas()),f()(E,"FILTER_CANVAS",v.a.createCanvas());var T=function(e){function t(){return h()(this,t),r()(this,s()(t).call(this,i.BRIGHTNESS))}return l()(t,e),p()(t,[{key:"processImage",value:function(e,t){return g.c.adjustImageBrightness(e,t)}}]),t}(E),I=function(e){function t(){return h()(this,t),r()(this,s()(t).call(this,i.CONTRAST))}return l()(t,e),p()(t,[{key:"processImage",value:function(e,t){return g.c.adjustContrast(e,t)}}]),t}(E),_=function(e){function t(){return h()(this,t),r()(this,s()(t).call(this,i.LIGHTNESS))}return l()(t,e),p()(t,[{key:"processImage",value:function(e,t){return 0===t||t<-100||t>100?e:g.c.adjustLightness(e,t)}}]),t}(E),y=function(e){function t(){return h()(this,t),r()(this,s()(t).call(this,i.SATURATION))}return l()(t,e),p()(t,[{key:"processImage",value:function(e,t){return 0===t||t<-100||t>100?e:g.c.adjustSaturation(e,t)}}]),t}(E),L=function(e){function t(){return h()(this,t),r()(this,s()(t).call(this,i.TINT))}return l()(t,e),p()(t,[{key:"processImage",value:function(e,t){return 0===t||t<-100||t>100?e:g.c.adjustHSLValue(e,g.b.HUE,t)}}]),t}(E),O=function(e){function t(){return h()(this,t),r()(this,s()(t).call(this,i.COLOR_TONE))}return l()(t,e),p()(t,[{key:"processImage",value:function(e,t){return 0===t||t<-100||t>100?e:g.c.adjustColorToneValue(e,g.b.HUE,t)}}]),t}(E),S=function(e){function t(){return h()(this,t),r()(this,s()(t).call(this,i.TEMPERATURE))}return l()(t,e),p()(t,[{key:"processImage",value:function(e,t){return 0===t||t<-100||t>100?e:g.c.adjustTemperature(e,t)}}]),t}(E),P=function(e){function t(){return h()(this,t),r()(this,s()(t).call(this,i.BLUR))}return l()(t,e),p()(t,[{key:"processImage",value:function(e,t,n,i){if(0===t||t<-100||t>100)return e;if(t>0)return g.c.adjustBlur(e,t,n,i);var a=Math.abs(t)/40;return g.c.adjustSharpen(e,a)}}]),t}(E),k=function(e){function t(){return h()(this,t),r()(this,s()(t).call(this,i.VIGNETTE))}return l()(t,e),p()(t,[{key:"processImage",value:function(e,t,n,i,a,r){return t<=0||t>100?e:g.c.adjustVignette(e,t,n,i,a,r)}}]),t}(E),A=function(){function e(){h()(this,e),e.FILTER_LIST.push(new T),e.FILTER_LIST.push(new I),e.FILTER_LIST.push(new _),e.FILTER_LIST.push(new y),e.FILTER_LIST.push(new L),e.FILTER_LIST.push(new O),e.FILTER_LIST.push(new S),e.FILTER_LIST.push(new P),e.FILTER_LIST.push(new k)}return p()(e,null,[{key:"processImage",value:function(t,n,i,a,r,o){var s=t;return e.FILTER_LIST.forEach(function(e){var t=n.get(e.getFilterType());0!==t&&(s=e.processImage(s,t,i,a,r,o))}),s}}]),e}();f()(A,"FILTER_LIST",new Array(0)),f()(A,"INSTANCE",new A);var R=function(){function e(){h()(this,e)}return p()(e,null,[{key:"getFilterParamMap",value:function(e){var t=new Map;return t.set(i.BRIGHTNESS,Number(e.getBrightness())),t.set(i.CONTRAST,Number(e.getContrast())),t.set(i.LIGHTNESS,Number(e.getLightness())),t.set(i.SATURATION,Number(e.getSaturation())),t.set(i.TINT,Number(e.getTint())),t.set(i.COLOR_TONE,Number(e.getColorTone())),t.set(i.TEMPERATURE,Number(e.getTemperature())),t.set(i.BLUR,Number(e.getBlur())),t.set(i.VIGNETTE,Number(e.getVignette())),t}}]),e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return g});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(36),u=n.n(l),h=n(70),d=n(3),p=n(59),m=n(64),f=n(74),g=function(){function e(){c()(this,e)}var t;return u()(e,null,[{key:"makeImageframeThumbnail",value:(t=o()(a.a.mark(function e(t,n,i,r){var o,s,c,l,u,g,v,E,T,I,_,y,L;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return","data:image/svg+xml;base64,"+d.StringUtil.b64EncodeUnicode((new XMLSerializer).serializeToString(t)));case 2:if(o=t.cloneNode(!0),s=h.a.getFirstElementByOriginColor(o,r)){e.next=6;break}return e.abrupt("return",null);case 6:if(s.setAttribute("fill","none"),c=document.createElementNS(f.a.SVG,"image"),(l=s.parentElement)||(l=h.a.getParentElement(o,s)),l){e.next=12;break}return e.abrupt("return",null);case 12:if(l.insertBefore(c,s),l.removeChild(s),u=d.StringUtil.random(20),g=document.createElementNS(f.a.SVG,"defs"),(v=document.createElementNS(f.a.SVG,"clipPath")).id=u,v.appendChild(s),g.appendChild(v),l.appendChild(g),this.FRAME_SRC){e.next=34;break}if(p.b.hasData("imageframe_basic_png")){e.next=25;break}return e.next=25,p.b.setUrlImage("imageframe_basic_png","/resources/image/imageframe_basic.png");case 25:E=p.b.getData("imageframe_basic_png"),(T=m.a.createCanvas()).width=E.width,this.IMAGE_WIDTH=E.width,T.height=E.height,this.IMAGE_HEIGHT=E.height,T.getContext("2d").drawImage(E,0,0),this.FRAME_SRC=T.toDataURL();case 34:return I=n/i,_=this.IMAGE_WIDTH/this.IMAGE_HEIGHT,I===_?(y=n,L=i):I>_?(y=n,L=this.IMAGE_WIDTH/_):(L=i,y=this.IMAGE_HEIGHT*_),c.setAttributeNS(f.a.XLINK,"href",this.FRAME_SRC),c.setAttribute("clip-path","url(#".concat(u,")")),c.setAttribute("overflow","visible"),c.setAttribute("x","".concat(n/2-y/2,"px")),c.setAttribute("y","".concat(i/2-L/2,"px")),c.setAttribute("width","".concat(y,"px")),c.setAttribute("height","".concat(L,"px")),e.abrupt("return","data:image/svg+xml;base64,"+d.StringUtil.b64EncodeUnicode((new XMLSerializer).serializeToString(o)));case 45:case"end":return e.stop()}},e,this)})),function(e,n,i,a){return t.apply(this,arguments)})}]),e}()},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return c});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(42);function c(){return new Promise(function(t){e.env.IMAGE_PROCESS&&t(),Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,491)).then(function(){var e=o()(a.a.mark(function e(n){var i,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.AdminModule,s.a.instance.renderer.itemToolsRenderer.addToolboxContentsRenderers(i.adminManagers),r=i.adminRightBar,s.a.instance.renderer.rightBar=r,e.next=6,r.setReady();case 6:t();case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){alert("관리자 모듈 로드중 오류.. 동일한 현상이 반복되면 개발팀에 문의해주세요"),console.log(e),t()})})}}).call(this,n(115))},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var i=n(0),a=n.n(i),r=n(1),o=n.n(r),s=n(35),c=n.n(s),l=n(39),u=n.n(l),h=n(38),d=n.n(h),p=n(44),m=n.n(p),f=n(40),g=n.n(f),v=n(37),E=n.n(v),T=n(45),I=n(61),_=n(330),y=function(e){function t(){var e;return c()(this,t),e=u()(this,d()(t).call(this)),E()(m()(e),"actionType",T.a.ONE_TIME),E()(m()(e),"doSaveQueue",!1),E()(m()(e),"renderAuto",!1),E()(m()(e),"changeDesign",function(){return!1}),E()(m()(e),"commitAction",function(){var e=o()(a.a.mark(function e(t,n,i){var r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pages[0],300,e.next=4,_.a.renderThumbnailByMaximumSize(r,300);case 4:o=e.sent,i.leftBar.updateListItemThumbnail(I.b.getDesignInfo().getIdx(),o);case 6:case"end":return e.stop()}},e)}));return function(t,n,i){return e.apply(this,arguments)}}()),E()(m()(e),"rollbackAction",function(){}),E()(m()(e),"recycle",function(){}),e}return g()(t,e),t}(T.b)},,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return y});var i=n(35),a=n.n(i),r=n(36),o=n.n(r),s=n(39),c=n.n(s),l=n(38),u=n.n(l),h=n(44),d=n.n(h),p=n(40),m=n.n(p),f=n(37),g=n.n(f),v=n(45),E=n(82),T=n(150),I=n(62),_=n(50),y=function(e){function t(e,n,i){var r;return a()(this,t),r=c()(this,u()(t).call(this)),g()(d()(r),"actionType",v.a.COMMON_SAME_COLOR_LINK),g()(d()(r),"changeDesign",function(){return!0}),g()(d()(r),"timeout",3e3),g()(d()(r),"renderAuto",!0),g()(d()(r),"commitAction",function(e,n,i){r.doSaveQueue&&(r.changeItemsColor(r.newColor),t.renderAfter(e,n,i))}),g()(d()(r),"rollbackAction",function(e,n,i){r.changeItemsColor(r.oldColor),t.renderAfter(e,n,i)}),g()(d()(r),"recycle",function(){r.colorSetInfos=null,r.oldColor=null,r.newColor=null}),r.colorSetInfos=e,r.oldColor=n,r.newColor=i,r.commitTime=(new Date).getTime(),r.doSaveQueue=n!==i&&r.colorSetInfos.length>0,r}return m()(t,e),o()(t,[{key:"changeItemsColor",value:function(e){var n=!0,i=!1,a=void 0;try{for(var r,o=function(){var n=r.value,i=n.item;if(i instanceof E.a){var a=n;a.originColors&&a.originColors.forEach(function(t){i.props.setCurrentOriginColor(t),i.props.setColor(e),i.svgElements.changeColor(t,e)}),a.isSameOutlineColor&&i instanceof T.a&&i.props.isActiveOutline()&&i.props.setOutlineColor(e),a.isSameShadowColor&&i.props.isActiveShadow()&&i.props.setShadowColor(e)}else if(i instanceof I.b){var o=n;if(o.isSameFontColor&&!t.isTransparentColor(e)){var s=i.props.getCharsOfLines();o.targetSelPosList.forEach(function(t){s[t.row][t.col].color=e})}o.isSameBgColor&&i.props.setBackgroundColor(e),(o.isSameFontColor||o.isSameBgColor)&&i.props.updateRevision()}else if(i instanceof _.e){if(i.props.isActiveShadow())n.isSameShadowColor&&i.props.setShadowColor(e)}},s=this.colorSetInfos[Symbol.iterator]();!(n=(r=s.next()).done);n=!0)o()}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}}}],[{key:"renderAfter",value:function(e,t,n){n.renderItemTools(e,t,!1,!0)}},{key:"isTransparentColor",value:function(e){return 9===e.length&&"00"===e.substr(e.length-2,2)}}]),t}(v.b)}])]);