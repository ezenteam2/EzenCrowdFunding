(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{238:function(e,t,a){"use strict";a.d(t,"a",function(){return L});var n=a(35),r=a.n(n),i=a(39),s=a.n(i),p=a(38),u=a.n(p),c=a(44),d=a.n(c),o=a(40),l=a.n(o),h=a(37),E=a.n(h),m=a(45),g=a(42),T=a(65),y=a(87),f=a(106),L=function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,i=new Array(n),p=0;p<n;p++)i[p]=arguments[p];return a=s()(this,(e=u()(t)).call.apply(e,[this].concat(i))),E()(d()(a),"commitAction",function(e,t,a){t.mouseAction.mode=T.a.MODE_NONE,e.pages[t.renderPageIdx].getAllSingleItems().forEach(function(e){e.props.updateRevision()}),a.renderHandler(e,t,{type:y.a.WINDOW_RESIZE}),a.renderPageNavigator(e,t),t.renderDebug(),g.a.dispatch(new f.k)}),a}return l()(t,e),t}(m.d)},299:function(e,t,a){"use strict";var n,r,i,s,p,u,c=a(0),d=a.n(c),o=a(1),l=a.n(o),h=a(35),E=a.n(h),m=a(36),g=a.n(m),T=a(39),y=a.n(T),f=a(44),L=a.n(f),M=a(38),_=a.n(M),A=a(46),I=a.n(A),v=a(40),R=a.n(v),x=a(37),P=a.n(x),S=a(77),w=a(47),k=a(42),K=a(3),D=a(43),N=a(76),C=a(48),b=a(171),G=a(189);!function(e){e.STAND_SIGN="입간판"}(n||(n={})),function(e){e.SMALL="소",e.MEDIUM="중",e.LARGE="대"}(r||(r={})),a.d(t,"a",function(){return z}),a.d(t,"b",function(){return q}),function(e){e[e.ORIGINAL=0]="ORIGINAL",e[e.LARGE=3]="LARGE",e[e.MEDIUM=2]="MEDIUM",e[e.SMALL=1]="SMALL"}(i||(i={})),function(e){e.DEFAULT="DEFAULT",e.BY_DESIGN_IDX="BY_DESIGN_IDX",e.BY_DESIGNER_ID="BY_DESIGNER_ID"}(s||(s={})),function(e){e[e.TEMPLATE=1]="TEMPLATE",e[e.THEME=2]="THEME"}(p||(p={})),function(e){e.GET_DESIGN_LIST_BY_DESIGN_TYPE="get_design_list_by_design_type",e.GET_DESIGN_LIST="get_design_list",e.GET_DESIGN="get_design"}(u||(u={}));var z=function(e){function t(e){var a;return E()(this,t),a=y()(this,_()(t).call(this)),P()(L()(a),"requestMode",s.DEFAULT),a.param=e,a.addFavoriteEvent(C.a.TEMPLATE),a}var a,n,r,c,o,h;return R()(t,e),g()(t,[{key:"setKeyword",value:function(e){this.keyword=e}},{key:"setTemplateParam",value:function(e){this.templateParam=e}},{key:"getTemplateParam",value:function(){return this.templateParam}},{key:"setLinked",value:function(e){this.linked=e}},{key:"loadList",value:(h=l()(d.a.mark(function e(a,n){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initRequestMode(),e.next=3,I()(_()(t.prototype),"loadList",this).call(this,a,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(e,t){return h.apply(this,arguments)})},{key:"requestList",value:(o=l()(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.requestMode,e.next=e.t0===s.BY_DESIGN_IDX?3:e.t0===s.BY_DESIGNER_ID?6:(e.t0,s.DEFAULT,9);break;case 3:return e.next=5,this.requestListByDesignIdx(t);case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,this.requestListByDesignerId(t);case 8:return e.abrupt("return",e.sent);case 9:return e.next=11,this.requestListDefault(t);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"requestListDefault",value:(c=l()(d.a.mark(function e(a){var n,r,i,s,p,u,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=K.CRM.get(D.a.DESIGN_API_URL),e.next=3,w.ApiRequest.post(b.b,n,{data:a});case 3:return(r=e.sent).data=t.purifyURL(r.data),e.next=7,this.makeListItems(r.data);case 7:if(i=e.sent,s={items:i,totalRow:r.pagination.totalCount},i.length>0)try{p=this.getGTMLibData(),u=p.listTitle,c=p.category,N.a.sendImpressions({items:i,category:c,listTitle:u,pageNo:a.page_no,pageSize:a.page_size})}catch(e){}return e.abrupt("return",s);case 11:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"requestListByDesignIdx",value:(r=l()(d.a.mark(function e(a){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={items:[],totalRow:0},isNaN(a.designIdx)){e.next=16;break}return e.next=4,t.getBizhowsTemplate(a.designIdx,a.filter_type_by_miricanvas_link);case 4:if(!(r=e.sent)){e.next=11;break}return e.next=8,this.makeListItems([r]);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=[];case 12:e.t1=e.t0,e.t2=r?1:0,n={items:e.t1,totalRow:e.t2},this.sendImpressions(a.page,a.pageSize,n.items,"인덱스",a.designIdx);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"requestListByDesignerId",value:(n=l()(d.a.mark(function e(a){var n,r,i,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=K.CRM.get(D.a.DESIGN_API_URL),e.next=3,w.ApiRequest.post(U,n,{data:a});case 3:if(r=e.sent,i=t.purifyURL(r.data?r.data:[]),K.ArrayUtil.isEmpty(i)){e.next=11;break}return e.next=8,this.makeListItems(i);case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=[];case 12:return e.t1=e.t0,s={items:e.t1,totalRow:9999999},this.sendImpressions(a.page_no,a.page_size,s.items,"디자이너",a.designer_id),e.abrupt("return",s);case 16:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getRequestParam",value:function(e){switch(this.requestMode){case s.BY_DESIGN_IDX:return this.getRequestParamByDesignIdx(e);case s.BY_DESIGNER_ID:return this.getRequestParamByDesignerId(e);case s.DEFAULT:default:return this.getRequestParamDefault(e)}}},{key:"getRequestParamByDesignIdx",value:function(e){return{designIdx:Number(this.keyword.substr(1)),page:e.page,pageSize:e.pageSize,filter_type_by_miricanvas_link:k.a.getEnv().adminMode&&this.linked?1:0}}},{key:"getRequestParamByDesignerId",value:function(e){var t={cmd:u.GET_DESIGN_LIST,designer_id:this.keyword.substr(1),page_no:e.page,page_size:e.pageSize,active:"Y",layout_type_id:"null",ratio_id:"null",template_category1:"null",category:"null",filter_type_by_miricanvas_link:k.a.getEnv().adminMode&&this.linked?1:0};switch(this.templateParam.templateType){case p.TEMPLATE:t.layout_type_id=this.templateParam.designKey1,t.ratio_id=this.templateParam.designKey2;break;case p.THEME:t.category=this.templateParam.designKey1,t.template_category1=this.templateParam.designKey2}return t}},{key:"getRequestParamDefault",value:function(e){var t={cmd:u.GET_DESIGN_LIST_BY_DESIGN_TYPE,design_key1:this.templateParam.designKey1,design_key2:this.templateParam.designKey2,template_type_code:this.templateParam.templateType,cate_main:[261,262],block_size:99999,page_size:e.pageSize,page_no:e.page,order_by_type_code:1,in_wish_list:!1,do_not_use_solr:!0,filter_type_by_miricanvas_link:k.a.getEnv().adminMode&&this.linked?1:0,thumb_size:i.LARGE};return K.ArrayUtil.isEmpty(this.templateParam.cateFilter)||(t.cate_filter=this.templateParam.cateFilter),K.StringUtil.isEmpty(this.keyword)||(t.keyword=encodeURIComponent(this.keyword)),t}},{key:"sendImpressions",value:function(e,t,a,n,r){if(n&&r&&a.length>0)try{var i="비즈템플릿 > ".concat(n," 검색"),s="비즈템플릿>".concat(n," 검색>").concat(r);this.setGTMLibData({listTitle:i,category:s,keyword:""+r}),N.a.sendImpressions({items:a,category:s,listTitle:i,pageNo:e,pageSize:t})}catch(e){}}},{key:"initRequestMode",value:function(){if(K.StringUtil.isEmpty(this.keyword))this.requestMode=s.DEFAULT;else switch(this.keyword.charAt(0)){case"#":this.requestMode=s.BY_DESIGN_IDX;break;case"@":this.requestMode=s.BY_DESIGNER_ID;break;default:this.requestMode=s.DEFAULT}}},{key:"makeListItems",value:function(e){var t=this;return e.map(function(e){return t.param.makeListItem(e)})}},{key:"getLibType",value:function(){return S.b.BIZ_TEMPLATE}},{key:"findBizItems",value:function(e){for(var t=isNaN(e.key)?e.key:Number(e.key),a=[],n=0,r=this.items.length;n<r;n++){var i=this.items[n];i.listItemData.dropEventKey===t&&a.push({idx:n,item:i})}return a}},{key:"getGTMItemData",value:function(e){try{var a=this.findBizItems(e);if(a.length>0){var n=this.getGTMLibData(),r=n.listTitle,i=n.category,s=a[0],p=s.item,u=s.idx;return p.getEECItemData(i,r,u+1)}return I()(_()(t.prototype),"getGTMItemData",this).call(this,e)}catch(e){}}},{key:"setGTMLibDataAuto",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var t=k.a.instance.renderer.leftBar.menuMap.get("BIZ_TEMPLATE_LIB").templateTypeTool.label.innerText||"알수없음",a="비즈템플릿 > ".concat(t).concat(""!==e?":검색:"+e:""),n="비즈템플릿>".concat(t.replace(/ > /g,">"));this.setGTMLibData({listTitle:a,category:n,keyword:e})}catch(t){this.setGTMLibData({listTitle:"비즈템플릿 > 알수없음",category:"비즈템플릿>알수없음",keyword:e})}}},{key:"getKeyword",value:function(){return this.keyword}}],[{key:"getBizhowsTemplate",value:(a=l()(d.a.mark(function e(t){var a,n,r,i,s=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:-1,n={cmd:u.GET_DESIGN,designIdx:t,filter_type_by_miricanvas_link:a},r="".concat(K.CRM.get(D.a.DESIGN_API_URL),"?").concat($.param(n)),e.next=5,w.ApiRequest.get(b.a,r);case 5:if((i=e.sent).data&&i.data.designIdx){e.next=8;break}return e.abrupt("return",null);case 8:return K.ArrayUtil.isEmpty(i.data.imgUrlList)||(i.data.imgURL0=i.data.imgUrlList[0]),i.data.designTitle||(i.data.designTitle="".concat(i.data.designIdx," 번")),e.abrupt("return",i.data);case 11:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},{key:"purifyURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.forEach(function(e){e.imgURL0&&(e.imgURL0=e.imgURL0.replace(/^http:\/\//i,"https://"))}),e}}]),t}(S.a),U=function(e){function t(){return E()(this,t),y()(this,_()(t).apply(this,arguments))}return R()(t,e),g()(t,[{key:"setData",value:function(e){this.data=e.data}},{key:"getErrorMsg",value:function(){return G.a.BIZHOWS_DESIGN_API}}]),t}(w.ApiResponse);function q(){return[{name:"현수막/배너/실사출력",templateParamList:[{name:"가로 포스터형",designKey1:"poster",designKey2:"A-HORIZON",templateType:p.TEMPLATE,siteMapIdx:13843,sheetSize:{width:1260,height:891}},{name:"세로 포스터형",designKey1:"poster",designKey2:"A-VERTICAL",cateFilter:[26663],templateType:p.TEMPLATE,siteMapIdx:13843,sheetSize:{width:891,height:1260}},{name:"가로 현수막형",designKey1:"placard",designKey2:"tr_placard_hor",templateType:p.TEMPLATE,siteMapIdx:13843,sheetSize:{width:1e3,height:180}},{name:"세로 현수막형",designKey1:"placard",designKey2:"tr_placard_ver",templateType:p.TEMPLATE,siteMapIdx:13843,sheetSize:{width:180,height:1e3}},{name:"정사각 현수막형",designKey1:"placard",designKey2:"tr_placard_squ",templateType:p.TEMPLATE,siteMapIdx:13843,sheetSize:{width:800,height:800}},{name:"세로 배너형",designKey1:"banner",designKey2:"tr_banner_ver",templateType:p.TEMPLATE,siteMapIdx:13843,sheetSize:{width:200,height:600}}]},{name:"명함",templateParamList:[{name:"가로 명함",designKey1:"명함",designKey2:"tr_namecard_hor",templateType:p.THEME,siteMapIdx:14463,sheetSize:{width:940,height:540}},{name:"세로 명함",designKey1:"명함",designKey2:"tr_namecard_ver",templateType:p.THEME,siteMapIdx:14463,sheetSize:{width:540,height:940}}]},{name:"행택",templateParamList:[{name:"1:2",designKey1:"HANGTAG",designKey2:"RECT_1X2",templateType:p.THEME,siteMapIdx:26718,sheetSize:{width:400,height:800}},{name:"1:3",designKey1:"HANGTAG",designKey2:"RECT_1X3",templateType:p.THEME,siteMapIdx:26718,sheetSize:{width:200,height:600}},{name:"정사각형",designKey1:"HANGTAG",designKey2:"RECT_1X1",templateType:p.THEME,siteMapIdx:26718,sheetSize:{width:800,height:800}},{name:"원형",designKey1:"HANGTAG",designKey2:"CIRCLE_1X1",templateType:p.THEME,siteMapIdx:26718,sheetSize:{width:800,height:800}}]},{name:"포스터 / LED",templateParamList:[{name:"가로 포스터",designKey1:"poster",designKey2:"A-HORIZON",templateType:p.TEMPLATE,siteMapIdx:13871,sheetSize:{width:1260,height:891}},{name:"세로 포스터",designKey1:"poster",designKey2:"A-VERTICAL",cateFilter:[26663],templateType:p.TEMPLATE,siteMapIdx:13871,sheetSize:{width:891,height:1260}}]},{name:"봉투",templateParamList:[{name:"컬러 소봉투",designKey1:"ENVELOP-SMALL",designKey2:"ENVELOP-SMALL",templateType:p.TEMPLATE,siteMapIdx:14265,sheetSize:{width:1100,height:525}},{name:"자켓 소봉투",designKey1:"ENVELOP-SMALL-JACKET",designKey2:"ENVELOP-SMALL-JACKET",templateType:p.TEMPLATE,siteMapIdx:14265,sheetSize:{width:1100,height:725}},{name:"컬러 대봉투",designKey1:"ENVELOP-BIG",designKey2:"ENVELOP-BIG",templateType:p.TEMPLATE,siteMapIdx:14265,sheetSize:{width:1320,height:980}},{name:"티켓 봉투",designKey1:"ENVELOP-TICKET",designKey2:"ENVELOP-TICKET",templateType:p.TEMPLATE,siteMapIdx:14265,sheetSize:{width:677,height:480}}]},{name:"싱글 규격 스티커",templateParamList:[{name:"정사각형",designKey1:"STICKER-SQUARE",designKey2:"tr_placard_squ",templateType:p.TEMPLATE,siteMapIdx:17106,sheetSize:{width:800,height:800}},{name:"원형",designKey1:"STICKER-CIRCLE",designKey2:"tr_placard_squ",templateType:p.TEMPLATE,siteMapIdx:17106,sheetSize:{width:800,height:800}},{name:"직사각형",designKey1:"STICKER-RECT",designKey2:"tr_placard_squ",templateType:p.TEMPLATE,siteMapIdx:17106,sheetSize:{width:900,height:550}},{name:"타원형",designKey1:"STICKER-OVAL",designKey2:"tr_placard_squ",templateType:p.TEMPLATE,siteMapIdx:17106,sheetSize:{width:900,height:600}}]},{name:"리플렛",templateParamList:[{name:"2단 리플렛",designKey1:"리플렛-2단",designKey2:"",templateType:p.THEME,siteMapIdx:15515,sheetSize:{width:1028,height:728}},{name:"3단 리플렛",designKey1:"리플렛-3단",designKey2:"",templateType:p.THEME,siteMapIdx:15525,sheetSize:{width:1028,height:728}}]},{name:"전단지",templateParamList:[{name:"단면",designKey1:"poster",designKey2:"A-VERTICAL",cateFilter:[26664],templateType:p.TEMPLATE,siteMapIdx:14746,sheetSize:{width:891,height:1260}},{name:"양면",designKey1:"세로 포스터형",designKey2:"",cateFilter:[26664],templateType:p.THEME,siteMapIdx:14749,sheetSize:{width:891,height:1260}}]},{name:"L홀더",templateParamList:[{name:"L홀더",designKey1:"FILE",designKey2:"FILE",templateType:p.TEMPLATE,siteMapIdx:16716,sheetSize:{width:1686,height:1194}}]},{name:"티켓",templateParamList:[{name:"가로형",designKey1:"티켓-가로형",designKey2:"",templateType:p.THEME,siteMapIdx:15316,sheetSize:{width:850,height:400}},{name:"절취선 가로형",designKey1:"티켓-가로형-절취선",designKey2:"",templateType:p.THEME,siteMapIdx:15326,sheetSize:{width:850,height:450}},{name:"세로형",designKey1:"티켓-세로형",designKey2:"",templateType:p.THEME,siteMapIdx:15336,sheetSize:{width:400,height:850}},{name:"절취선 세로형",designKey1:"티켓-세로형-절취선",designKey2:"",templateType:p.THEME,siteMapIdx:15346,sheetSize:{width:450,height:850}}]},{name:"비닐봉투",templateParamList:[{name:"비닐봉투",designKey1:"PLASTIC-BAG",designKey2:"tr_placard_squ",templateType:p.TEMPLATE,siteMapIdx:14815,sheetSize:{width:680,height:1160}}]},{name:"테이블 세팅지",templateParamList:[{name:"풀컬러",designKey1:"TABLE-PAPER-A3",designKey2:"A-HORIZON",cateFilter:[26661],templateType:p.TEMPLATE,siteMapIdx:25699,sheetSize:{width:1101,height:771}}]},{name:"어깨띠",templateParamList:[{name:"어깨띠",designKey1:"",designKey2:"SHOULDER-SASH",templateType:p.THEME,siteMapIdx:18885,sheetSize:{width:60,height:900}}]},{name:"통자석 전단지",templateParamList:[{name:"원형",designKey1:"STICKER-MAGNET-CIRCLE",designKey2:"tr_placard_squ",templateType:p.TEMPLATE,siteMapIdx:18895,sheetSize:{width:800,height:800}},{name:"둥근모서리 사각형",designKey1:"STICKER-MAGNET-SQUARE-CURVED",designKey2:"A-HORIZON",templateType:p.TEMPLATE,siteMapIdx:18895,sheetSize:{width:1260,height:885}}]},{name:"자석오프너",templateParamList:[{name:"원형",designKey1:"STICKER-CIRCLE",designKey2:"tr_placard_squ",templateType:p.TEMPLATE,siteMapIdx:18875,sheetSize:{width:861,height:861}},{name:"패트형",designKey1:"STICKER-OVAL-VER",designKey2:"A-VERTICAL",templateType:p.TEMPLATE,siteMapIdx:18875,sheetSize:{width:861,height:1203}},{name:"집게형",designKey1:"STICKER-OVAL-VER",designKey2:"A-VERTICAL",templateType:p.TEMPLATE,siteMapIdx:18875,sheetSize:{width:771,height:1065}}]},{name:"종이자석 전단지",templateParamList:[{name:"양면",designKey1:"세로 포스터형",designKey2:"",cateFilter:[26665],templateType:p.THEME,siteMapIdx:14756,sheetSize:{width:1020,height:1248}},{name:"단면",designKey1:"poster",designKey2:"A-VERTICAL",cateFilter:[26665],templateType:p.TEMPLATE,siteMapIdx:14750,sheetSize:{width:1020,height:1248}}]},{name:"냅킨",templateParamList:[{name:"사각형",designKey1:"NAPKIN-SQUARE",designKey2:"1X1",templateType:p.TEMPLATE,siteMapIdx:15754,sheetSize:{width:1305,height:1305}}]},{name:n.STAND_SIGN,templateParamList:[{name:r.SMALL,designKey1:"A형 철제입간판",designKey2:"FRAME-STEEL-S",templateType:p.THEME,siteMapIdx:27647,sheetSize:{width:1134,height:1965}},{name:r.MEDIUM,designKey1:"A형 철제입간판",designKey2:"FRAME-STEEL-M",templateType:p.THEME,siteMapIdx:27647,sheetSize:{width:1323,height:2532}},{name:r.LARGE,designKey1:"A형 철제입간판",designKey2:"FRAME-STEEL-L",templateType:p.THEME,siteMapIdx:27647,sheetSize:{width:1512,height:3099}}]}]}},91:function(e,t,a){"use strict";a.d(t,"a",function(){return x});var n=a(39),r=a.n(n),i=a(38),s=a.n(i),p=a(40),u=a.n(p),c=a(0),d=a.n(c),o=a(1),l=a.n(o),h=a(35),E=a.n(h),m=a(36),g=a.n(m),T=a(37),y=a.n(T),f=a(55),L=a(3),M=a(43),_=a(128),A=a(101),I=a(52),v=a(189),R=a(47),x=function(){function e(){E()(this,e)}var t,a,n,r,i,s,p,u,c,o,h,m,T,y,v,x,S,w,k,K,D,N,C,b;return g()(e,[{key:"getTemplateSizeList",value:(b=l()(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.templateSizeList){e.next=6;break}return t=L.CRM.get(M.a.TEMPLATE_SIZE),e.next=4,R.UnicornApiRequest.get(t);case 4:a=e.sent,this.templateSizeList=a.data.list;case 6:return e.abrupt("return",this.templateSizeList);case 7:case"end":return e.stop()}},e,this)})),function(){return b.apply(this,arguments)})},{key:"getTemplateTypeList",value:(C=l()(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.templateTypeList){e.next=6;break}return t=L.CRM.get(M.a.TEMPLATE_TYPE_URL),e.next=4,R.UnicornApiRequest.get("".concat(t,"?").concat($.param({sortType:"RATIO",openType:f.c.ADMIN})));case 4:a=e.sent,this.templateTypeList=a.data.list;case 6:return e.abrupt("return",this.templateTypeList);case 7:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)})},{key:"createTemplateProject",value:(N=l()(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.CRM.get(M.a.TEMPLATE_PROJECT_CREATE),e.next=3,R.UnicornApiRequest.post(a,{traditional:!0,data:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)})),function(e){return N.apply(this,arguments)})},{key:"findTemplateProject",value:(D=l()(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.CRM.get(M.a.TEMPLATE_PROJECT_FIND_ONE).replace("${idx}",String(t)),e.next=3,R.UnicornApiRequest.get(a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)})),function(e){return D.apply(this,arguments)})},{key:"updateTemplateProject",value:(K=l()(d.a.mark(function e(t,a){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.CRM.get(M.a.TEMPLATE_PROJECT_UPDATE).replace("${idx}",String(t)),e.next=3,R.UnicornApiRequest.post(n,{traditional:!0,data:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)})),function(e,t){return K.apply(this,arguments)})},{key:"deleteTemplateProject",value:(k=l()(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.CRM.get(M.a.TEMPLATE_PROJECT_DELETE).replace("${idx}",String(t)),e.next=3,R.UnicornApiRequest.post(a);case 3:case"end":return e.stop()}},e)})),function(e){return k.apply(this,arguments)})},{key:"getTemplateProjectList",value:(w=l()(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.CRM.get(M.a.TEMPLATE_PROJECT_LIST),e.next=3,R.UnicornApiRequest.get("".concat(a,"?").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)})),function(e){return w.apply(this,arguments)})},{key:"createTemplatePageList",value:(S=l()(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.CRM.get(M.a.TEMPLATE_PROJECT_CREATE_TEMPLATE_PAGE).replace("${idx}",String(t)),e.next=3,R.UnicornApiRequest.post(n,{traditional:!0,data:JSON.stringify(a),contentType:"application/json"});case 3:case"end":return e.stop()}},e)})),function(e,t){return S.apply(this,arguments)})},{key:"getTemplatePageList",value:(x=l()(d.a.mark(function e(t,a){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.CRM.get(M.a.TEMPLATE_PROJECT_TEMPLATE_PAGE_LIST).replace("${idx}",String(t)),e.next=3,R.UnicornApiRequest.get("".concat(n,"?").concat($.param(a)));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)})),function(e,t){return x.apply(this,arguments)})},{key:"getDeletedTemplatePageList",value:(v=l()(d.a.mark(function e(t,a,n){var r,i,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=L.CRM.get(M.a.TEMPLATE_PROJECT_TEMPLATE_PAGE_LIST).replace("${idx}",String(t)),i={status:R.TemplatePageStatus.DELETED,page:1,pageSize:9999},a===n?i.ratio=a:(i.minRatio=a,i.maxRatio=n),e.next=5,R.UnicornApiRequest.get("".concat(r,"?").concat($.param(i)));case 5:return s=e.sent,e.abrupt("return",s.data);case 7:case"end":return e.stop()}},e)})),function(e,t,a){return v.apply(this,arguments)})},{key:"getTemplatePageHistory",value:(y=l()(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.CRM.get(M.a.TEMPLATE_PAGE_HISTORY).replace("${idx}",String(t)),e.next=3,P.get(a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)})),function(e){return y.apply(this,arguments)})},{key:"updateTemplatePage",value:(T=l()(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.CRM.get(M.a.TEMPLATE_PAGE_UPDATE).replace("${idx}",String(t)),e.next=3,R.UnicornApiRequest.post(n,{traditional:!0,data:a});case 3:case"end":return e.stop()}},e)})),function(e,t){return T.apply(this,arguments)})},{key:"deleteTemplatePage",value:(m=l()(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.CRM.get(M.a.TEMPLATE_PAGE_DELETE).replace("${idx}",String(t)),e.next=3,P.post(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)})),function(e){return m.apply(this,arguments)})},{key:"deleteMultiTemplatePage",value:(h=l()(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.CRM.get(M.a.TEMPLATE_PAGE_DELETE_MULTI),e.next=3,P.delete(a,{data:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)})},{key:"recoveryTemplatePage",value:(o=l()(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.CRM.get(M.a.TEMPLATE_PAGE_RECOVERY),e.next=3,P.put(a,{data:JSON.stringify(t)});case 3:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)})},{key:"findTemplatePage",value:(c=l()(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.CRM.get(M.a.TEMPLATE_PAGE_FIND_ONE).replace("${idx}",String(t)),e.next=3,P.get(a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)})},{key:"getTemplateList",value:(u=l()(d.a.mark(function e(t,a){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.CRM.get(M.a.TEMPLATE_PROJECT_TEMPLATE_LIST).replace("${idx}",String(t)),e.next=3,R.UnicornApiRequest.get("".concat(n,"?").concat($.param(a)));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)})),function(e,t){return u.apply(this,arguments)})},{key:"findTemplate",value:(p=l()(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.findOne(t);case 2:if(!(a=e.sent)){e.next=7;break}return e.next=6,this.getLinkedTemplate(t);case 6:a.linkedTemplate=e.sent;case 7:return e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)})},{key:"createTemplate",value:(s=l()(d.a.mark(function e(t,a){var n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=L.CRM.get(M.a.TEMPLATE_PROJECT_CREATE_TEMPLATE).replace("${idx}",String(t)),e.next=3,R.UnicornApiRequest.post(n,{traditional:!0,data:JSON.stringify(a),contentType:"application/json"});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)})},{key:"updateTemplate",value:(i=l()(d.a.mark(function e(t,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.update(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})},{key:"deleteTemplate",value:(r=l()(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.delete(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})},{key:"insertTemplateLink",value:(n=l()(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=A.a.from(I.a.BIZHOWS,!0).getURL(L.CRM.get(M.a.BIZ_INSERT_TEMPLATE_LINK)),e.next=3,R.ApiRequest.post(R.DefaultApiResponse,n,{data:{designIdx:a,miricanvasTemplateIdx:t}});case 3:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)})},{key:"deleteTemplateLink",value:(a=l()(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=A.a.from(I.a.BIZHOWS,!0).getURL(L.CRM.get(M.a.BIZ_DELETE_TEMPLATE_LINK)),e.next=3,R.ApiRequest.post(R.DefaultApiResponse,a,{data:{miricanvasTemplateIdx:t}});case 3:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},{key:"getLinkedTemplate",value:(t=l()(d.a.mark(function e(t){var a,n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=L.CRM.get(M.a.BIZ_LINKED_DESIGN_LIST).replace("${templateIdx}",String(t)),n=A.a.from(I.a.BIZHOWS,!0).getURL(a),e.next=4,R.ApiRequest.get(R.DefaultApiResponse,n);case 4:return r=e.sent,e.abrupt("return",L.ArrayUtil.isEmpty(r.data)?null:r.data[0]);case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),e}();y()(x,"instance",new x);var P=function(){function e(){E()(this,e)}var t,a,n,r;return g()(e,null,[{key:"get",value:(r=l()(d.a.mark(function e(t){var a,n=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",R.ApiRequest.get(S,R.UnicornApiRequest.getURL(t),a));case 2:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})},{key:"post",value:(n=l()(d.a.mark(function e(t){var a,n=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{},e.abrupt("return",R.ApiRequest.post(S,R.UnicornApiRequest.getURL(t),a));case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})},{key:"delete",value:(a=l()(d.a.mark(function e(t){var a,n=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=n.length>1&&void 0!==n[1]?n[1]:{}).contentType="application/json",e.abrupt("return",R.ApiRequest.delete(S,R.UnicornApiRequest.getURL(t),a));case 3:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},{key:"put",value:(t=l()(d.a.mark(function e(t){var a,n=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=n.length>1&&void 0!==n[1]?n[1]:{}).contentType="application/json",e.abrupt("return",R.ApiRequest.put(S,R.UnicornApiRequest.getURL(t),a));case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}]),e}(),S=function(e){function t(){return E()(this,t),r()(this,s()(t).apply(this,arguments))}return u()(t,e),g()(t,[{key:"getErrorMsg",value:function(){return v.a.TEMPLATE_MANAGEMENT_API}},{key:"makeGaData",value:function(e){return e.data}}]),t}(R.UnicornApiResponse)}}]);